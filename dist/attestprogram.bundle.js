/*! For license information please see attestprogram.bundle.js.LICENSE.txt */
(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{hasBrowserEnv:()=>ue,hasStandardBrowserEnv:()=>he,hasStandardBrowserWebWorkerEnv:()=>pe,navigator:()=>de,origin:()=>fe});var n={};function r(e,t){return function(){return e.apply(t,arguments)}}e.r(n),e.d(n,{OG:()=>Gb,My:()=>Nb,Ph:()=>Sb,lX:()=>Fb,Id:()=>Mb,fg:()=>zb,qj:()=>Lb,aT:()=>Rb,lq:()=>Ub,z:()=>Db,Q5:()=>$b});const{toString:s}=Object.prototype,{getPrototypeOf:a}=Object,i=(o=Object.create(null),e=>{const t=s.call(e);return o[t]||(o[t]=t.slice(8,-1).toLowerCase())});var o;const c=e=>(e=e.toLowerCase(),t=>i(t)===e),l=e=>t=>typeof t===e,{isArray:u}=Array,d=l("undefined"),h=c("ArrayBuffer"),p=l("string"),f=l("function"),m=l("number"),y=e=>null!==e&&"object"==typeof e,g=e=>{if("object"!==i(e))return!1;const t=a(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},b=c("Date"),w=c("File"),v=c("Blob"),A=c("FileList"),E=c("URLSearchParams"),[x,P,k,T]=["ReadableStream","Request","Response","Headers"].map(c);function B(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let r,s;if("object"!=typeof e&&(e=[e]),u(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{const s=n?Object.getOwnPropertyNames(e):Object.keys(e),a=s.length;let i;for(r=0;r<a;r++)i=s[r],t.call(null,e[i],i,e)}}function I(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,s=n.length;for(;s-- >0;)if(r=n[s],t===r.toLowerCase())return r;return null}const C="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,N=e=>!d(e)&&e!==C,O=(R="undefined"!=typeof Uint8Array&&a(Uint8Array),e=>R&&e instanceof R);var R;const S=c("HTMLFormElement"),F=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),U=c("RegExp"),D=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};B(n,((n,s)=>{let a;!1!==(a=t(n,s,e))&&(r[s]=a||n)})),Object.defineProperties(e,r)},L="abcdefghijklmnopqrstuvwxyz",M="0123456789",G={DIGIT:M,ALPHA:L,ALPHA_DIGIT:L+L.toUpperCase()+M},j=c("AsyncFunction"),H=(z="function"==typeof setImmediate,q=f(C.postMessage),z?setImmediate:q?((e,t)=>(C.addEventListener("message",(({source:n,data:r})=>{n===C&&r===e&&t.length&&t.shift()()}),!1),n=>{t.push(n),C.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e));var z,q;const $="undefined"!=typeof queueMicrotask?queueMicrotask.bind(C):"undefined"!=typeof process&&process.nextTick||H,V={isArray:u,isArrayBuffer:h,isBuffer:function(e){return null!==e&&!d(e)&&null!==e.constructor&&!d(e.constructor)&&f(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||f(e.append)&&("formdata"===(t=i(e))||"object"===t&&f(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&h(e.buffer),t},isString:p,isNumber:m,isBoolean:e=>!0===e||!1===e,isObject:y,isPlainObject:g,isReadableStream:x,isRequest:P,isResponse:k,isHeaders:T,isUndefined:d,isDate:b,isFile:w,isBlob:v,isRegExp:U,isFunction:f,isStream:e=>y(e)&&f(e.pipe),isURLSearchParams:E,isTypedArray:O,isFileList:A,forEach:B,merge:function e(){const{caseless:t}=N(this)&&this||{},n={},r=(r,s)=>{const a=t&&I(n,s)||s;g(n[a])&&g(r)?n[a]=e(n[a],r):g(r)?n[a]=e({},r):u(r)?n[a]=r.slice():n[a]=r};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&B(arguments[e],r);return n},extend:(e,t,n,{allOwnKeys:s}={})=>(B(t,((t,s)=>{n&&f(t)?e[s]=r(t,n):e[s]=t}),{allOwnKeys:s}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let s,i,o;const c={};if(t=t||{},null==e)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],r&&!r(o,e,t)||c[o]||(t[o]=e[o],c[o]=!0);e=!1!==n&&a(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:i,kindOfTest:c,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(u(e))return e;let t=e.length;if(!m(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:S,hasOwnProperty:F,hasOwnProp:F,reduceDescriptors:D,freezeMethods:e=>{D(e,((t,n)=>{if(f(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];f(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return u(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:I,global:C,isContextDefined:N,ALPHABET:G,generateString:(e=16,t=G.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&f(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(y(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const s=u(e)?[]:{};return B(e,((e,t)=>{const a=n(e,r+1);!d(a)&&(s[t]=a)})),t[r]=void 0,s}}return e};return n(e,0)},isAsyncFn:j,isThenable:e=>e&&(y(e)||f(e))&&f(e.then)&&f(e.catch),setImmediate:H,asap:$};function _(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}V.inherits(_,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:V.toJSONObject(this.config),code:this.code,status:this.status}}});const Q=_.prototype,J={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{J[e]={value:e}})),Object.defineProperties(_,J),Object.defineProperty(Q,"isAxiosError",{value:!0}),_.from=(e,t,n,r,s,a)=>{const i=Object.create(Q);return V.toFlatObject(e,i,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),_.call(i,e.message,t,n,r,s),i.cause=e,i.name=e.name,a&&Object.assign(i,a),i};const K=_;function Z(e){return V.isPlainObject(e)||V.isArray(e)}function W(e){return V.endsWith(e,"[]")?e.slice(0,-2):e}function Y(e,t,n){return e?e.concat(t).map((function(e,t){return e=W(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const X=V.toFlatObject(V,{},null,(function(e){return/^is[A-Z]/.test(e)})),ee=function(e,t,n){if(!V.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=V.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!V.isUndefined(t[e])}))).metaTokens,s=n.visitor||l,a=n.dots,i=n.indexes,o=(n.Blob||"undefined"!=typeof Blob&&Blob)&&V.isSpecCompliantForm(t);if(!V.isFunction(s))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(V.isDate(e))return e.toISOString();if(!o&&V.isBlob(e))throw new K("Blob is not supported. Use a Buffer instead.");return V.isArrayBuffer(e)||V.isTypedArray(e)?o&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function l(e,n,s){let o=e;if(e&&!s&&"object"==typeof e)if(V.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(V.isArray(e)&&function(e){return V.isArray(e)&&!e.some(Z)}(e)||(V.isFileList(e)||V.endsWith(n,"[]"))&&(o=V.toArray(e)))return n=W(n),o.forEach((function(e,r){!V.isUndefined(e)&&null!==e&&t.append(!0===i?Y([n],r,a):null===i?n:n+"[]",c(e))})),!1;return!!Z(e)||(t.append(Y(s,n,a),c(e)),!1)}const u=[],d=Object.assign(X,{defaultVisitor:l,convertValue:c,isVisitable:Z});if(!V.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!V.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),V.forEach(n,(function(n,a){!0===(!(V.isUndefined(n)||null===n)&&s.call(t,n,V.isString(a)?a.trim():a,r,d))&&e(n,r?r.concat(a):[a])})),u.pop()}}(e),t};function te(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function ne(e,t){this._pairs=[],e&&ee(e,this,t)}const re=ne.prototype;re.append=function(e,t){this._pairs.push([e,t])},re.toString=function(e){const t=e?function(t){return e.call(this,t,te)}:te;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const se=ne;function ae(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ie(e,t,n){if(!t)return e;const r=n&&n.encode||ae,s=n&&n.serialize;let a;if(a=s?s(t,n):V.isURLSearchParams(t)?t.toString():new se(t,n).toString(r),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}const oe=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){V.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},ce={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},le={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:se,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},ue="undefined"!=typeof window&&"undefined"!=typeof document,de="object"==typeof navigator&&navigator||void 0,he=ue&&(!de||["ReactNative","NativeScript","NS"].indexOf(de.product)<0),pe="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,fe=ue&&window.location.href||"http://localhost",me={...t,...le},ye=function(e){function t(e,n,r,s){let a=e[s++];if("__proto__"===a)return!0;const i=Number.isFinite(+a),o=s>=e.length;return a=!a&&V.isArray(r)?r.length:a,o?(V.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!i):(r[a]&&V.isObject(r[a])||(r[a]=[]),t(e,n,r[a],s)&&V.isArray(r[a])&&(r[a]=function(e){const t={},n=Object.keys(e);let r;const s=n.length;let a;for(r=0;r<s;r++)a=n[r],t[a]=e[a];return t}(r[a])),!i)}if(V.isFormData(e)&&V.isFunction(e.entries)){const n={};return V.forEachEntry(e,((e,r)=>{t(function(e){return V.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null},ge={transitional:ce,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,s=V.isObject(e);if(s&&V.isHTMLForm(e)&&(e=new FormData(e)),V.isFormData(e))return r?JSON.stringify(ye(e)):e;if(V.isArrayBuffer(e)||V.isBuffer(e)||V.isStream(e)||V.isFile(e)||V.isBlob(e)||V.isReadableStream(e))return e;if(V.isArrayBufferView(e))return e.buffer;if(V.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return ee(e,new me.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return me.isNode&&V.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((a=V.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return ee(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return s||r?(t.setContentType("application/json",!1),function(e){if(V.isString(e))try{return(0,JSON.parse)(e),V.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||ge.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(V.isResponse(e)||V.isReadableStream(e))return e;if(e&&V.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(e){if(n){if("SyntaxError"===e.name)throw K.from(e,K.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:me.classes.FormData,Blob:me.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};V.forEach(["delete","get","head","post","put","patch"],(e=>{ge.headers[e]={}}));const be=ge,we=V.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ve=Symbol("internals");function Ae(e){return e&&String(e).trim().toLowerCase()}function Ee(e){return!1===e||null==e?e:V.isArray(e)?e.map(Ee):String(e)}function xe(e,t,n,r,s){return V.isFunction(r)?r.call(this,t,n):(s&&(t=n),V.isString(t)?V.isString(r)?-1!==t.indexOf(r):V.isRegExp(r)?r.test(t):void 0:void 0)}class Pe{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function s(e,t,n){const s=Ae(t);if(!s)throw new Error("header name must be a non-empty string");const a=V.findKey(r,s);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=Ee(e))}const a=(e,t)=>V.forEach(e,((e,n)=>s(e,n,t)));if(V.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(V.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))a((e=>{const t={};let n,r,s;return e&&e.split("\n").forEach((function(e){s=e.indexOf(":"),n=e.substring(0,s).trim().toLowerCase(),r=e.substring(s+1).trim(),!n||t[n]&&we[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(V.isHeaders(e))for(const[t,r]of e.entries())s(r,t,n);else null!=e&&s(t,e,n);return this}get(e,t){if(e=Ae(e)){const n=V.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(V.isFunction(t))return t.call(this,e,n);if(V.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Ae(e)){const n=V.findKey(this,e);return!(!n||void 0===this[n]||t&&!xe(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function s(e){if(e=Ae(e)){const s=V.findKey(n,e);!s||t&&!xe(0,n[s],s,t)||(delete n[s],r=!0)}}return V.isArray(e)?e.forEach(s):s(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const s=t[n];e&&!xe(0,this[s],s,e,!0)||(delete this[s],r=!0)}return r}normalize(e){const t=this,n={};return V.forEach(this,((r,s)=>{const a=V.findKey(n,s);if(a)return t[a]=Ee(r),void delete t[s];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(s):String(s).trim();i!==s&&delete t[s],t[i]=Ee(r),n[i]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return V.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&V.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach((e=>n.set(e))),n}static accessor(e){const t=(this[ve]=this[ve]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=Ae(e);t[r]||(function(e,t){const n=V.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,s){return this[r].call(this,t,e,n,s)},configurable:!0})}))}(n,e),t[r]=!0)}return V.isArray(e)?e.forEach(r):r(e),this}}Pe.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),V.reduceDescriptors(Pe.prototype,(({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}})),V.freezeMethods(Pe);const ke=Pe;function Te(e,t){const n=this||be,r=t||n,s=ke.from(r.headers);let a=r.data;return V.forEach(e,(function(e){a=e.call(n,a,s.normalize(),t?t.status:void 0)})),s.normalize(),a}function Be(e){return!(!e||!e.__CANCEL__)}function Ie(e,t,n){K.call(this,null==e?"canceled":e,K.ERR_CANCELED,t,n),this.name="CanceledError"}V.inherits(Ie,K,{__CANCEL__:!0});const Ce=Ie;function Ne(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new K("Request failed with status code "+n.status,[K.ERR_BAD_REQUEST,K.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Oe=(e,t,n=3)=>{let r=0;const s=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s,a=0,i=0;return t=void 0!==t?t:1e3,function(o){const c=Date.now(),l=r[i];s||(s=c),n[a]=o,r[a]=c;let u=i,d=0;for(;u!==a;)d+=n[u++],u%=e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),c-s<t)return;const h=l&&c-l;return h?Math.round(1e3*d/h):void 0}}(50,250);return function(e,t){let n,r,s=0,a=1e3/t;const i=(t,a=Date.now())=>{s=a,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[(...e)=>{const t=Date.now(),o=t-s;o>=a?i(e,t):(n=e,r||(r=setTimeout((()=>{r=null,i(n)}),a-o)))},()=>n&&i(n)]}((n=>{const a=n.loaded,i=n.lengthComputable?n.total:void 0,o=a-r,c=s(o);r=a,e({loaded:a,total:i,progress:i?a/i:void 0,bytes:o,rate:c||void 0,estimated:c&&i&&a<=i?(i-a)/c:void 0,event:n,lengthComputable:null!=i,[t?"download":"upload"]:!0})}),n)},Re=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Se=e=>(...t)=>V.asap((()=>e(...t))),Fe=me.hasStandardBrowserEnv?function(){const e=me.navigator&&/(msie|trident)/i.test(me.navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=V.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0},Ue=me.hasStandardBrowserEnv?{write(e,t,n,r,s,a){const i=[e+"="+encodeURIComponent(t)];V.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),V.isString(r)&&i.push("path="+r),V.isString(s)&&i.push("domain="+s),!0===a&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function De(e,t){return e&&!function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Le=e=>e instanceof ke?{...e}:e;function Me(e,t){t=t||{};const n={};function r(e,t,n){return V.isPlainObject(e)&&V.isPlainObject(t)?V.merge.call({caseless:n},e,t):V.isPlainObject(t)?V.merge({},t):V.isArray(t)?t.slice():t}function s(e,t,n){return V.isUndefined(t)?V.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function a(e,t){if(!V.isUndefined(t))return r(void 0,t)}function i(e,t){return V.isUndefined(t)?V.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function o(n,s,a){return a in t?r(n,s):a in e?r(void 0,n):void 0}const c={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(e,t)=>s(Le(e),Le(t),!0)};return V.forEach(Object.keys(Object.assign({},e,t)),(function(r){const a=c[r]||s,i=a(e[r],t[r],r);V.isUndefined(i)&&a!==o||(n[r]=i)})),n}const Ge=e=>{const t=Me({},e);let n,{data:r,withXSRFToken:s,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:c}=t;if(t.headers=o=ke.from(o),t.url=ie(De(t.baseURL,t.url),e.params,e.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),V.isFormData(r))if(me.hasStandardBrowserEnv||me.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(!1!==(n=o.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];o.setContentType([e||"multipart/form-data",...t].join("; "))}if(me.hasStandardBrowserEnv&&(s&&V.isFunction(s)&&(s=s(t)),s||!1!==s&&Fe(t.url))){const e=a&&i&&Ue.read(i);e&&o.set(a,e)}return t},je="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=Ge(e);let s=r.data;const a=ke.from(r.headers).normalize();let i,o,c,l,u,{responseType:d,onUploadProgress:h,onDownloadProgress:p}=r;function f(){l&&l(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(i),r.signal&&r.signal.removeEventListener("abort",i)}let m=new XMLHttpRequest;function y(){if(!m)return;const r=ke.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());Ne((function(e){t(e),f()}),(function(e){n(e),f()}),{data:d&&"text"!==d&&"json"!==d?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=y:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(y)},m.onabort=function(){m&&(n(new K("Request aborted",K.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new K("Network Error",K.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const s=r.transitional||ce;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new K(t,s.clarifyTimeoutError?K.ETIMEDOUT:K.ECONNABORTED,e,m)),m=null},void 0===s&&a.setContentType(null),"setRequestHeader"in m&&V.forEach(a.toJSON(),(function(e,t){m.setRequestHeader(t,e)})),V.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),d&&"json"!==d&&(m.responseType=r.responseType),p&&([c,u]=Oe(p,!0),m.addEventListener("progress",c)),h&&m.upload&&([o,l]=Oe(h),m.upload.addEventListener("progress",o),m.upload.addEventListener("loadend",l)),(r.cancelToken||r.signal)&&(i=t=>{m&&(n(!t||t.type?new Ce(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(i),r.signal&&(r.signal.aborted?i():r.signal.addEventListener("abort",i)));const g=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);g&&-1===me.protocols.indexOf(g)?n(new K("Unsupported protocol "+g+":",K.ERR_BAD_REQUEST,e)):m.send(s||null)}))},He=(e,t)=>{let n,r=new AbortController;const s=function(e){if(!n){n=!0,i();const t=e instanceof Error?e:this.reason;r.abort(t instanceof K?t:new Ce(t instanceof Error?t.message:t))}};let a=t&&setTimeout((()=>{s(new K(`timeout ${t} of ms exceeded`,K.ETIMEDOUT))}),t);const i=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach((e=>{e&&(e.removeEventListener?e.removeEventListener("abort",s):e.unsubscribe(s))})),e=null)};e.forEach((e=>e&&e.addEventListener&&e.addEventListener("abort",s)));const{signal:o}=r;return o.unsubscribe=i,[o,()=>{a&&clearTimeout(a),a=null}]},ze=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,s=0;for(;s<n;)r=s+t,yield e.slice(s,r),s=r},qe=(e,t,n,r,s)=>{const a=async function*(e,t,n){for await(const r of e)yield*ze(ArrayBuffer.isView(r)?r:await n(String(r)),t)}(e,t,s);let i,o=0,c=e=>{i||(i=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await a.next();if(t)return c(),void e.close();let s=r.byteLength;if(n){let e=o+=s;n(e)}e.enqueue(new Uint8Array(r))}catch(e){throw c(e),e}},cancel:e=>(c(e),a.return())},{highWaterMark:2})},$e="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,Ve=$e&&"function"==typeof ReadableStream,_e=$e&&("function"==typeof TextEncoder?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Qe=(e,...t)=>{try{return!!e(...t)}catch(e){return!1}},Je=Ve&&Qe((()=>{let e=!1;const t=new Request(me.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),Ke=Ve&&Qe((()=>V.isReadableStream(new Response("").body))),Ze={stream:Ke&&(e=>e.body)};var We;$e&&(We=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!Ze[e]&&(Ze[e]=V.isFunction(We[e])?t=>t[e]():(t,n)=>{throw new K(`Response type '${e}' is not supported`,K.ERR_NOT_SUPPORT,n)})})));const Ye=$e&&(async e=>{let{url:t,method:n,data:r,signal:s,cancelToken:a,timeout:i,onDownloadProgress:o,onUploadProgress:c,responseType:l,headers:u,withCredentials:d="same-origin",fetchOptions:h}=Ge(e);l=l?(l+"").toLowerCase():"text";let p,f,[m,y]=s||a||i?He([s,a],i):[];const g=()=>{!p&&setTimeout((()=>{m&&m.unsubscribe()})),p=!0};let b;try{if(c&&Je&&"get"!==n&&"head"!==n&&0!==(b=await(async(e,t)=>{const n=V.toFiniteNumber(e.getContentLength());return null==n?(async e=>null==e?0:V.isBlob(e)?e.size:V.isSpecCompliantForm(e)?(await new Request(e).arrayBuffer()).byteLength:V.isArrayBufferView(e)||V.isArrayBuffer(e)?e.byteLength:(V.isURLSearchParams(e)&&(e+=""),V.isString(e)?(await _e(e)).byteLength:void 0))(t):n})(u,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(V.isFormData(r)&&(e=n.headers.get("content-type"))&&u.setContentType(e),n.body){const[e,t]=Re(b,Oe(Se(c)));r=qe(n.body,65536,e,t,_e)}}V.isString(d)||(d=d?"include":"omit");const s="credentials"in Request.prototype;f=new Request(t,{...h,signal:m,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:s?d:void 0});let a=await fetch(f);const i=Ke&&("stream"===l||"response"===l);if(Ke&&(o||i)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=a[t]}));const t=V.toFiniteNumber(a.headers.get("content-length")),[n,r]=o&&Re(t,Oe(Se(o),!0))||[];a=new Response(qe(a.body,65536,n,(()=>{r&&r(),i&&g()}),_e),e)}l=l||"text";let p=await Ze[V.findKey(Ze,l)||"text"](a,e);return!i&&g(),y&&y(),await new Promise(((t,n)=>{Ne(t,n,{data:p,headers:ke.from(a.headers),status:a.status,statusText:a.statusText,config:e,request:f})}))}catch(t){if(g(),t&&"TypeError"===t.name&&/fetch/i.test(t.message))throw Object.assign(new K("Network Error",K.ERR_NETWORK,e,f),{cause:t.cause||t});throw K.from(t,t&&t.code,e,f)}}),Xe={http:null,xhr:je,fetch:Ye};V.forEach(Xe,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));const et=e=>`- ${e}`,tt=e=>V.isFunction(e)||null===e||!1===e,nt=e=>{e=V.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let a=0;a<t;a++){let t;if(n=e[a],r=n,!tt(n)&&(r=Xe[(t=String(n)).toLowerCase()],void 0===r))throw new K(`Unknown adapter '${t}'`);if(r)break;s[t||"#"+a]=r}if(!r){const e=Object.entries(s).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));let n=t?e.length>1?"since :\n"+e.map(et).join("\n"):" "+et(e[0]):"as no adapter specified";throw new K("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function rt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ce(null,e)}function st(e){return rt(e),e.headers=ke.from(e.headers),e.data=Te.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),nt(e.adapter||be.adapter)(e).then((function(t){return rt(e),t.data=Te.call(e,e.transformResponse,t),t.headers=ke.from(t.headers),t}),(function(t){return Be(t)||(rt(e),t&&t.response&&(t.response.data=Te.call(e,e.transformResponse,t.response),t.response.headers=ke.from(t.response.headers))),Promise.reject(t)}))}const at={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{at[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const it={};at.transitional=function(e,t,n){function r(e,t){return"[Axios v1.7.5] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,s,a)=>{if(!1===e)throw new K(r(s," has been removed"+(t?" in "+t:"")),K.ERR_DEPRECATED);return t&&!it[s]&&(it[s]=!0,console.warn(r(s," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,s,a)}};const ot={assertOptions:function(e,t,n){if("object"!=typeof e)throw new K("options must be an object",K.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const a=r[s],i=t[a];if(i){const t=e[a],n=void 0===t||i(t,a,e);if(!0!==n)throw new K("option "+a+" must be "+n,K.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new K("Unknown option "+a,K.ERR_BAD_OPTION)}},validators:at},ct=ot.validators;class lt{constructor(e){this.defaults=e,this.interceptors={request:new oe,response:new oe}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t;Error.captureStackTrace?Error.captureStackTrace(t={}):t=new Error;const n=t.stack?t.stack.replace(/^.+\n/,""):"";try{e.stack?n&&!String(e.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+n):e.stack=n}catch(e){}}throw e}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=Me(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:s}=t;void 0!==n&&ot.assertOptions(n,{silentJSONParsing:ct.transitional(ct.boolean),forcedJSONParsing:ct.transitional(ct.boolean),clarifyTimeoutError:ct.transitional(ct.boolean)},!1),null!=r&&(V.isFunction(r)?t.paramsSerializer={serialize:r}:ot.assertOptions(r,{encode:ct.function,serialize:ct.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=s&&V.merge(s.common,s[t.method]);s&&V.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete s[e]})),t.headers=ke.concat(a,s);const i=[];let o=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,i.unshift(e.fulfilled,e.rejected))}));const c=[];let l;this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));let u,d=0;if(!o){const e=[st.bind(this),void 0];for(e.unshift.apply(e,i),e.push.apply(e,c),u=e.length,l=Promise.resolve(t);d<u;)l=l.then(e[d++],e[d++]);return l}u=i.length;let h=t;for(d=0;d<u;){const e=i[d++],t=i[d++];try{h=e(h)}catch(e){t.call(this,e);break}}try{l=st.call(this,h)}catch(e){return Promise.reject(e)}for(d=0,u=c.length;d<u;)l=l.then(c[d++],c[d++]);return l}getUri(e){return ie(De((e=Me(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}V.forEach(["delete","get","head","options"],(function(e){lt.prototype[e]=function(t,n){return this.request(Me(n||{},{method:e,url:t,data:(n||{}).data}))}})),V.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,s){return this.request(Me(s||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}lt.prototype[e]=t(),lt.prototype[e+"Form"]=t(!0)}));const ut=lt;class dt{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,s){n.reason||(n.reason=new Ce(e,r,s),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new dt((function(t){e=t})),cancel:e}}}const ht=dt,pt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(pt).forEach((([e,t])=>{pt[t]=e}));const ft=pt,mt=function e(t){const n=new ut(t),s=r(ut.prototype.request,n);return V.extend(s,ut.prototype,n,{allOwnKeys:!0}),V.extend(s,n,null,{allOwnKeys:!0}),s.create=function(n){return e(Me(t,n))},s}(be);mt.Axios=ut,mt.CanceledError=Ce,mt.CancelToken=ht,mt.isCancel=Be,mt.VERSION="1.7.5",mt.toFormData=ee,mt.AxiosError=K,mt.Cancel=mt.CanceledError,mt.all=function(e){return Promise.all(e)},mt.spread=function(e){return function(t){return e.apply(null,t)}},mt.isAxiosError=function(e){return V.isObject(e)&&!0===e.isAxiosError},mt.mergeConfig=Me,mt.AxiosHeaders=ke,mt.formToJSON=e=>ye(V.isHTMLForm(e)?new FormData(e):e),mt.getAdapter=nt,mt.HttpStatusCode=ft,mt.default=mt;const yt=mt;var gt;!function(e){e.testnet="https://testnet-rpc.sign.global/api",e.mainnet="https://mainnet-rpc.sign.global/api"}(gt||(gt={}));let bt=class e extends Error{constructor(t,n={}){const r=n.cause instanceof e?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof e&&n.cause.docsPath||n.docsPath;super([t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],"Version: abitype@1.0.5"].join("\n")),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}};function wt(e,t){const n=e.exec(t);return n?.groups}const vt=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,At=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Et=/^\(.+?\).*?$/,xt=/^tuple(?<array>(\[(\d*)\])*)$/;function Pt(e){let t=e.type;if(xt.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let r=0;r<n;r++)t+=Pt(e.components[r]),r<n-1&&(t+=", ");const r=wt(xt,e.type);return t+=`)${r?.array??""}`,Pt({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function kt(e){let t="";const n=e.length;for(let r=0;r<n;r++)t+=Pt(e[r]),r!==n-1&&(t+=", ");return t}const Tt=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/,Bt=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/,It=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/,Ct=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function Nt(e){return Ct.test(e)}function Ot(e){return wt(Ct,e)}const Rt=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/,St=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/,Ft=/^receive\(\) external payable$/,Ut=new Set(["indexed"]),Dt=new Set(["calldata","memory","storage"]);class Lt extends bt{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class Mt extends bt{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class Gt extends bt{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class jt extends bt{constructor({param:e,name:t}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${t}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class Ht extends bt{constructor({param:e,type:t,modifier:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${n}" not allowed${t?` in "${t}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class zt extends bt{constructor({param:e,type:t,modifier:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${n}" not allowed${t?` in "${t}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${n}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class qt extends bt{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class $t extends bt{constructor({signature:e,type:t}){super(`Invalid ${t} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class Vt extends bt{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class _t extends bt{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class Qt extends bt{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class Jt extends bt{constructor({current:e,depth:t}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${t>0?"opening":"closing"} parentheses.`],details:`Depth "${t}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}const Kt=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Zt(e,t={}){if(function(e){return It.test(e)}(e)){const n=function(e){return wt(It,e)}(e);if(!n)throw new $t({signature:e,type:"function"});const r=tn(n.parameters),s=[],a=r.length;for(let e=0;e<a;e++)s.push(en(r[e],{modifiers:Dt,structs:t,type:"function"}));const i=[];if(n.returns){const e=tn(n.returns),r=e.length;for(let n=0;n<r;n++)i.push(en(e[n],{modifiers:Dt,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:i}}if(function(e){return Bt.test(e)}(e)){const n=function(e){return wt(Bt,e)}(e);if(!n)throw new $t({signature:e,type:"event"});const r=tn(n.parameters),s=[],a=r.length;for(let e=0;e<a;e++)s.push(en(r[e],{modifiers:Ut,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}if(function(e){return Tt.test(e)}(e)){const n=function(e){return wt(Tt,e)}(e);if(!n)throw new $t({signature:e,type:"error"});const r=tn(n.parameters),s=[],a=r.length;for(let e=0;e<a;e++)s.push(en(r[e],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}if(function(e){return Rt.test(e)}(e)){const n=function(e){return wt(Rt,e)}(e);if(!n)throw new $t({signature:e,type:"constructor"});const r=tn(n.parameters),s=[],a=r.length;for(let e=0;e<a;e++)s.push(en(r[e],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}if(function(e){return St.test(e)}(e))return{type:"fallback"};if(function(e){return Ft.test(e)}(e))return{type:"receive",stateMutability:"payable"};throw new Vt({signature:e})}const Wt=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Yt=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Xt=/^u?int$/;function en(e,t){const n=function(e,t){return t?`${t}:${e}`:e}(e,t?.type);if(Kt.has(n))return Kt.get(n);const r=Et.test(e),s=wt(r?Yt:Wt,e);if(!s)throw new Gt({param:e});if(s.name&&function(e){return"address"===e||"bool"===e||"function"===e||"string"===e||"tuple"===e||vt.test(e)||At.test(e)||rn.test(e)}(s.name))throw new jt({param:e,name:s.name});const a=s.name?{name:s.name}:{},i="indexed"===s.modifier?{indexed:!0}:{},o=t?.structs??{};let c,l={};if(r){c="tuple";const e=tn(s.type),t=[],n=e.length;for(let r=0;r<n;r++)t.push(en(e[r],{structs:o}));l={components:t}}else if(s.type in o)c="tuple",l={components:o[s.type]};else if(Xt.test(s.type))c=`${s.type}256`;else if(c=s.type,"struct"!==t?.type&&!nn(c))throw new Mt({type:c});if(s.modifier){if(!t?.modifiers?.has?.(s.modifier))throw new Ht({param:e,type:t?.type,modifier:s.modifier});if(Dt.has(s.modifier)&&!function(e,t){return t||"bytes"===e||"string"===e||"tuple"===e}(c,!!s.array))throw new zt({param:e,type:t?.type,modifier:s.modifier})}const u={type:`${c}${s.array??""}`,...a,...i,...l};return Kt.set(n,u),u}function tn(e,t=[],n="",r=0){const s=e.trim().length;for(let a=0;a<s;a++){const s=e[a],i=e.slice(a+1);switch(s){case",":return 0===r?tn(i,[...t,n.trim()]):tn(i,t,`${n}${s}`,r);case"(":return tn(i,t,`${n}${s}`,r+1);case")":return tn(i,t,`${n}${s}`,r-1);default:return tn(i,t,`${n}${s}`,r)}}if(""===n)return t;if(0!==r)throw new Jt({current:n,depth:r});return t.push(n.trim()),t}function nn(e){return"address"===e||"bool"===e||"function"===e||"string"===e||vt.test(e)||At.test(e)}const rn=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/,sn=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function an(e,t,n=new Set){const r=[],s=e.length;for(let a=0;a<s;a++){const s=e[a];if(Et.test(s.type))r.push(s);else{const e=wt(sn,s.type);if(!e?.type)throw new qt({abiParameter:s});const{array:a,type:i}=e;if(i in t){if(n.has(i))throw new Qt({type:i});r.push({...s,type:`tuple${a??""}`,components:an(t[i]??[],t,new Set([...n,i]))})}else{if(!nn(i))throw new Lt({type:i});r.push(s)}}}return r}function on(e){const t=function(e){const t={},n=e.length;for(let r=0;r<n;r++){const n=e[r];if(!Nt(n))continue;const s=Ot(n);if(!s)throw new $t({signature:n,type:"struct"});const a=s.properties.split(";"),i=[],o=a.length;for(let e=0;e<o;e++){const t=a[e].trim();if(!t)continue;const n=en(t,{type:"struct"});i.push(n)}if(!i.length)throw new _t({signature:n});t[s.name]=i}const r={},s=Object.entries(t),a=s.length;for(let e=0;e<a;e++){const[n,a]=s[e];r[n]=an(a,t)}return r}(e),n=[],r=e.length;for(let s=0;s<r;s++){const r=e[s];Nt(r)||n.push(Zt(r,t))}return n}function cn(e,t,n){const r=e[t.name];if("function"==typeof r)return r;const s=e[n];return"function"==typeof s?s:n=>t(e,n)}function ln(e,{includeName:t=!1}={}){if("function"!==e.type&&"event"!==e.type&&"error"!==e.type)throw new Ln(e.type);return`${e.name}(${un(e.inputs,{includeName:t})})`}function un(e,{includeName:t=!1}={}){return e?e.map((e=>function(e,{includeName:t}){return e.type.startsWith("tuple")?`(${un(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}(e,{includeName:t}))).join(t?", ":","):""}function dn(e,{strict:t=!0}={}){return!!e&&"string"==typeof e&&(t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x"))}function hn(e){return dn(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const pn="2.21.10";let fn=pn;class mn extends Error{constructor(e,t={}){const n=t.cause instanceof mn?t.cause.details:t.cause?.message?t.cause.message:t.details,r=t.cause instanceof mn&&t.cause.docsPath||t.docsPath,s=(({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0)?.({...t,docsPath:r});super([e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...n?[`Details: ${n}`]:[],`Version: ${fn}`].join("\n"),t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=r,this.metaMessages=t.metaMessages,this.name=t.name??this.name,this.shortMessage=e,this.version=pn}walk(e){return yn(this,e)}}function yn(e,t){return t?.(e)?e:e&&"object"==typeof e&&"cause"in e?yn(e.cause,t):t?null:e}class gn extends mn{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join("\n"),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class bn extends mn{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join("\n"),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class wn extends mn{constructor({data:e,params:t,size:n}){super([`Data size of ${n} bytes is too small for given parameters.`].join("\n"),{metaMessages:[`Params: (${un(t,{includeName:!0})})`,`Data:   ${e} (${n} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=t,this.size=n}}class vn extends mn{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class An extends mn{constructor({expectedLength:e,givenLength:t,type:n}){super([`ABI encoding array length mismatch for type ${n}.`,`Expected length: ${e}`,`Given length: ${t}`].join("\n"),{name:"AbiEncodingArrayLengthMismatchError"})}}class En extends mn{constructor({expectedSize:e,value:t}){super(`Size of bytes "${t}" (bytes${hn(t)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class xn extends mn{constructor({expectedLength:e,givenLength:t}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${t}`].join("\n"),{name:"AbiEncodingLengthMismatchError"})}}class Pn extends mn{constructor(e,{docsPath:t}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join("\n"),{docsPath:t,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class kn extends mn{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class Tn extends mn{constructor(e,{docsPath:t}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join("\n"),{docsPath:t,name:"AbiEventSignatureNotFoundError"})}}class Bn extends mn{constructor(e,{docsPath:t}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join("\n"),{docsPath:t,name:"AbiEventNotFoundError"})}}class In extends mn{constructor(e,{docsPath:t}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join("\n"),{docsPath:t,name:"AbiFunctionNotFoundError"})}}class Cn extends mn{constructor(e,{docsPath:t}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join("\n"),{docsPath:t,name:"AbiFunctionOutputsNotFoundError"})}}class Nn extends mn{constructor(e,t){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${ln(e.abiItem)}\`, and`,`\`${t.type}\` in \`${ln(t.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class On extends mn{constructor({expectedSize:e,givenSize:t}){super(`Expected bytes${e}, got bytes${t}.`,{name:"BytesSizeMismatchError"})}}class Rn extends mn{constructor({abiItem:e,data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for non-indexed event parameters.`].join("\n"),{metaMessages:[`Params: (${un(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=t,this.params=n,this.size=r}}class Sn extends mn{constructor({abiItem:e,param:t}){super([`Expected a topic for indexed event parameter${t.name?` "${t.name}"`:""} on event "${ln(e,{includeName:!0})}".`].join("\n"),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class Fn extends mn{constructor(e,{docsPath:t}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join("\n"),{docsPath:t,name:"InvalidAbiEncodingType"})}}class Un extends mn{constructor(e,{docsPath:t}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join("\n"),{docsPath:t,name:"InvalidAbiDecodingType"})}}class Dn extends mn{constructor(e){super([`Value "${e}" is not a valid array.`].join("\n"),{name:"InvalidArrayError"})}}class Ln extends mn{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join("\n"),{name:"InvalidDefinitionTypeError"})}}class Mn extends mn{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}class Gn extends mn{constructor({offset:e,position:t,size:n}){super(`Slice ${"start"===t?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${n}).`,{name:"SliceOffsetOutOfBoundsError"})}}class jn extends mn{constructor({size:e,targetSize:t,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${t}).`,{name:"SizeExceedsPaddingSizeError"})}}class Hn extends mn{constructor({size:e,targetSize:t,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} is expected to be ${t} ${n} long, but is ${e} ${n} long.`,{name:"InvalidBytesLengthError"})}}function zn(e,{dir:t,size:n=32}={}){return"string"==typeof e?qn(e,{dir:t,size:n}):function(e,{dir:t,size:n=32}={}){if(null===n)return e;if(e.length>n)throw new jn({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const a="right"===t;r[a?s:n-s-1]=e[a?s:e.length-s-1]}return r}(e,{dir:t,size:n})}function qn(e,{dir:t,size:n=32}={}){if(null===n)return e;const r=e.replace("0x","");if(r.length>2*n)throw new jn({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r["right"===t?"padEnd":"padStart"](2*n,"0")}`}class $n extends mn{constructor({max:e,min:t,signed:n,size:r,value:s}){super(`Number "${s}" is not in safe ${r?`${8*r}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${t} to ${e})`:`(above ${t})`}`,{name:"IntegerOutOfRangeError"})}}class Vn extends mn{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class _n extends mn{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed ${t} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function Qn(e,{dir:t="left"}={}){let n="string"==typeof e?e.replace("0x",""):e,r=0;for(let e=0;e<n.length-1&&"0"===n["left"===t?e:n.length-e-1].toString();e++)r++;return n="left"===t?n.slice(r):n.slice(0,n.length-r),"string"==typeof e?(1===n.length&&"right"===t&&(n=`${n}0`),`0x${n.length%2==1?`0${n}`:n}`):n}function Jn(e,{size:t}){if(hn(e)>t)throw new _n({givenSize:hn(e),maxSize:t})}function Kn(e,t={}){const{signed:n}=t;t.size&&Jn(e,{size:t.size});const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2;return r<=(1n<<8n*BigInt(s)-1n)-1n?r:r-BigInt(`0x${"f".padStart(2*s,"f")}`)-1n}function Zn(e,t={}){return Number(Kn(e,t))}const Wn=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function Yn(e,t={}){return"number"==typeof e||"bigint"==typeof e?tr(e,t):"string"==typeof e?rr(e,t):"boolean"==typeof e?Xn(e,t):er(e,t)}function Xn(e,t={}){const n=`0x${Number(e)}`;return"number"==typeof t.size?(Jn(n,{size:t.size}),zn(n,{size:t.size})):n}function er(e,t={}){let n="";for(let t=0;t<e.length;t++)n+=Wn[e[t]];const r=`0x${n}`;return"number"==typeof t.size?(Jn(r,{size:t.size}),zn(r,{dir:"right",size:t.size})):r}function tr(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let a;r?a=n?(1n<<8n*BigInt(r)-1n)-1n:2n**(8n*BigInt(r))-1n:"number"==typeof e&&(a=BigInt(Number.MAX_SAFE_INTEGER));const i="bigint"==typeof a&&n?-a-1n:0;if(a&&s>a||s<i){const t="bigint"==typeof e?"n":"";throw new $n({max:a?`${a}${t}`:void 0,min:`${i}${t}`,signed:n,size:r,value:`${e}${t}`})}const o=`0x${(n&&s<0?(1n<<BigInt(8*r))+BigInt(s):s).toString(16)}`;return r?zn(o,{size:r}):o}const nr=new TextEncoder;function rr(e,t={}){return er(nr.encode(e),t)}const sr=new TextEncoder;function ar(e,t={}){return"number"==typeof e||"bigint"==typeof e?function(e,t){return cr(tr(e,t))}(e,t):"boolean"==typeof e?function(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),"number"==typeof t.size?(Jn(n,{size:t.size}),zn(n,{size:t.size})):n}(e,t):dn(e)?cr(e,t):lr(e,t)}const ir={zero:48,nine:57,A:65,F:70,a:97,f:102};function or(e){return e>=ir.zero&&e<=ir.nine?e-ir.zero:e>=ir.A&&e<=ir.F?e-(ir.A-10):e>=ir.a&&e<=ir.f?e-(ir.a-10):void 0}function cr(e,t={}){let n=e;t.size&&(Jn(n,{size:t.size}),n=zn(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,a=new Uint8Array(s);for(let e=0,t=0;e<s;e++){const n=or(r.charCodeAt(t++)),s=or(r.charCodeAt(t++));if(void 0===n||void 0===s)throw new mn(`Invalid byte sequence ("${r[t-2]}${r[t-1]}" in "${r}").`);a[e]=16*n+s}return a}function lr(e,t={}){const n=sr.encode(e);return"number"==typeof t.size?(Jn(n,{size:t.size}),zn(n,{dir:"right",size:t.size})):n}function ur(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function dr(e,...t){if(!((n=e)instanceof Uint8Array||null!=n&&"object"==typeof n&&"Uint8Array"===n.constructor.name))throw new Error("Uint8Array expected");var n;if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function hr(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function pr(e,t){dr(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const fr=BigInt(2**32-1),mr=BigInt(32);function yr(e,t=!1){return t?{h:Number(e&fr),l:Number(e>>mr&fr)}:{h:0|Number(e>>mr&fr),l:0|Number(e&fr)}}function gr(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:a,l:i}=yr(e[s],t);[n[s],r[s]]=[a,i]}return[n,r]}const br="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,wr=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),vr=(e,t)=>e<<32-t|e>>>t,Ar=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];function Er(e){for(let n=0;n<e.length;n++)e[n]=(t=e[n])<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255;var t}function xr(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),dr(e),e}class Pr{clone(){return this._cloneInto()}}function kr(e){const t=t=>e().update(xr(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Tr(e=32){if(br&&"function"==typeof br.getRandomValues)return br.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}const Br=[],Ir=[],Cr=[],Nr=BigInt(0),Or=BigInt(1),Rr=BigInt(2),Sr=BigInt(7),Fr=BigInt(256),Ur=BigInt(113);for(let e=0,t=Or,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],Br.push(2*(5*r+n)),Ir.push((e+1)*(e+2)/2%64);let s=Nr;for(let e=0;e<7;e++)t=(t<<Or^(t>>Sr)*Ur)%Fr,t&Rr&&(s^=Or<<(Or<<BigInt(e))-Or);Cr.push(s)}const[Dr,Lr]=gr(Cr,!0),Mr=(e,t,n)=>n>32?((e,t,n)=>t<<n-32|e>>>64-n)(e,t,n):((e,t,n)=>e<<n|t>>>32-n)(e,t,n),Gr=(e,t,n)=>n>32?((e,t,n)=>e<<n-32|t>>>64-n)(e,t,n):((e,t,n)=>t<<n|e>>>32-n)(e,t,n);class jr extends Pr{constructor(e,t,n,r=!1,s=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,ur(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var a;this.state=new Uint8Array(200),this.state32=(a=this.state,new Uint32Array(a.buffer,a.byteOffset,Math.floor(a.byteLength/4)))}keccak(){Ar||Er(this.state32),function(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let t=0;t<10;t++)n[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const r=(t+8)%10,s=(t+2)%10,a=n[s],i=n[s+1],o=Mr(a,i,1)^n[r],c=Gr(a,i,1)^n[r+1];for(let n=0;n<50;n+=10)e[t+n]^=o,e[t+n+1]^=c}let t=e[2],s=e[3];for(let n=0;n<24;n++){const r=Ir[n],a=Mr(t,s,r),i=Gr(t,s,r),o=Br[n];t=e[o],s=e[o+1],e[o]=a,e[o+1]=i}for(let t=0;t<50;t+=10){for(let r=0;r<10;r++)n[r]=e[t+r];for(let r=0;r<10;r++)e[t+r]^=~n[(r+2)%10]&n[(r+4)%10]}e[0]^=Dr[r],e[1]^=Lr[r]}n.fill(0)}(this.state32,this.rounds),Ar||Er(this.state32),this.posOut=0,this.pos=0}update(e){hr(this);const{blockLen:t,state:n}=this,r=(e=xr(e)).length;for(let s=0;s<r;){const a=Math.min(t-this.pos,r-s);for(let t=0;t<a;t++)n[this.pos++]^=e[s++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,128&t&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){hr(this,!1),dr(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,s=e.length;r<s;){this.posOut>=n&&this.keccak();const a=Math.min(n-this.posOut,s-r);e.set(t.subarray(this.posOut,this.posOut+a),r),this.posOut+=a,r+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return ur(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(pr(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:s,enableXOF:a}=this;return e||(e=new jr(t,n,r,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=r,e.enableXOF=a,e.destroyed=this.destroyed,e}}const Hr=(()=>kr((()=>new jr(136,1,32))))();function zr(e,t){const n=t||"hex",r=Hr(dn(e,{strict:!1})?ar(e):e);return"bytes"===n?r:Yn(r)}function qr(e){return r=function(e){let t=!0,n="",r=0,s="",a=!1;for(let i=0;i<e.length;i++){const o=e[i];if(["(",")",","].includes(o)&&(t=!0),"("===o&&r++,")"===o&&r--,t)if(0!==r)" "!==o?(s+=o,n+=o):","!==e[i-1]&&","!==n&&",("!==n&&(n="",t=!1);else if(" "===o&&["event","function",""].includes(s))s="";else if(s+=o,")"===o){a=!0;break}}if(!a)throw new mn("Unable to normalize signature.");return s}("string"==typeof(t=e)?t:"function"===(n=t).type?`function ${n.name}(${kt(n.inputs)})${n.stateMutability&&"nonpayable"!==n.stateMutability?` ${n.stateMutability}`:""}${n.outputs.length?` returns (${kt(n.outputs)})`:""}`:"event"===n.type?`event ${n.name}(${kt(n.inputs)})`:"error"===n.type?`error ${n.name}(${kt(n.inputs)})`:"constructor"===n.type?`constructor(${kt(n.inputs)})${"payable"===n.stateMutability?" payable":""}`:"fallback"===n.type?"fallback()":"receive() external payable"),zr(ar(r));var t,n,r}const $r=qr;class Vr extends mn{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}class _r extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){const e=this.keys().next().value;e&&this.delete(e)}return this}}const Qr=new _r(8192);function Jr(e,t){if(Qr.has(`${e}.${t}`))return Qr.get(`${e}.${t}`);const n=t?`${t}${e.toLowerCase()}`:e.substring(2).toLowerCase(),r=zr(lr(n),"bytes"),s=(t?n.substring(`${t}0x`.length):n).split("");for(let e=0;e<40;e+=2)r[e>>1]>>4>=8&&s[e]&&(s[e]=s[e].toUpperCase()),(15&r[e>>1])>=8&&s[e+1]&&(s[e+1]=s[e+1].toUpperCase());const a=`0x${s.join("")}`;return Qr.set(`${e}.${t}`,a),a}function Kr(e,t){if(!Yr(e,{strict:!1}))throw new Vr({address:e});return Jr(e,t)}const Zr=/^0x[a-fA-F0-9]{40}$/,Wr=new _r(8192);function Yr(e,t){const{strict:n=!0}=t??{},r=`${e}.${n}`;if(Wr.has(r))return Wr.get(r);const s=!(!Zr.test(e)||e.toLowerCase()!==e&&n&&Jr(e)!==e);return Wr.set(r,s),s}function Xr(e){return"string"==typeof e[0]?es(e):function(e){let t=0;for(const n of e)t+=n.length;const n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n}(e)}function es(e){return`0x${e.reduce(((e,t)=>e+t.replace("0x","")),"")}`}function ts(e,t,n,{strict:r}={}){return dn(e,{strict:!1})?as(e,t,n,{strict:r}):ss(e,t,n,{strict:r})}function ns(e,t){if("number"==typeof t&&t>0&&t>hn(e)-1)throw new Gn({offset:t,position:"start",size:hn(e)})}function rs(e,t,n){if("number"==typeof t&&"number"==typeof n&&hn(e)!==n-t)throw new Gn({offset:n,position:"end",size:hn(e)})}function ss(e,t,n,{strict:r}={}){ns(e,t);const s=e.slice(t,n);return r&&rs(s,t,n),s}function as(e,t,n,{strict:r}={}){ns(e,t);const s=`0x${e.replace("0x","").slice(2*(t??0),2*(n??e.length))}`;return r&&rs(s,t,n),s}function is(e,t){if(e.length!==t.length)throw new xn({expectedLength:e.length,givenLength:t.length});const n=function({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(os({param:e[r],value:t[r]}));return n}({params:e,values:t}),r=cs(n);return 0===r.length?"0x":r}function os({param:e,value:t}){const n=ls(e.type);if(n){const[r,s]=n;return function(e,{length:t,param:n}){const r=null===t;if(!Array.isArray(e))throw new Dn(e);if(!r&&e.length!==t)throw new An({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const a=[];for(let t=0;t<e.length;t++){const r=os({param:n,value:e[t]});r.dynamic&&(s=!0),a.push(r)}if(r||s){const e=cs(a);if(r){const t=tr(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?Xr([t,e]):t}}if(s)return{dynamic:!0,encoded:e}}return{dynamic:!1,encoded:Xr(a.map((({encoded:e})=>e)))}}(t,{length:r,param:{...e,type:s}})}if("tuple"===e.type)return function(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const a=t.components[s],i=os({param:a,value:e[Array.isArray(e)?s:a.name]});r.push(i),i.dynamic&&(n=!0)}return{dynamic:n,encoded:n?cs(r):Xr(r.map((({encoded:e})=>e)))}}(t,{param:e});if("address"===e.type)return function(e){if(!Yr(e))throw new Vr({address:e});return{dynamic:!1,encoded:qn(e.toLowerCase())}}(t);if("bool"===e.type)return function(e){if("boolean"!=typeof e)throw new mn(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:qn(Xn(e))}}(t);if(e.type.startsWith("uint")||e.type.startsWith("int"))return function(e,{signed:t}){return{dynamic:!1,encoded:tr(e,{size:32,signed:t})}}(t,{signed:e.type.startsWith("int")});if(e.type.startsWith("bytes"))return function(e,{param:t}){const[,n]=t.type.split("bytes"),r=hn(e);if(!n){let t=e;return r%32!=0&&(t=qn(t,{dir:"right",size:32*Math.ceil((e.length-2)/2/32)})),{dynamic:!0,encoded:Xr([qn(tr(r,{size:32})),t])}}if(r!==Number.parseInt(n))throw new En({expectedSize:Number.parseInt(n),value:e});return{dynamic:!1,encoded:qn(e,{dir:"right"})}}(t,{param:e});if("string"===e.type)return function(e){const t=rr(e),n=Math.ceil(hn(t)/32),r=[];for(let e=0;e<n;e++)r.push(qn(ts(t,32*e,32*(e+1)),{dir:"right"}));return{dynamic:!0,encoded:Xr([qn(tr(hn(t),{size:32})),...r])}}(t);throw new Fn(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function cs(e){let t=0;for(let n=0;n<e.length;n++){const{dynamic:r,encoded:s}=e[n];t+=r?32:hn(s)}const n=[],r=[];let s=0;for(let a=0;a<e.length;a++){const{dynamic:i,encoded:o}=e[a];i?(n.push(tr(t+s,{size:32})),r.push(o),s+=hn(o)):n.push(o)}return Xr([...n,...r])}function ls(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const us=e=>ts(qr(e),0,4);function ds(e){const{abi:t,args:n=[],name:r}=e,s=dn(r,{strict:!1}),a=t.filter((e=>s?"function"===e.type?us(e)===r:"event"===e.type&&$r(e)===r:"name"in e&&e.name===r));if(0===a.length)return;if(1===a.length)return a[0];let i;for(const e of a){if(!("inputs"in e))continue;if(!n||0===n.length){if(!e.inputs||0===e.inputs.length)return e;continue}if(!e.inputs)continue;if(0===e.inputs.length)continue;if(e.inputs.length!==n.length)continue;const t=n.every(((t,n)=>{const r="inputs"in e&&e.inputs[n];return!!r&&hs(t,r)}));if(t){if(i&&"inputs"in i&&i.inputs){const t=ps(e.inputs,i.inputs,n);if(t)throw new Nn({abiItem:e,type:t[0]},{abiItem:i,type:t[1]})}i=e}}return i||a[0]}function hs(e,t){const n=typeof e,r=t.type;switch(r){case"address":return Yr(e,{strict:!1});case"bool":return"boolean"===n;case"function":case"string":return"string"===n;default:return"tuple"===r&&"components"in t?Object.values(t.components).every(((t,n)=>hs(Object.values(e)[n],t))):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?"number"===n||"bigint"===n:/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?"string"===n||e instanceof Uint8Array:!!/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)&&Array.isArray(e)&&e.every((e=>hs(e,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})))}}function ps(e,t,n){for(const r in e){const s=e[r],a=t[r];if("tuple"===s.type&&"tuple"===a.type&&"components"in s&&"components"in a)return ps(s.components,a.components,n[r]);const i=[s.type,a.type];if(i.includes("address")&&i.includes("bytes20")||(i.includes("address")&&i.includes("string")||i.includes("address")&&i.includes("bytes"))&&Yr(n[r],{strict:!1}))return i}}const fs="/docs/contract/encodeEventTopics";function ms(e){const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const e=ds({abi:t,name:n});if(!e)throw new Bn(n,{docsPath:fs});s=e}if("event"!==s.type)throw new Bn(void 0,{docsPath:fs});const a=ln(s),i=$r(a);let o=[];if(r&&"inputs"in s){const e=s.inputs?.filter((e=>"indexed"in e&&e.indexed)),t=Array.isArray(r)?r:Object.values(r).length>0?e?.map((e=>r[e.name]))??[]:[];t.length>0&&(o=e?.map(((e,n)=>Array.isArray(t[n])?t[n].map(((r,s)=>ys({param:e,value:t[n][s]}))):t[n]?ys({param:e,value:t[n]}):null))??[])}return[i,...o]}function ys({param:e,value:t}){if("string"===e.type||"bytes"===e.type)return zr(ar(t));if("tuple"===e.type||e.type.match(/^(.*)\[(\d+)?\]$/))throw new Mn(e.type);return is([e],[t])}function gs(e,{method:t}){const n={};return"fallback"===e.transport.type&&e.transport.onResponse?.((({method:e,response:r,status:s,transport:a})=>{"success"===s&&t===e&&(n[r]=a.request)})),t=>n[t]||e.request}async function bs(e,t){const{address:n,abi:r,args:s,eventName:a,fromBlock:i,strict:o,toBlock:c}=t,l=gs(e,{method:"eth_newFilter"}),u=a?ms({abi:r,args:s,eventName:a}):void 0,d=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:"bigint"==typeof i?tr(i):i,toBlock:"bigint"==typeof c?tr(c):c,topics:u}]});return{abi:r,args:s,eventName:a,id:d,request:l(d),strict:Boolean(o),type:"event"}}function ws(e){return"string"==typeof e?{address:e,type:"json-rpc"}:e}const vs="/docs/contract/encodeFunctionData";function As(e){const{args:t}=e,{abi:n,functionName:r}=1===e.abi.length&&e.functionName?.startsWith("0x")?e:function(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const e=ds({abi:t,args:n,name:r});if(!e)throw new In(r,{docsPath:vs});s=e}if("function"!==s.type)throw new In(void 0,{docsPath:vs});return{abi:[s],functionName:us(ln(s))}}(e),s=n[0];return es([r,("inputs"in s&&s.inputs?is(s.inputs,t??[]):void 0)??"0x"])}const Es={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},xs={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Ps={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};class ks extends mn{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class Ts extends mn{constructor({length:e,position:t}){super(`Position \`${t}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}}class Bs extends mn{constructor({count:e,limit:t}){super(`Recursive read limit of \`${t}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}const Is={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Bs({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new Ts({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new ks({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new ks({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,255&e),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function Cs(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(Is);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function Ns(e,t={}){return void 0!==t.size&&Jn(e,{size:t.size}),Kn(er(e,t),t)}function Os(e,t={}){let n=e;if(void 0!==t.size&&(Jn(n,{size:t.size}),n=Qn(n)),n.length>1||n[0]>1)throw new Vn(n);return Boolean(n[0])}function Rs(e,t={}){return void 0!==t.size&&Jn(e,{size:t.size}),Zn(er(e,t),t)}function Ss(e,t){const n="string"==typeof t?cr(t):t,r=Cs(n);if(0===hn(n)&&e.length>0)throw new vn;if(hn(t)&&hn(t)<32)throw new wn({data:"string"==typeof t?t:er(t),params:e,size:hn(t)});let s=0;const a=[];for(let t=0;t<e.length;++t){const n=e[t];r.setPosition(s);const[i,o]=Fs(r,n,{staticPosition:0});s+=o,a.push(i)}return a}function Fs(e,t,{staticPosition:n}){const r=ls(t.type);if(r){const[s,a]=r;return function(e,t,{length:n,staticPosition:r}){if(!n){const n=r+Rs(e.readBytes(Ds)),s=n+Us;e.setPosition(n);const a=Rs(e.readBytes(Us)),i=Ls(t);let o=0;const c=[];for(let n=0;n<a;++n){e.setPosition(s+(i?32*n:o));const[r,a]=Fs(e,t,{staticPosition:s});o+=a,c.push(r)}return e.setPosition(r+32),[c,32]}if(Ls(t)){const s=r+Rs(e.readBytes(Ds)),a=[];for(let r=0;r<n;++r){e.setPosition(s+32*r);const[n]=Fs(e,t,{staticPosition:s});a.push(n)}return e.setPosition(r+32),[a,32]}let s=0;const a=[];for(let i=0;i<n;++i){const[n,i]=Fs(e,t,{staticPosition:r+s});s+=i,a.push(n)}return[a,s]}(e,{...t,type:a},{length:s,staticPosition:n})}if("tuple"===t.type)return function(e,t,{staticPosition:n}){const r=0===t.components.length||t.components.some((({name:e})=>!e)),s=r?[]:{};let a=0;if(Ls(t)){const i=n+Rs(e.readBytes(Ds));for(let n=0;n<t.components.length;++n){const o=t.components[n];e.setPosition(i+a);const[c,l]=Fs(e,o,{staticPosition:i});a+=l,s[r?n:o?.name]=c}return e.setPosition(n+32),[s,32]}for(let i=0;i<t.components.length;++i){const o=t.components[i],[c,l]=Fs(e,o,{staticPosition:n});s[r?i:o?.name]=c,a+=l}return[s,a]}(e,t,{staticPosition:n});if("address"===t.type)return function(e){return[Jr(er(ss(e.readBytes(32),-20))),32]}(e);if("bool"===t.type)return function(e){return[Os(e.readBytes(32),{size:32}),32]}(e);if(t.type.startsWith("bytes"))return function(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const t=Rs(e.readBytes(32));e.setPosition(n+t);const r=Rs(e.readBytes(32));if(0===r)return e.setPosition(n+32),["0x",32];const s=e.readBytes(r);return e.setPosition(n+32),[er(s),32]}return[er(e.readBytes(Number.parseInt(s),32)),32]}(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return function(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256"),s=e.readBytes(32);return[r>48?Ns(s,{signed:n}):Rs(s,{signed:n}),32]}(e,t);if("string"===t.type)return function(e,{staticPosition:t}){const n=t+Rs(e.readBytes(32));e.setPosition(n);const r=Rs(e.readBytes(32));if(0===r)return e.setPosition(t+32),["",32];const s=function(e,t={}){let n=e;return void 0!==t.size&&(Jn(n,{size:t.size}),n=Qn(n,{dir:"right"})),(new TextDecoder).decode(n)}(Qn(e.readBytes(r,32)));return e.setPosition(t+32),[s,32]}(e,{staticPosition:n});throw new Un(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const Us=32,Ds=32;function Ls(e){const{type:t}=e;if("string"===t)return!0;if("bytes"===t)return!0;if(t.endsWith("[]"))return!0;if("tuple"===t)return e.components?.some(Ls);const n=ls(e.type);return!(!n||!Ls({...e,type:n[1]}))}function Ms(e){const{abi:t,data:n}=e,r=ts(n,0,4);if("0x"===r)throw new vn;const s=[...t||[],xs,Ps].find((e=>"error"===e.type&&r===us(ln(e))));if(!s)throw new Pn(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:s,args:"inputs"in s&&s.inputs&&s.inputs.length>0?Ss(s.inputs,ts(n,4)):void 0,errorName:s.name}}const Gs=(e,t,n)=>JSON.stringify(e,((e,n)=>{const r="bigint"==typeof n?n.toString():n;return"function"==typeof t?t(e,r):r}),n);function js({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map(((e,n)=>`${r&&e.name?`${e.name}: `:""}${"object"==typeof t[n]?Gs(t[n]):t[n]}`)).join(", ")})`}const Hs={gwei:9,wei:18},zs={ether:-9,wei:9};function qs(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[s,a]=[n.slice(0,n.length-t),n.slice(n.length-t)];return a=a.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${a?`.${a}`:""}`}function $s(e,t="wei"){return qs(e,Hs[t])}function Vs(e,t="wei"){return qs(e,zs[t])}class _s extends mn{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class Qs extends mn{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function Js(e){return e.reduce(((e,{slot:t,value:n})=>`${e}        ${t}: ${n}\n`),"")}function Ks(e){const t=Object.entries(e).map((([e,t])=>void 0===t||!1===t?null:[e,t])).filter(Boolean),n=t.reduce(((e,[t])=>Math.max(e,t.length)),0);return t.map((([e,t])=>`  ${`${e}:`.padEnd(n+1)}  ${t}`)).join("\n")}class Zs extends mn{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join("\n"),{name:"FeeConflictError"})}}class Ws extends mn{constructor({v:e}){super(`Invalid \`v\` value "${e}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class Ys extends mn{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Ks(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class Xs extends mn{constructor({storageKey:e}){super(`Size for storage key "${e}" is invalid. Expected 32 bytes. Got ${Math.floor((e.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class ea extends mn{constructor(e,{account:t,docsPath:n,chain:r,data:s,gas:a,gasPrice:i,maxFeePerGas:o,maxPriorityFeePerGas:c,nonce:l,to:u,value:d}){const h=Ks({chain:r&&`${r?.name} (id: ${r?.id})`,from:t?.address,to:u,value:void 0!==d&&`${$s(d)} ${r?.nativeCurrency?.symbol||"ETH"}`,data:s,gas:a,gasPrice:void 0!==i&&`${Vs(i)} gwei`,maxFeePerGas:void 0!==o&&`${Vs(o)} gwei`,maxPriorityFeePerGas:void 0!==c&&`${Vs(c)} gwei`,nonce:l});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",h].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class ta extends mn{constructor({blockHash:e,blockNumber:t,blockTag:n,hash:r,index:s}){let a="Transaction";n&&void 0!==s&&(a=`Transaction at block time "${n}" at index "${s}"`),e&&void 0!==s&&(a=`Transaction at block hash "${e}" at index "${s}"`),t&&void 0!==s&&(a=`Transaction at block number "${t}" at index "${s}"`),r&&(a=`Transaction with hash "${r}"`),super(`${a} could not be found.`,{name:"TransactionNotFoundError"})}}class na extends mn{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class ra extends mn{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}class sa extends mn{constructor(e,{account:t,docsPath:n,chain:r,data:s,gas:a,gasPrice:i,maxFeePerGas:o,maxPriorityFeePerGas:c,nonce:l,to:u,value:d,stateOverride:h}){const p=t?ws(t):void 0;let f=Ks({from:p?.address,to:u,value:void 0!==d&&`${$s(d)} ${r?.nativeCurrency?.symbol||"ETH"}`,data:s,gas:a,gasPrice:void 0!==i&&`${Vs(i)} gwei`,maxFeePerGas:void 0!==o&&`${Vs(o)} gwei`,maxPriorityFeePerGas:void 0!==c&&`${Vs(c)} gwei`,nonce:l});h&&(f+=`\n${function(e){return e.reduce(((e,{address:t,...n})=>{let r=`${e}    ${t}:\n`;return n.nonce&&(r+=`      nonce: ${n.nonce}\n`),n.balance&&(r+=`      balance: ${n.balance}\n`),n.code&&(r+=`      code: ${n.code}\n`),n.state&&(r+="      state:\n",r+=Js(n.state)),n.stateDiff&&(r+="      stateDiff:\n",r+=Js(n.stateDiff)),r}),"  State Override:\n").slice(0,-1)}(h)}`),super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",f].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class aa extends mn{constructor(e,{abi:t,args:n,contractAddress:r,docsPath:s,functionName:a,sender:i}){const o=ds({abi:t,args:n,name:a}),c=o?js({abiItem:o,args:n,includeFunctionName:!1,includeName:!1}):void 0,l=Ks({address:r&&r,function:o?ln(o,{includeName:!0}):void 0,args:c&&"()"!==c&&`${[...Array(a?.length??0).keys()].map((()=>" ")).join("")}${c}`,sender:i});super(e.shortMessage||`An unknown error occurred while executing the contract function "${a}".`,{cause:e,docsPath:s,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],l&&"Contract Call:",l].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=t,this.args=n,this.cause=e,this.contractAddress=r,this.functionName=a,this.sender=i}}class ia extends mn{constructor({abi:e,data:t,functionName:n,message:r}){let s,a,i,o,c;if(t&&"0x"!==t)try{a=Ms({abi:e,data:t});const{abiItem:n,errorName:r,args:s}=a;if("Error"===r)o=s[0];else if("Panic"===r){const[e]=s;o=Es[e]}else{const e=n?ln(n,{includeName:!0}):void 0,t=n&&s?js({abiItem:n,args:s,includeFunctionName:!1,includeName:!1}):void 0;i=[e?`Error: ${e}`:"",t&&"()"!==t?`       ${[...Array(r?.length??0).keys()].map((()=>" ")).join("")}${t}`:""]}}catch(e){s=e}else r&&(o=r);s instanceof Pn&&(c=s.signature,i=[`Unable to decode signature "${c}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${c}.`]),super(o&&"execution reverted"!==o||c?[`The contract function "${n}" reverted with the following ${c?"signature":"reason"}:`,o||c].join("\n"):`The contract function "${n}" reverted.`,{cause:s,metaMessages:i,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=a,this.reason=o,this.signature=c}}class oa extends mn{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class ca extends mn{constructor({factory:e}){super("Deployment for counterfactual contract call failed"+(e?` for factory "${e}".`:""),{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class la extends mn{constructor({data:e,message:t}){super(t||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}class ua extends mn{constructor({body:e,cause:t,details:n,headers:r,status:s,url:a}){super("HTTP request failed.",{cause:t,details:n,metaMessages:[s&&`Status: ${s}`,`URL: ${a}`,e&&`Request body: ${Gs(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=r,this.status=s,this.url=a}}class da extends mn{constructor({body:e,error:t,url:n}){super("RPC Request failed.",{cause:t,details:t.message,metaMessages:[`URL: ${n}`,`Request body: ${Gs(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t.code}}class ha extends mn{constructor({body:e,url:t}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${t}`,`Request body: ${Gs(e)}`],name:"TimeoutError"})}}class pa extends mn{constructor(e,{code:t,docsPath:n,metaMessages:r,name:s,shortMessage:a}){super(a,{cause:e,docsPath:n,metaMessages:r||e?.metaMessages,name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||e.name,this.code=e instanceof da?e.code:t??-1}}class fa extends pa{constructor(e,t){super(e,t),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t.data}}class ma extends pa{constructor(e){super(e,{code:ma.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(ma,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class ya extends pa{constructor(e){super(e,{code:ya.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(ya,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class ga extends pa{constructor(e,{method:t}={}){super(e,{code:ga.code,name:"MethodNotFoundRpcError",shortMessage:`The method${t?` "${t}"`:""} does not exist / is not available.`})}}Object.defineProperty(ga,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class ba extends pa{constructor(e){super(e,{code:ba.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join("\n")})}}Object.defineProperty(ba,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class wa extends pa{constructor(e){super(e,{code:wa.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(wa,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class va extends pa{constructor(e){super(e,{code:va.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join("\n")})}}Object.defineProperty(va,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Aa extends pa{constructor(e){super(e,{code:Aa.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Aa,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Ea extends pa{constructor(e){super(e,{code:Ea.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Ea,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class xa extends pa{constructor(e){super(e,{code:xa.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(xa,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Pa extends pa{constructor(e,{method:t}={}){super(e,{code:Pa.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${t?` "${t}"`:""} is not implemented.`})}}Object.defineProperty(Pa,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class ka extends pa{constructor(e){super(e,{code:ka.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(ka,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Ta extends pa{constructor(e){super(e,{code:Ta.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Ta,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Ba extends fa{constructor(e){super(e,{code:Ba.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(Ba,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Ia extends fa{constructor(e){super(e,{code:Ia.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(Ia,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Ca extends fa{constructor(e,{method:t}={}){super(e,{code:Ca.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${t?` " ${t}"`:""}.`})}}Object.defineProperty(Ca,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Na extends fa{constructor(e){super(e,{code:Na.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Na,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Oa extends fa{constructor(e){super(e,{code:Oa.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Oa,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Ra extends fa{constructor(e){super(e,{code:Ra.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Ra,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Sa extends pa{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const Fa=3;function Ua(e,{abi:t,address:n,args:r,docsPath:s,functionName:a,sender:i}){const{code:o,data:c,message:l,shortMessage:u}=e instanceof la?e:e instanceof mn?e.walk((e=>"data"in e))||e.walk():{},d=e instanceof vn?new oa({functionName:a}):[Fa,wa.code].includes(o)&&(c||l||u)?new ia({abi:t,data:"object"==typeof c?c.data:c,functionName:a,message:u??l}):e;return new aa(d,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:a,sender:i})}function Da(e){if(0===e||1===e)return e;if(27===e)return 0;if(28===e)return 1;throw new Error("Invalid yParityOrV value")}async function La({hash:e,signature:t}){return n=await async function({hash:e,signature:t}){const n=dn(e)?e:Yn(e),{secp256k1:r}=await Promise.resolve().then((function(){return gu}));return`0x${(()=>{if("object"==typeof t&&"r"in t&&"s"in t){const{r:e,s:n,v:s,yParity:a}=t,i=Da(Number(a??s));return new r.Signature(Kn(e),Kn(n)).addRecoveryBit(i)}const e=dn(t)?t:Yn(t),n=Da(Zn(`0x${e.slice(130)}`));return r.Signature.fromCompact(e.substring(2,130)).addRecoveryBit(n)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}({hash:e,signature:t}),Jr(`0x${zr(`0x${n.substring(4)}`).substring(26)}`);var n}function Ma(e,t="hex"){const n=Ga(e),r=Cs(new Uint8Array(n.length));return n.encode(r),"hex"===t?er(r.bytes):r.bytes}function Ga(e){return Array.isArray(e)?function(e){const t=e.reduce(((e,t)=>e+t.length),0),n=ja(t);return{length:t<=55?1+t:1+n+t,encode(r){t<=55?r.pushByte(192+t):(r.pushByte(247+n),1===n?r.pushUint8(t):2===n?r.pushUint16(t):3===n?r.pushUint24(t):r.pushUint32(t));for(const{encode:t}of e)t(r)}}}(e.map((e=>Ga(e)))):function(e){const t="string"==typeof e?cr(e):e,n=ja(t.length);return{length:1===t.length&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(e){1===t.length&&t[0]<128?e.pushBytes(t):t.length<=55?(e.pushByte(128+t.length),e.pushBytes(t)):(e.pushByte(183+n),1===n?e.pushUint8(t.length):2===n?e.pushUint16(t.length):3===n?e.pushUint24(t.length):e.pushUint32(t.length),e.pushBytes(t))}}}(e)}function ja(e){if(e<256)return 1;if(e<65536)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new mn("Length is too large.")}function Ha(e){const{chainId:t,contractAddress:n,nonce:r,to:s}=e,a=zr(es(["0x05",Ma([tr(t),n,r?tr(r):"0x"])]));return"bytes"===s?cr(a):a}async function za(e){const{authorization:t,signature:n}=e;return La({hash:Ha(t),signature:n??t})}class qa extends mn{constructor(e,{account:t,docsPath:n,chain:r,data:s,gas:a,gasPrice:i,maxFeePerGas:o,maxPriorityFeePerGas:c,nonce:l,to:u,value:d}){const h=Ks({from:t?.address,to:u,value:void 0!==d&&`${$s(d)} ${r?.nativeCurrency?.symbol||"ETH"}`,data:s,gas:a,gasPrice:void 0!==i&&`${Vs(i)} gwei`,maxFeePerGas:void 0!==o&&`${Vs(o)} gwei`,maxPriorityFeePerGas:void 0!==c&&`${Vs(c)} gwei`,nonce:l});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",h].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class $a extends mn{constructor({cause:e,message:t}={}){const n=t?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${n?`with reason: ${n}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty($a,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty($a,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class Va extends mn{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${Vs(t)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(Va,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class _a extends mn{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${Vs(t)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(_a,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Qa extends mn{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(Qa,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class Ja extends mn{constructor({cause:e,nonce:t}={}){super([`Nonce provided for the transaction ${t?`(${t}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join("\n"),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(Ja,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class Ka extends mn{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(Ka,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class Za extends mn{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join("\n"),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(Za,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class Wa extends mn{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(Wa,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class Ya extends mn{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(Ya,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class Xa extends mn{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(Xa,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class ei extends mn{constructor({cause:e,maxPriorityFeePerGas:t,maxFeePerGas:n}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${t?` = ${Vs(t)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${n?` = ${Vs(n)} gwei`:""}).`].join("\n"),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(ei,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class ti extends mn{constructor({cause:e}){super(`An error occurred while executing: ${e?.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function ni(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof mn?e.walk((e=>e.code===$a.code)):e;return r instanceof mn?new $a({cause:e,message:r.details}):$a.nodeMessage.test(n)?new $a({cause:e,message:e.details}):Va.nodeMessage.test(n)?new Va({cause:e,maxFeePerGas:t?.maxFeePerGas}):_a.nodeMessage.test(n)?new _a({cause:e,maxFeePerGas:t?.maxFeePerGas}):Qa.nodeMessage.test(n)?new Qa({cause:e,nonce:t?.nonce}):Ja.nodeMessage.test(n)?new Ja({cause:e,nonce:t?.nonce}):Ka.nodeMessage.test(n)?new Ka({cause:e,nonce:t?.nonce}):Za.nodeMessage.test(n)?new Za({cause:e}):Wa.nodeMessage.test(n)?new Wa({cause:e,gas:t?.gas}):Ya.nodeMessage.test(n)?new Ya({cause:e,gas:t?.gas}):Xa.nodeMessage.test(n)?new Xa({cause:e}):ei.nodeMessage.test(n)?new ei({cause:e,maxFeePerGas:t?.maxFeePerGas,maxPriorityFeePerGas:t?.maxPriorityFeePerGas}):new ti({cause:e})}function ri(e,{format:t}){if(!t)return{};const n={};return function t(r){const s=Object.keys(r);for(const a of s)a in e&&(n[a]=e[a]),r[a]&&"object"==typeof r[a]&&!Array.isArray(r[a])&&t(r[a])}(t(e||{})),n}function si(e,t){return({exclude:n,format:r})=>({exclude:n,format:e=>{const s=t(e);if(n)for(const e of n)delete s[e];return{...s,...r(e)}},type:e})}const ai={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function ii(e){const t={};return void 0!==e.authorizationList&&(t.authorizationList=e.authorizationList.map((e=>({address:e.contractAddress,r:e.r,s:e.s,chainId:tr(e.chainId),nonce:tr(e.nonce),...void 0!==e.yParity?{yParity:tr(e.yParity)}:{},...void 0!==e.v&&void 0===e.yParity?{v:tr(e.v)}:{}})))),void 0!==e.accessList&&(t.accessList=e.accessList),void 0!==e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes),void 0!==e.blobs&&("string"!=typeof e.blobs[0]?t.blobs=e.blobs.map((e=>er(e))):t.blobs=e.blobs),void 0!==e.data&&(t.data=e.data),void 0!==e.from&&(t.from=e.from),void 0!==e.gas&&(t.gas=tr(e.gas)),void 0!==e.gasPrice&&(t.gasPrice=tr(e.gasPrice)),void 0!==e.maxFeePerBlobGas&&(t.maxFeePerBlobGas=tr(e.maxFeePerBlobGas)),void 0!==e.maxFeePerGas&&(t.maxFeePerGas=tr(e.maxFeePerGas)),void 0!==e.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=tr(e.maxPriorityFeePerGas)),void 0!==e.nonce&&(t.nonce=tr(e.nonce)),void 0!==e.to&&(t.to=e.to),void 0!==e.type&&(t.type=ai[e.type]),void 0!==e.value&&(t.value=tr(e.value)),t}const oi=si("transactionRequest",ii);function ci(e){if(e&&0!==e.length)return e.reduce(((e,{slot:t,value:n})=>{if(66!==t.length)throw new Hn({size:t.length,targetSize:66,type:"hex"});if(66!==n.length)throw new Hn({size:n.length,targetSize:66,type:"hex"});return e[t]=n,e}),{})}function li(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:a}=e,i={};if(void 0!==a&&(i.code=a),void 0!==t&&(i.balance=tr(t)),void 0!==n&&(i.nonce=tr(n)),void 0!==r&&(i.state=ci(r)),void 0!==s){if(i.state)throw new Qs;i.stateDiff=ci(s)}return i}function ui(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!Yr(n,{strict:!1}))throw new Vr({address:n});if(t[n])throw new _s({address:n});t[n]=li(r)}return t}const di=2n**256n-1n;function hi(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:a}=e,i=t?ws(t):void 0;if(i&&!Yr(i.address))throw new Vr({address:i.address});if(a&&!Yr(a))throw new Vr({address:a});if(void 0!==n&&(void 0!==r||void 0!==s))throw new Zs;if(r&&r>di)throw new Va({maxFeePerGas:r});if(s&&r&&s>r)throw new ei({maxFeePerGas:r,maxPriorityFeePerGas:s})}class pi extends mn{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class fi extends mn{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class mi extends mn{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Vs(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class yi extends mn{constructor({blockHash:e,blockNumber:t}){let n="Block";e&&(n=`Block at hash "${e}"`),t&&(n=`Block at number "${t}"`),super(`${n} could not be found.`,{name:"BlockNotFoundError"})}}const gi={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function bi(e){const t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?Zn(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?Zn(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?gi[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(t.authorizationList=e.authorizationList.map((e=>({contractAddress:e.address,r:e.r,s:e.s,chainId:Number(e.chainId),nonce:Number(e.nonce),...void 0!==e.yParity?{yParity:Number(e.yParity)}:{},...void 0!==e.v&&void 0===e.yParity?{v:Number(e.v)}:{}})))),t.yParity=(()=>{if(e.yParity)return Number(e.yParity);if("bigint"==typeof t.v){if(0n===t.v||27n===t.v)return 0;if(1n===t.v||28n===t.v)return 1;if(t.v>=35n)return t.v%2n===0n?1:0}})(),"legacy"===t.type&&(delete t.accessList,delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),"eip2930"===t.type&&(delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),"eip1559"===t.type&&delete t.maxFeePerBlobGas,t}const wi=si("transaction",bi);function vi(e){const t=e.transactions?.map((e=>"string"==typeof e?e:bi(e)));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}const Ai=si("block",vi);async function Ei(e,{blockHash:t,blockNumber:n,blockTag:r,includeTransactions:s}={}){const a=r??"latest",i=s??!1,o=void 0!==n?tr(n):void 0;let c=null;if(c=t?await e.request({method:"eth_getBlockByHash",params:[t,i]},{dedupe:!0}):await e.request({method:"eth_getBlockByNumber",params:[o||a,i]},{dedupe:Boolean(o)}),!c)throw new yi({blockHash:t,blockNumber:n});return(e.chain?.formatters?.block?.format||vi)(c)}async function xi(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function Pi(e,t){const{block:n,chain:r=e.chain,request:s}=t||{};try{const t=r?.fees?.maxPriorityFeePerGas??r?.fees?.defaultPriorityFee;if("function"==typeof t){const r=n||await cn(e,Ei,"getBlock")({}),a=await t({block:r,client:e,request:s});if(null===a)throw new Error;return a}return void 0!==t?t:Kn(await e.request({method:"eth_maxPriorityFeePerGas"}))}catch{const[t,r]=await Promise.all([n?Promise.resolve(n):cn(e,Ei,"getBlock")({}),cn(e,xi,"getGasPrice")({})]);if("bigint"!=typeof t.baseFeePerGas)throw new fi;const s=r-t.baseFeePerGas;return s<0n?0n:s}}async function ki(e,t){const{block:n,chain:r=e.chain,request:s,type:a="eip1559"}=t||{},i=await(async()=>"function"==typeof r?.fees?.baseFeeMultiplier?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):r?.fees?.baseFeeMultiplier??1.2)();if(i<1)throw new pi;const o=10**(i.toString().split(".")[1]?.length??0),c=e=>e*BigInt(Math.ceil(i*o))/BigInt(o),l=n||await cn(e,Ei,"getBlock")({});if("function"==typeof r?.fees?.estimateFeesPerGas){const t=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:c,request:s,type:a});if(null!==t)return t}if("eip1559"===a){if("bigint"!=typeof l.baseFeePerGas)throw new fi;const t="bigint"==typeof s?.maxPriorityFeePerGas?s.maxPriorityFeePerGas:await Pi(e,{block:l,chain:r,request:s}),n=c(l.baseFeePerGas);return{maxFeePerGas:s?.maxFeePerGas??n+t,maxPriorityFeePerGas:t}}return{gasPrice:s?.gasPrice??c(await cn(e,xi,"getGasPrice")({}))}}async function Ti(e,{address:t,blockTag:n="latest",blockNumber:r}){return Zn(await e.request({method:"eth_getTransactionCount",params:[t,r?tr(r):n]},{dedupe:Boolean(r)}))}function Bi(e){const{kzg:t}=e,n=e.to??("string"==typeof e.blobs[0]?"hex":"bytes"),r="string"==typeof e.blobs[0]?e.blobs.map((e=>cr(e))):e.blobs,s=[];for(const e of r)s.push(Uint8Array.from(t.blobToKzgCommitment(e)));return"bytes"===n?s:s.map((e=>er(e)))}function Ii(e){const{kzg:t}=e,n=e.to??("string"==typeof e.blobs[0]?"hex":"bytes"),r="string"==typeof e.blobs[0]?e.blobs.map((e=>cr(e))):e.blobs,s="string"==typeof e.commitments[0]?e.commitments.map((e=>cr(e))):e.commitments,a=[];for(let e=0;e<r.length;e++){const n=r[e],i=s[e];a.push(Uint8Array.from(t.computeBlobKzgProof(n,i)))}return"bytes"===n?a:a.map((e=>er(e)))}const Ci=(e,t,n)=>e&t^~e&n,Ni=(e,t,n)=>e&t^e&n^t&n;class Oi extends Pr{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=wr(this.buffer)}update(e){hr(this);const{view:t,buffer:n,blockLen:r}=this,s=(e=xr(e)).length;for(let a=0;a<s;){const i=Math.min(r-this.pos,s-a);if(i!==r)n.set(e.subarray(a,a+i),this.pos),this.pos+=i,a+=i,this.pos===r&&(this.process(t,0),this.pos=0);else{const t=wr(e);for(;r<=s-a;a+=r)this.process(t,a)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){hr(this),pr(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:s}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>r-a&&(this.process(n,0),a=0);for(let e=a;e<r;e++)t[e]=0;!function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const s=BigInt(32),a=BigInt(4294967295),i=Number(n>>s&a),o=Number(n&a),c=r?4:0,l=r?0:4;e.setUint32(t+c,i,r),e.setUint32(t+l,o,r)}(n,r-8,BigInt(8*this.length),s),this.process(n,0);const i=wr(e),o=this.outputLen;if(o%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=o/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)i.setUint32(4*e,l[e],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:s,destroyed:a,pos:i}=this;return e.length=r,e.pos=i,e.finished=s,e.destroyed=a,r%t&&e.buffer.set(n),e}}const Ri=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Si=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Fi=new Uint32Array(64);class Ui extends Oi{constructor(){super(64,32,8,!1),this.A=0|Si[0],this.B=0|Si[1],this.C=0|Si[2],this.D=0|Si[3],this.E=0|Si[4],this.F=0|Si[5],this.G=0|Si[6],this.H=0|Si[7]}get(){const{A:e,B:t,C:n,D:r,E:s,F:a,G:i,H:o}=this;return[e,t,n,r,s,a,i,o]}set(e,t,n,r,s,a,i,o){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|s,this.F=0|a,this.G=0|i,this.H=0|o}process(e,t){for(let n=0;n<16;n++,t+=4)Fi[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=Fi[e-15],n=Fi[e-2],r=vr(t,7)^vr(t,18)^t>>>3,s=vr(n,17)^vr(n,19)^n>>>10;Fi[e]=s+Fi[e-7]+r+Fi[e-16]|0}let{A:n,B:r,C:s,D:a,E:i,F:o,G:c,H:l}=this;for(let e=0;e<64;e++){const t=l+(vr(i,6)^vr(i,11)^vr(i,25))+Ci(i,o,c)+Ri[e]+Fi[e]|0,u=(vr(n,2)^vr(n,13)^vr(n,22))+Ni(n,r,s)|0;l=c,c=o,o=i,i=a+t|0,a=s,s=r,r=n,n=t+u|0}n=n+this.A|0,r=r+this.B|0,s=s+this.C|0,a=a+this.D|0,i=i+this.E|0,o=o+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(n,r,s,a,i,o,c,l)}roundClean(){Fi.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Di=kr((()=>new Ui));function Li(e){const{commitment:t,version:n=1}=e,r=e.to??("string"==typeof t?"hex":"bytes"),s=function(e){const t=Di(dn(e,{strict:!1})?ar(e):e);return t}(t);return s.set([n],0),"bytes"===r?s:er(s)}function Mi(e){const{commitments:t,version:n}=e,r=e.to??("string"==typeof t[0]?"hex":"bytes"),s=[];for(const e of t)s.push(Li({commitment:e,to:r,version:n}));return s}const Gi=32,ji=4096,Hi=Gi*ji,zi=6*Hi-1-1*ji*6,qi=1;class $i extends mn{constructor({maxSize:e,size:t}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${t} bytes`],name:"BlobSizeTooLargeError"})}}class Vi extends mn{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class _i extends mn{constructor({hash:e,size:t}){super(`Versioned hash "${e}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${t}`],name:"InvalidVersionedHashSizeError"})}}class Qi extends mn{constructor({hash:e,version:t}){super(`Versioned hash "${e}" version is invalid.`,{metaMessages:[`Expected: ${qi}`,`Received: ${t}`],name:"InvalidVersionedHashVersionError"})}}function Ji(e){const{data:t,kzg:n,to:r}=e,s=e.blobs??function(e){const t=e.to??("string"==typeof e.data?"hex":"bytes"),n="string"==typeof e.data?cr(e.data):e.data,r=hn(n);if(!r)throw new Vi;if(r>zi)throw new $i({maxSize:zi,size:r});const s=[];let a=!0,i=0;for(;a;){const e=Cs(new Uint8Array(Hi));let t=0;for(;t<ji;){const r=n.slice(i,i+(Gi-1));if(e.pushByte(0),e.pushBytes(r),r.length<31){e.pushByte(128),a=!1;break}t++,i+=31}s.push(e)}return"bytes"===t?s.map((e=>e.bytes)):s.map((e=>er(e.bytes)))}({data:t,to:r}),a=e.commitments??Bi({blobs:s,kzg:n,to:r}),i=e.proofs??Ii({blobs:s,commitments:a,kzg:n,to:r}),o=[];for(let e=0;e<s.length;e++)o.push({blob:s[e],commitment:a[e],proof:i[e]});return o}function Ki(e){if(e.type)return e.type;if(void 0!==e.authorizationList)return"eip7702";if(void 0!==e.blobs||void 0!==e.blobVersionedHashes||void 0!==e.maxFeePerBlobGas||void 0!==e.sidecars)return"eip4844";if(void 0!==e.maxFeePerGas||void 0!==e.maxPriorityFeePerGas)return"eip1559";if(void 0!==e.gasPrice)return void 0!==e.accessList?"eip2930":"legacy";throw new Ys({transaction:e})}async function Zi(e){return Zn(await e.request({method:"eth_chainId"},{dedupe:!0}))}const Wi=["blobVersionedHashes","chainId","fees","gas","nonce","type"];async function Yi(e,t){const{account:n=e.account,blobs:r,chain:s,gas:a,kzg:i,nonce:o,nonceManager:c,parameters:l=Wi,type:u}=t,d=n?ws(n):void 0,h={...t,...d?{from:d?.address}:{}};let p,f;async function m(){return p||(p=await cn(e,Ei,"getBlock")({blockTag:"latest"}),p)}async function y(){if(f)return f;if(s)return s.id;if(void 0!==t.chainId)return t.chainId;const n=await cn(e,Zi,"getChainId")({});return f=n,f}if((l.includes("blobVersionedHashes")||l.includes("sidecars"))&&r&&i){const e=Bi({blobs:r,kzg:i});if(l.includes("blobVersionedHashes")){const t=Mi({commitments:e,to:"hex"});h.blobVersionedHashes=t}if(l.includes("sidecars")){const t=Ji({blobs:r,commitments:e,proofs:Ii({blobs:r,commitments:e,kzg:i}),to:"hex"});h.sidecars=t}}if(l.includes("chainId")&&(h.chainId=await y()),l.includes("nonce")&&void 0===o&&d)if(c){const t=await y();h.nonce=await c.consume({address:d.address,chainId:t,client:e})}else h.nonce=await cn(e,Ti,"getTransactionCount")({address:d.address,blockTag:"pending"});if((l.includes("fees")||l.includes("type"))&&void 0===u)try{h.type=Ki(h)}catch{const e=await m();h.type="bigint"==typeof e?.baseFeePerGas?"eip1559":"legacy"}if(l.includes("fees"))if("legacy"!==h.type&&"eip2930"!==h.type){if(void 0===h.maxFeePerGas||void 0===h.maxPriorityFeePerGas){const n=await m(),{maxFeePerGas:r,maxPriorityFeePerGas:a}=await ki(e,{block:n,chain:s,request:h});if(void 0===t.maxPriorityFeePerGas&&t.maxFeePerGas&&t.maxFeePerGas<a)throw new mi({maxPriorityFeePerGas:a});h.maxPriorityFeePerGas=a,h.maxFeePerGas=r}}else{if(void 0!==t.maxFeePerGas||void 0!==t.maxPriorityFeePerGas)throw new fi;const n=await m(),{gasPrice:r}=await ki(e,{block:n,chain:s,request:h,type:"legacy"});h.gasPrice=r}return l.includes("gas")&&void 0===a&&(h.gas=await cn(e,eo,"estimateGas")({...h,account:d?{address:d.address,type:"json-rpc"}:void 0})),hi(h),delete h.parameters,h}async function Xi(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n?tr(n):void 0,a=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(a)}async function eo(e,t){const n=t.account??e.account,r=n?ws(n):void 0;try{const{accessList:s,authorizationList:a,blobs:i,blobVersionedHashes:o,blockNumber:c,blockTag:l,data:u,gas:d,gasPrice:h,maxFeePerBlobGas:p,maxFeePerGas:f,maxPriorityFeePerGas:m,nonce:y,value:g,stateOverride:b,...w}=await Yi(e,{...t,parameters:"local"===r?.type?void 0:["blobVersionedHashes"]}),v=(c?tr(c):void 0)||l,A=ui(b),E=await(async()=>w.to?w.to:a&&a.length>0?await za({authorization:a[0]}).catch((()=>{throw new mn("`to` is required. Could not infer from `authorizationList`")})):void 0)();hi(t);const x=e.chain?.formatters?.transactionRequest?.format,P=(x||ii)({...ri(w,{format:x}),from:r?.address,accessList:s,authorizationList:a,blobs:i,blobVersionedHashes:o,data:u,gas:d,gasPrice:h,maxFeePerBlobGas:p,maxFeePerGas:f,maxPriorityFeePerGas:m,nonce:y,to:E,value:g});function k(t){const{block:n,request:r,rpcStateOverride:s}=t;return e.request({method:"eth_estimateGas",params:s?[r,n??"latest",s]:n?[r,n]:[r]})}let T=BigInt(await k({block:v,request:P,rpcStateOverride:A}));if(a){const B=await Xi(e,{address:P.from}),I=await Promise.all(a.map((async e=>{const{contractAddress:t}=e,n=await k({block:v,request:{authorizationList:void 0,data:u,from:r?.address,to:t,value:tr(B)},rpcStateOverride:A}).catch((()=>100000n));return 2n*BigInt(n)})));T+=I.reduce(((e,t)=>e+t),0n)}return T}catch(C){throw function(e,{docsPath:t,...n}){const r=(()=>{const t=ni(e,n);return t instanceof ti?e:t})();return new qa(r,{docsPath:t,...n})}(C,{...t,account:r,chain:e.chain})}}function to(e,t){if(!Yr(e,{strict:!1}))throw new Vr({address:e});if(!Yr(t,{strict:!1}))throw new Vr({address:t});return e.toLowerCase()===t.toLowerCase()}const no="/docs/contract/decodeEventLog";function ro(e){const{abi:t,data:n,strict:r,topics:s}=e,a=r??!0,[i,...o]=s;if(!i)throw new kn({docsPath:no});const c=1===t.length?t[0]:t.find((e=>"event"===e.type&&i===$r(ln(e))));if(!c||!("name"in c)||"event"!==c.type)throw new Tn(i,{docsPath:no});const{name:l,inputs:u}=c,d=u?.some((e=>!("name"in e&&e.name)));let h=d?[]:{};const p=u.filter((e=>"indexed"in e&&e.indexed));for(let e=0;e<p.length;e++){const t=p[e],n=o[e];if(!n)throw new Sn({abiItem:c,param:t});h[d?e:t.name||e]=so({param:t,value:n})}const f=u.filter((e=>!("indexed"in e&&e.indexed)));if(f.length>0)if(n&&"0x"!==n)try{const e=Ss(f,n);if(e)if(d)h=[...h,...e];else for(let t=0;t<f.length;t++)h[f[t].name]=e[t]}catch(e){if(a){if(e instanceof wn||e instanceof Ts)throw new Rn({abiItem:c,data:n,params:f,size:hn(n)});throw e}}else if(a)throw new Rn({abiItem:c,data:"0x",params:f,size:0});return{eventName:l,args:Object.values(h).length>0?h:void 0}}function so({param:e,value:t}){return"string"===e.type||"bytes"===e.type||"tuple"===e.type||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(Ss([e],t)||[])[0]}function ao(e){const{abi:t,args:n,logs:r,strict:s=!0}=e,a=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return r.map((e=>{try{const r=t.find((t=>"event"===t.type&&e.topics[0]===$r(t)));if(!r)return null;const i=ro({...e,abi:[r],strict:s});return a&&!a.includes(i.eventName)?null:function(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function s(e,t,n){try{return"address"===e.type?to(t,n):"string"===e.type||"bytes"===e.type?zr(ar(t))===n:t===n}catch{return!1}}return Array.isArray(t)&&Array.isArray(r)?r.every(((e,r)=>{if(null===e)return!0;const a=n[r];return!!a&&(Array.isArray(e)?e:[e]).some((e=>s(a,e,t[r])))})):"object"==typeof t&&!Array.isArray(t)&&"object"==typeof r&&!Array.isArray(r)&&Object.entries(r).every((([e,r])=>{if(null===r)return!0;const a=n.find((t=>t.name===e));return!!a&&(Array.isArray(r)?r:[r]).some((n=>s(a,n,t[e])))}))}({args:i.args,inputs:r.inputs,matchArgs:n})?{...i,...e}:null}catch(t){let n,r;if(t instanceof Tn)return null;if(t instanceof Rn||t instanceof Sn){if(s)return null;n=t.abiItem.name,r=t.abiItem.inputs?.some((e=>!("name"in e&&e.name)))}return{...e,args:r?[]:{},eventName:n}}})).filter(Boolean)}function io(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function oo(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:a,events:i,args:o,strict:c}={}){const l=c??!1,u=i??(a?[a]:void 0);let d,h=[];if(u){const e=u.flatMap((e=>ms({abi:[e],eventName:e.name,args:i?void 0:o})));h=[e],a&&(h=h[0])}d=n?await e.request({method:"eth_getLogs",params:[{address:t,topics:h,blockHash:n}]}):await e.request({method:"eth_getLogs",params:[{address:t,topics:h,fromBlock:"bigint"==typeof r?tr(r):r,toBlock:"bigint"==typeof s?tr(s):s}]});const p=d.map((e=>io(e)));return u?ao({abi:u,args:o,logs:p,strict:l}):p}async function co(e,t){const{abi:n,address:r,args:s,blockHash:a,eventName:i,fromBlock:o,toBlock:c,strict:l}=t,u=i?ds({abi:n,name:i}):void 0,d=u?void 0:n.filter((e=>"event"===e.type));return cn(e,oo,"getLogs")({address:r,args:s,blockHash:a,event:u,events:d,fromBlock:o,toBlock:c,strict:l})}const lo="/docs/contract/decodeFunctionResult";function uo(e){const{abi:t,args:n,functionName:r,data:s}=e;let a=t[0];if(r){const e=ds({abi:t,args:n,name:r});if(!e)throw new In(r,{docsPath:lo});a=e}if("function"!==a.type)throw new In(void 0,{docsPath:lo});if(!a.outputs)throw new Cn(a.name,{docsPath:lo});const i=Ss(a.outputs,s);return i&&i.length>1?i:i&&1===i.length?i[0]:void 0}const ho=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],po=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],fo=[...po,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],mo=[...po,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],yo=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],go=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],bo=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"}],wo="0x82ad56cb",vo="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",Ao="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",Eo="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";class xo extends mn{constructor({blockNumber:e,chain:t,contract:n}){super(`Chain "${t.name}" does not support contract "${n.name}".`,{metaMessages:["This could be due to any of the following:",...e&&n.blockCreated&&n.blockCreated>e?[`- The contract "${n.name}" was not deployed until block ${n.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${n.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class Po extends mn{constructor({chain:e,currentChainId:t}){super(`The current chain of the wallet (id: ${t}) does not match the target chain for the transaction (id: ${e.id}  ${e.name}).`,{metaMessages:[`Current Chain ID:  ${t}`,`Expected Chain ID: ${e.id}  ${e.name}`],name:"ChainMismatchError"})}}class ko extends mn{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join("\n"),{name:"ChainNotFoundError"})}}class To extends mn{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class Bo extends mn{constructor({chainId:e}){super("number"==typeof e?`Chain ID "${e}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}const Io="/docs/contract/encodeDeployData";function Co(e){const{abi:t,args:n,bytecode:r}=e;if(!n||0===n.length)return r;const s=t.find((e=>"type"in e&&"constructor"===e.type));if(!s)throw new gn({docsPath:Io});if(!("inputs"in s))throw new bn({docsPath:Io});if(!s.inputs||0===s.inputs.length)throw new bn({docsPath:Io});return es([r,is(s.inputs,n)])}function No({blockNumber:e,chain:t,contract:n}){const r=t?.contracts?.[n];if(!r)throw new xo({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new xo({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}const Oo=new Map;function Ro({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const a=async()=>{const t=o();i();const n=t.map((({args:e})=>e));0!==n.length&&e(n).then((e=>{s&&Array.isArray(e)&&e.sort(s);for(let n=0;n<t.length;n++){const{pendingPromise:r}=t[n];r.resolve?.([e[n],e])}})).catch((e=>{for(let n=0;n<t.length;n++){const{pendingPromise:r}=t[n];r.reject?.(e)}}))},i=()=>Oo.delete(t),o=()=>Oo.get(t)||[],c=e=>Oo.set(t,[...o(),e]);return{flush:i,async schedule(e){const t={},s=new Promise(((e,n)=>{t.resolve=e,t.reject=n})),i=n?.([...o().map((({args:e})=>e)),e]);return i&&a(),o().length>0?(c({args:e,pendingPromise:t}),s):(c({args:e,pendingPromise:t}),setTimeout(a,r),s)}}}async function So(e,t){const{account:n=e.account,batch:r=Boolean(e.batch?.multicall),blockNumber:s,blockTag:a="latest",accessList:i,blobs:o,code:c,data:l,factory:u,factoryData:d,gas:h,gasPrice:p,maxFeePerBlobGas:f,maxFeePerGas:m,maxPriorityFeePerGas:y,nonce:g,to:b,value:w,stateOverride:v,...A}=t,E=n?ws(n):void 0;if(c&&(u||d))throw new mn("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(c&&b)throw new mn("Cannot provide both `code` & `to` as parameters.");const x=c&&l,P=u&&d&&b&&l,k=x||P,T=x?function(e){const{code:t,data:n}=e;return Co({abi:on(["constructor(bytes, bytes)"]),bytecode:vo,args:[t,n]})}({code:c,data:l}):P?function(e){const{data:t,factory:n,factoryData:r,to:s}=e;return Co({abi:on(["constructor(address, bytes, address, bytes)"]),bytecode:Ao,args:[s,t,n,r]})}({data:l,factory:u,factoryData:d,to:b}):l;try{hi(t);const n=(s?tr(s):void 0)||a,c=ui(v),l=e.chain?.formatters?.transactionRequest?.format,u=(l||ii)({...ri(A,{format:l}),from:E?.address,accessList:i,blobs:o,data:T,gas:h,gasPrice:p,maxFeePerBlobGas:f,maxFeePerGas:m,maxPriorityFeePerGas:y,nonce:g,to:k?void 0:b,value:w});if(r&&function({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(wo)||!n||Object.values(r).filter((e=>void 0!==e)).length>0)}({request:u})&&!c)try{return await async function(e,t){const{batchSize:n=1024,wait:r=0}="object"==typeof e.batch?.multicall?e.batch.multicall:{},{blockNumber:s,blockTag:a="latest",data:i,multicallAddress:o,to:c}=t;let l=o;if(!l){if(!e.chain)throw new To;l=No({blockNumber:s,chain:e.chain,contract:"multicall3"})}const u=(s?tr(s):void 0)||a,{schedule:d}=Ro({id:`${e.uid}.${u}`,wait:r,shouldSplitBatch(e){const t=e.reduce(((e,{data:t})=>e+(t.length-2)),0);return t>2*n},fn:async t=>{const n=t.map((e=>({allowFailure:!0,callData:e.data,target:e.to}))),r=As({abi:ho,args:[n],functionName:"aggregate3"}),s=await e.request({method:"eth_call",params:[{data:r,to:l},u]});return uo({abi:ho,args:[n],functionName:"aggregate3",data:s||"0x"})}}),[{returnData:h,success:p}]=await d({data:i,to:c});if(!p)throw new la({data:h});return"0x"===h?{data:void 0}:{data:h}}(e,{...u,blockNumber:s,blockTag:a})}catch(e){if(!(e instanceof To||e instanceof xo))throw e}const d=await e.request({method:"eth_call",params:c?[u,n,c]:[u,n]});return"0x"===d?{data:void 0}:{data:d}}catch(n){const r=function(e){if(!(e instanceof mn))return;const t=e.walk();return"object"==typeof t?.data?t.data?.data:t.data}(n),{offchainLookup:s,offchainLookupSignature:a}=await Promise.resolve().then((function(){return Hc}));if(!1!==e.ccipRead&&r?.slice(0,10)===a&&b)return{data:await s(e,{data:r,to:b})};if(k&&"0x101bb98d"===r?.slice(0,10))throw new ca({factory:u});throw function(e,{docsPath:t,...n}){const r=(()=>{const t=ni(e,n);return t instanceof ti?e:t})();return new sa(r,{docsPath:t,...n})}(n,{...t,account:E,chain:e.chain})}}async function Fo(e,t){const{abi:n,address:r,args:s,functionName:a,...i}=t,o=As({abi:n,args:s,functionName:a});try{const{data:t}=await cn(e,So,"call")({...i,data:o,to:r});return uo({abi:n,args:s,functionName:a,data:t||"0x"})}catch(e){throw Ua(e,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:a})}}const Uo=new Map,Do=new Map;let Lo=0;function Mo(e,t,n){const r=++Lo,s=()=>Uo.get(e)||[],a=()=>{const t=Do.get(e);1===s().length&&t&&t(),(()=>{const t=s();Uo.set(e,t.filter((e=>e.id!==r)))})()},i=s();if(Uo.set(e,[...i,{id:r,fns:t}]),i&&i.length>0)return a;const o={};for(const e in t)o[e]=(...t)=>{const n=s();if(0!==n.length)for(const r of n)r.fns[e]?.(...t)};const c=n(o);return"function"==typeof c&&Do.set(e,c),a}async function Go(e){return new Promise((t=>setTimeout(t,e)))}function jo(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const a=()=>s=!1;return(async()=>{let i;t&&(i=await e({unpoll:a}));const o=await(n?.(i))??r;await Go(o);const c=async()=>{s&&(await e({unpoll:a}),await Go(r),c())};c()})(),a}const Ho=new Map,zo=new Map;const qo=e=>`blockNumber.${e}`;async function $o(e,{cacheTime:t=e.cacheTime}={}){const n=await async function(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=function(e){const t=(e,t)=>({clear:()=>t.delete(e),get:()=>t.get(e),set:n=>t.set(e,n)}),n=t(e,Ho),r=t(e,zo);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}(t),s=r.response.get();if(s&&n>0&&(new Date).getTime()-s.created.getTime()<n)return s.data;let a=r.promise.get();a||(a=e(),r.promise.set(a));try{const e=await a;return r.response.set({created:new Date,data:e}),e}finally{r.promise.clear()}}((()=>e.request({method:"eth_blockNumber"})),{cacheKey:qo(e.uid),cacheTime:t});return BigInt(n)}async function Vo(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if("string"==typeof r[0])return r;const s=r.map((e=>io(e)));return"abi"in t&&t.abi?ao({abi:t.abi,logs:s,strict:n}):s}async function _o(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}class Qo extends mn{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join("\n"),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class Jo extends mn{constructor({docsPath:e,metaMessages:t,type:n}){super(`Account type "${n}" is not supported.`,{docsPath:e,metaMessages:t,name:"AccountTypeNotSupportedError"})}}function Ko({chain:e,currentChainId:t}){if(!e)throw new ko;if(t!==e.id)throw new Po({chain:e,currentChainId:t})}async function Zo(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}async function Wo(e,t){const{account:n=e.account,chain:r=e.chain,accessList:s,authorizationList:a,blobs:i,data:o,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:p,value:f,...m}=t;if(!n)throw new Qo({docsPath:"/docs/actions/wallet/sendTransaction"});const y=ws(n);try{hi(t);const n=await(async()=>t.to?t.to:a&&a.length>0?await za({authorization:a[0]}).catch((()=>{throw new mn("`to` is required. Could not infer from `authorizationList`.")})):void 0)();if("json-rpc"===y.type){let t;null!==r&&(t=await cn(e,Zi,"getChainId")({}),Ko({currentChainId:t,chain:r}));const g=e.chain?.formatters?.transactionRequest?.format,b=(g||ii)({...ri(m,{format:g}),accessList:s,authorizationList:a,blobs:i,chainId:t,data:o,from:y.address,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:p,to:n,value:f});return await e.request({method:"eth_sendTransaction",params:[b]},{retryCount:0})}if("local"===y.type){const t=await cn(e,Yi,"prepareTransactionRequest")({account:y,accessList:s,authorizationList:a,blobs:i,chain:r,data:o,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:p,nonceManager:y.nonceManager,parameters:[...Wi,"sidecars"],value:f,...m,to:n}),g=r?.serializers?.transaction,b=await y.signTransaction(t,{serializer:g});return await cn(e,Zo,"sendRawTransaction")({serializedTransaction:b})}if("smart"===y.type)throw new Jo({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"});throw new Jo({docsPath:"/docs/actions/wallet/sendTransaction",type:y.type})}catch(e){if(e instanceof Jo)throw e;throw function(e,{docsPath:t,...n}){const r=(()=>{const t=ni(e,n);return t instanceof ti?e:t})();return new ea(r,{docsPath:t,...n})}(e,{...t,account:y,chain:t.chain||void 0})}}class Yo extends mn{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}const Xo=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}],ec=256;let tc,nc=ec;function rc(e=11){if(!tc||nc+e>2*ec){tc="",nc=0;for(let e=0;e<ec;e++)tc+=(256+256*Math.random()|0).toString(16).substring(1)}return tc.substring(nc,nc+++e)}function sc(e){const{batch:t,cacheTime:n=e.pollingInterval??4e3,ccipRead:r,key:s="base",name:a="Base Client",pollingInterval:i=4e3,type:o="base"}=e,c=e.chain,l=e.account?ws(e.account):void 0,{config:u,request:d,value:h}=e.transport({chain:c,pollingInterval:i}),p={account:l,batch:t,cacheTime:n,ccipRead:r,chain:c,key:s,name:a,pollingInterval:i,request:d,transport:{...u,...h},type:o,uid:rc()};return Object.assign(p,{extend:function e(t){return n=>{const r=n(t);for(const e in p)delete r[e];const s={...t,...r};return Object.assign(s,{extend:e(s)})}}(p)})}const ac=new _r(8192);function ic(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise(((s,a)=>{const i=async({count:o=0}={})=>{try{const t=await e();s(t)}catch(e){if(o<n&&await r({count:o,error:e}))return(async({error:e})=>{const n="function"==typeof t?t({count:o,error:e}):t;n&&await Go(n),i({count:o+1})})({error:e});a(e)}};i()}))}function oc(e,t={}){return async(n,r={})=>{const{dedupe:s=!1,retryDelay:a=150,retryCount:i=3,uid:o}={...t,...r};return function(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(ac.get(n))return ac.get(n);const r=e().finally((()=>ac.delete(n)));return ac.set(n,r),r}((()=>ic((async()=>{try{return await e(n)}catch(e){const t=e;switch(t.code){case ma.code:throw new ma(t);case ya.code:throw new ya(t);case ga.code:throw new ga(t,{method:n.method});case ba.code:throw new ba(t);case wa.code:throw new wa(t);case va.code:throw new va(t);case Aa.code:throw new Aa(t);case Ea.code:throw new Ea(t);case xa.code:throw new xa(t);case Pa.code:throw new Pa(t,{method:n.method});case ka.code:throw new ka(t);case Ta.code:throw new Ta(t);case Ba.code:throw new Ba(t);case Ia.code:throw new Ia(t);case Ca.code:throw new Ca(t);case Na.code:throw new Na(t);case Oa.code:throw new Oa(t);case Ra.code:throw new Ra(t);case 5e3:throw new Ba(t);default:if(e instanceof mn)throw e;throw new Sa(t)}}}),{delay:({count:e,error:t})=>{if(t&&t instanceof ua){const e=t?.headers?.get("Retry-After");if(e?.match(/\d/))return 1e3*Number.parseInt(e)}return(1<<e)*a},retryCount:i,shouldRetry:({error:e})=>function(e){return"code"in e&&"number"==typeof e.code?-1===e.code||e.code===ka.code||e.code===wa.code:!(e instanceof ua&&e.status)||(403===e.status||408===e.status||413===e.status||429===e.status||500===e.status||502===e.status||503===e.status||504===e.status)}(e)})),{enabled:s,id:s?zr(rr(`${o}.${Gs(n)}`)):void 0})}}function cc({key:e,name:t,request:n,retryCount:r=3,retryDelay:s=150,timeout:a,type:i},o){return{config:{key:e,name:t,request:n,retryCount:r,retryDelay:s,timeout:a,type:i},request:oc(n,{retryCount:r,retryDelay:s,uid:rc()}),value:o}}function lc(e,t={}){const{key:n="custom",name:r="Custom Provider",retryDelay:s}=t;return({retryCount:a})=>cc({key:n,name:r,request:e.request.bind(e),retryCount:t.retryCount??a,retryDelay:s,type:"custom"})}class uc extends mn{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function dc(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const hc=dc();function pc(e,t={}){const{batch:n,fetchOptions:r,key:s="http",name:a="HTTP JSON-RPC",onFetchRequest:i,onFetchResponse:o,retryDelay:c}=t;return({chain:l,retryCount:u,timeout:d})=>{const{batchSize:h=1e3,wait:p=0}="object"==typeof n?n:{},f=t.retryCount??u,m=d??t.timeout??1e4,y=e||l?.rpcUrls.default.http[0];if(!y)throw new uc;const g=function(e,t={}){return{async request(n){const{body:r,onRequest:s=t.onRequest,onResponse:a=t.onResponse,timeout:i=t.timeout??1e4}=n,o={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:c,method:l,signal:u}=o;try{const t=await function(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise(((s,a)=>{(async()=>{let i;try{const o=new AbortController;n>0&&(i=setTimeout((()=>{r?o.abort():a(t)}),n)),s(await e({signal:o?.signal||null}))}catch(e){"AbortError"===e?.name&&a(t),a(e)}finally{clearTimeout(i)}})()}))}((async({signal:t})=>{const n={...o,body:Array.isArray(r)?Gs(r.map((e=>({jsonrpc:"2.0",id:e.id??hc.take(),...e})))):Gs({jsonrpc:"2.0",id:r.id??hc.take(),...r}),headers:{"Content-Type":"application/json",...c},method:l||"POST",signal:u||(i>0?t:null)},a=new Request(e,n);return s&&await s(a),await fetch(e,n)}),{errorInstance:new ha({body:r,url:e}),timeout:i,signal:!0});let n;if(a&&await a(t),t.headers.get("Content-Type")?.startsWith("application/json")?n=await t.json():(n=await t.text(),n=JSON.parse(n||"{}")),!t.ok)throw new ua({body:r,details:Gs(n.error)||t.statusText,headers:t.headers,status:t.status,url:e});return n}catch(t){if(t instanceof ua)throw t;if(t instanceof ha)throw t;throw new ua({body:r,cause:t,url:e})}}}}(y,{fetchOptions:r,onRequest:i,onResponse:o,timeout:m});return cc({key:s,name:a,async request({method:e,params:t}){const r={method:e,params:t},{schedule:s}=Ro({id:y,wait:p,shouldSplitBatch:e=>e.length>h,fn:e=>g.request({body:e}),sort:(e,t)=>e.id-t.id}),[{error:a,result:i}]=await(async e=>n?s(e):[await g.request({body:e})])(r);if(a)throw new da({body:r,error:a,url:y});return i},retryCount:f,retryDelay:c,timeout:m,type:"http"},{fetchOptions:r,url:y})}}function fc(e,t){if(!(e instanceof mn))return!1;const n=e.walk((e=>e instanceof ia));return n instanceof ia&&("ResolverNotFound"===n.data?.errorName||"ResolverWildcardNotSupported"===n.data?.errorName||"ResolverNotContract"===n.data?.errorName||"ResolverError"===n.data?.errorName||"HttpError"===n.data?.errorName||!!n.reason?.includes("Wildcard on non-extended resolvers is not supported")||"reverse"===t&&n.reason===Es[50])}function mc(e){if(66!==e.length)return null;if(0!==e.indexOf("["))return null;if(65!==e.indexOf("]"))return null;const t=`0x${e.slice(1,65)}`;return dn(t)?t:null}function yc(e){let t=new Uint8Array(32).fill(0);if(!e)return er(t);const n=e.split(".");for(let e=n.length-1;e>=0;e-=1){const r=mc(n[e]),s=r?ar(r):zr(lr(n[e]),"bytes");t=zr(Xr([t,s]),"bytes")}return er(t)}function gc(e){return`[${e.slice(2)}]`}function bc(e){const t=new Uint8Array(32).fill(0);return e?mc(e)||zr(lr(e)):er(t)}function wc(e){const t=e.replace(/^\.|\.$/gm,"");if(0===t.length)return new Uint8Array(1);const n=new Uint8Array(lr(t).byteLength+2);let r=0;const s=t.split(".");for(let e=0;e<s.length;e++){let t=lr(s[e]);t.byteLength>255&&(t=lr(gc(bc(s[e])))),n[r]=t.length,n.set(t,r+1),r+=t.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}class vc extends mn{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class Ac extends mn{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class Ec extends mn{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class xc extends mn{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const Pc=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,kc=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,Tc=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,Bc=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;function Ic(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function Cc({uri:e,gatewayUrls:t}){const n=Tc.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=Ic(t?.ipfs,"https://ipfs.io"),s=Ic(t?.arweave,"https://arweave.net"),a=e.match(Pc),{protocol:i,subpath:o,target:c,subtarget:l=""}=a?.groups||{},u="ipns:/"===i||"ipns/"===o,d="ipfs:/"===i||"ipfs/"===o||kc.test(e);if(e.startsWith("http")&&!u&&!d){let n=e;return t?.arweave&&(n=e.replace(/https:\/\/arweave.net/g,t?.arweave)),{uri:n,isOnChain:!1,isEncoded:!1}}if((u||d)&&c)return{uri:`${r}/${u?"ipns":"ipfs"}/${c}${l}`,isOnChain:!1,isEncoded:!1};if("ar:/"===i&&c)return{uri:`${s}/${c}${l||""}`,isOnChain:!1,isEncoded:!1};let h=e.replace(Bc,"");if(h.startsWith("<svg")&&(h=`data:image/svg+xml;base64,${btoa(h)}`),h.startsWith("data:")||h.startsWith("{"))return{uri:h,isOnChain:!0,isEncoded:!1};throw new Ec({uri:e})}function Nc(e){if("object"!=typeof e||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new vc({data:e});return e.image||e.image_url||e.image_data}async function Oc({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=Cc({uri:t,gatewayUrls:e});if(r)return n;const s=await async function(e){try{const t=await fetch(e,{method:"HEAD"});if(200===t.status){const e=t.headers.get("content-type");return e?.startsWith("image/")}return!1}catch(t){return("object"!=typeof t||void 0===t.response)&&!!globalThis.hasOwnProperty("Image")&&new Promise((t=>{const n=new Image;n.onload=()=>{t(!0)},n.onerror=()=>{t(!1)},n.src=e}))}}(n);if(s)return n;throw new Ec({uri:t})}async function Rc(e,{blockNumber:t,blockTag:n,name:r,key:s,gatewayUrls:a,strict:i,universalResolverAddress:o}){let c=o;if(!c){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=No({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const i={address:c,abi:fo,functionName:"resolve",args:[Yn(wc(r)),As({abi:yo,functionName:"text",args:[yc(r),s]})],blockNumber:t,blockTag:n},o=cn(e,Fo,"readContract"),l=a?await o({...i,args:[...i.args,a]}):await o(i);if("0x"===l[0])return null;const u=uo({abi:yo,functionName:"text",data:l[0]});return""===u?null:u}catch(e){if(i)throw e;if(fc(e,"resolve"))return null;throw e}}async function Sc(e,{address:t,args:n,event:r,events:s,fromBlock:a,strict:i,toBlock:o}={}){const c=s??(r?[r]:void 0),l=gs(e,{method:"eth_newFilter"});let u=[];if(c){const e=c.flatMap((e=>ms({abi:[e],eventName:e.name,args:n})));u=[e],r&&(u=u[0])}const d=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:"bigint"==typeof a?tr(a):a,toBlock:"bigint"==typeof o?tr(o):o,...u.length?{topics:u}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:a,id:d,request:l(d),strict:Boolean(i),toBlock:o,type:"event"}}async function Fc(e){const t=gs(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function Uc(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=void 0!==n?tr(n):void 0,a=await e.request({method:"eth_getCode",params:[t,s||r]},{dedupe:Boolean(s)});if("0x"!==a)return a}class Dc extends mn{constructor({callbackSelector:e,cause:t,data:n,extraData:r,sender:s,urls:a}){super(t.shortMessage||"An error occurred while fetching for an offchain result.",{cause:t,metaMessages:[...t.metaMessages||[],t.metaMessages?.length?"":[],"Offchain Gateway Call:",a&&["  Gateway URL(s):",...a.map((e=>`    ${e}`))],`  Sender: ${s}`,`  Data: ${n}`,`  Callback selector: ${e}`,`  Extra data: ${r}`].flat(),name:"OffchainLookupError"})}}class Lc extends mn{constructor({result:e,url:t}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${t}`,`Response: ${Gs(e)}`],name:"OffchainLookupResponseMalformedError"})}}class Mc extends mn{constructor({sender:e,to:t}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${t}`,`OffchainLookup sender address: ${e}`],name:"OffchainLookupSenderMismatchError"})}}const Gc={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function jc({data:e,sender:t,urls:n}){let r=new Error("An unknown error occurred.");for(let s=0;s<n.length;s++){const a=n[s],i=a.includes("{data}")?"GET":"POST",o="POST"===i?{data:e,sender:t}:void 0;try{const n=await fetch(a.replace("{sender}",t).replace("{data}",e),{body:JSON.stringify(o),method:i});let s;if(s=n.headers.get("Content-Type")?.startsWith("application/json")?(await n.json()).data:await n.text(),!n.ok){r=new ua({body:o,details:s?.error?Gs(s.error):n.statusText,headers:n.headers,status:n.status,url:a});continue}if(!dn(s)){r=new Lc({result:s,url:a});continue}return s}catch(e){r=new ua({body:o,details:e.message,url:a})}}throw r}var Hc=Object.freeze({__proto__:null,ccipRequest:jc,offchainLookup:async function(e,{blockNumber:t,blockTag:n,data:r,to:s}){const{args:a}=Ms({data:r,abi:[Gc]}),[i,o,c,l,u]=a,{ccipRead:d}=e,h=d&&"function"==typeof d?.request?d.request:jc;try{if(!to(s,i))throw new Mc({sender:i,to:s});const r=await h({data:c,sender:i,urls:o}),{data:a}=await So(e,{blockNumber:t,blockTag:n,data:Xr([l,is([{type:"bytes"},{type:"bytes"}],[r,u])]),to:s});return a}catch(e){throw new Dc({callbackSelector:l,cause:e,data:r,extraData:u,sender:i,urls:o})}},offchainLookupAbiItem:Gc,offchainLookupSignature:"0x556f1830"});function zc(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}const qc=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,$c=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Vc(e){const{domain:t={},message:n,primaryType:r}=e,s={EIP712Domain:Yc({domain:t}),...e.types};Wc({domain:t,message:n,primaryType:r,types:s});const a=["0x1901"];return t&&a.push(function({domain:e,types:t}){return _c({data:e,primaryType:"EIP712Domain",types:t})}({domain:t,types:s})),"EIP712Domain"!==r&&a.push(_c({data:n,primaryType:r,types:s})),zr(Xr(a))}function _c({data:e,primaryType:t,types:n}){return zr(Qc({data:e,primaryType:t,types:n}))}function Qc({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[Jc({primaryType:t,types:n})];for(const a of n[t]){const[t,i]=Zc({types:n,name:a.name,type:a.type,value:e[a.name]});r.push(t),s.push(i)}return is(r,s)}function Jc({primaryType:e,types:t}){const n=Yn(function({primaryType:e,types:t}){let n="";const r=Kc({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const e of s)n+=`${e}(${t[e].map((({name:e,type:t})=>`${t} ${e}`)).join(",")})`;return n}({primaryType:e,types:t}));return zr(n)}function Kc({primaryType:e,types:t},n=new Set){const r=e.match(/^\w*/u),s=r?.[0];if(n.has(s)||void 0===t[s])return n;n.add(s);for(const e of t[s])Kc({primaryType:e.type,types:t},n);return n}function Zc({types:e,name:t,type:n,value:r}){if(void 0!==e[n])return[{type:"bytes32"},zr(Qc({data:r,primaryType:n,types:e}))];if("bytes"===n)return[{type:"bytes32"},zr(r="0x"+((r.length%2?"0":"")+r.slice(2)))];if("string"===n)return[{type:"bytes32"},zr(Yn(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),a=r.map((n=>Zc({name:t,type:s,types:e,value:n})));return[{type:"bytes32"},zr(is(a.map((([e])=>e)),a.map((([,e])=>e))))]}return[{type:n},r]}function Wc(e){const{domain:t,message:n,primaryType:r,types:s}=e,a=(e,t)=>{for(const n of e){const{name:e,type:r}=n,i=t[e],o=r.match($c);if(o&&("number"==typeof i||"bigint"==typeof i)){const[e,t,n]=o;tr(i,{signed:"int"===t,size:Number.parseInt(n)/8})}if("address"===r&&"string"==typeof i&&!Yr(i))throw new Vr({address:i});const c=r.match(qc);if(c){const[e,t]=c;if(t&&hn(i)!==Number.parseInt(t))throw new On({expectedSize:Number.parseInt(t),givenSize:hn(i)})}const l=s[r];l&&a(l,i)}};s.EIP712Domain&&t&&a(s.EIP712Domain,t),"EIP712Domain"!==r&&a(s[r],n)}function Yc({domain:e}){return["string"==typeof e?.name&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},"number"==typeof e?.chainId&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}const Xc={"0x0":"reverted","0x1":"success"};function el(e){const t={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map((e=>io(e))):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Zn(e.transactionIndex):null,status:e.status?Xc[e.status]:null,type:e.type?gi[e.type]||e.type:null};return e.blobGasPrice&&(t.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(t.blobGasUsed=BigInt(e.blobGasUsed)),t}const tl=si("transactionReceipt",el),nl="Ethereum Signed Message:\n";function rl(e,t){return zr(function(e){const t="string"==typeof e?rr(e):"string"==typeof e.raw?e.raw:er(e.raw);return Xr([rr(`${nl}${hn(t)}`),t])}(e),t)}const sl="0x6492649264926492649264926492649264926492649264926492649264926492";function al(e){const{chainId:t,maxPriorityFeePerGas:n,maxFeePerGas:r,to:s}=e;if(t<=0)throw new Bo({chainId:t});if(s&&!Yr(s))throw new Vr({address:s});if(r&&r>di)throw new Va({maxFeePerGas:r});if(n&&r&&n>r)throw new ei({maxFeePerGas:r,maxPriorityFeePerGas:n})}function il(e){if(!e||0===e.length)return[];const t=[];for(let n=0;n<e.length;n++){const{address:r,storageKeys:s}=e[n];for(let e=0;e<s.length;e++)if(s[e].length-2!=64)throw new Xs({storageKey:s[e]});if(!Yr(r,{strict:!1}))throw new Vr({address:r});t.push([r,s])}return t}function ol(e,t){const n=t??e,{v:r,yParity:s}=n;if(void 0===n.r)return[];if(void 0===n.s)return[];if(void 0===r&&void 0===s)return[];const a=Qn(n.r),i=Qn(n.s);return["number"==typeof s?s?Yn(1):"0x":0n===r?"0x":1n===r?Yn(1):27n===r?"0x":Yn(1),"0x00"===a?"0x":a,"0x00"===i?"0x":i]}async function cl(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:a}){const i=r||"latest",o=void 0!==n?tr(n):void 0;let c=null;if(s?c=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?c=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,tr(a)]},{dedupe:!0}):(o||i)&&(c=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[o||i,tr(a)]},{dedupe:Boolean(o)})),!c)throw new ta({blockHash:t,blockNumber:n,blockTag:i,hash:s,index:a});return(e.chain?.formatters?.transaction?.format||bi)(c)}async function ll(e,{hash:t}){const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new na({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||el)(n)}const ul=BigInt(0),dl=BigInt(1),hl=BigInt(2);function pl(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function fl(e){if(!pl(e))throw new Error("Uint8Array expected")}const ml=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function yl(e){fl(e);let t="";for(let n=0;n<e.length;n++)t+=ml[e[n]];return t}function gl(e){const t=e.toString(16);return 1&t.length?`0${t}`:t}function bl(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}const wl={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function vl(e){return e>=wl._0&&e<=wl._9?e-wl._0:e>=wl._A&&e<=wl._F?e-(wl._A-10):e>=wl._a&&e<=wl._f?e-(wl._a-10):void 0}function Al(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let t=0,s=0;t<n;t++,s+=2){const n=vl(e.charCodeAt(s)),a=vl(e.charCodeAt(s+1));if(void 0===n||void 0===a){const t=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+s)}r[t]=16*n+a}return r}function El(e){return bl(yl(e))}function xl(e){return fl(e),bl(yl(Uint8Array.from(e).reverse()))}function Pl(e,t){return Al(e.toString(16).padStart(2*t,"0"))}function kl(e,t){return Pl(e,t).reverse()}function Tl(e,t,n){let r;if("string"==typeof t)try{r=Al(t)}catch(n){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${n}`)}else{if(!pl(t))throw new Error(`${e} must be hex string or Uint8Array`);r=Uint8Array.from(t)}const s=r.length;if("number"==typeof n&&s!==n)throw new Error(`${e} expected ${n} bytes, got ${s}`);return r}function Bl(...e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];fl(r),t+=r.length}const n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const s=e[t];n.set(s,r),r+=s.length}return n}function Il(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return 0===n}const Cl=e=>(hl<<BigInt(e-1))-dl,Nl=e=>new Uint8Array(e),Ol=e=>Uint8Array.from(e);function Rl(e,t,n){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");let r=Nl(e),s=Nl(e),a=0;const i=()=>{r.fill(1),s.fill(0),a=0},o=(...e)=>n(s,r,...e),c=(e=Nl())=>{s=o(Ol([0]),e),r=o(),0!==e.length&&(s=o(Ol([1]),e),r=o())},l=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){r=o();const t=r.slice();n.push(t),e+=r.length}return Bl(...n)};return(e,t)=>{let n;for(i(),c(e);!(n=t(l()));)c();return i(),n}}const Sl={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||pl(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function Fl(e,t,n={}){const r=(t,n,r)=>{const s=Sl[n];if("function"!=typeof s)throw new Error(`Invalid validator "${n}", expected function`);const a=e[t];if(!(r&&void 0===a||s(a,e)))throw new Error(`Invalid param ${String(t)}=${a} (${typeof a}), expected ${n}`)};for(const[e,n]of Object.entries(t))r(e,n,!1);for(const[e,t]of Object.entries(n))r(e,t,!0);return e}var Ul=Object.freeze({__proto__:null,abytes:fl,bitGet:function(e,t){return e>>BigInt(t)&dl},bitLen:function(e){let t;for(t=0;e>ul;e>>=dl,t+=1);return t},bitMask:Cl,bitSet:function(e,t,n){return e|(n?dl:ul)<<BigInt(t)},bytesToHex:yl,bytesToNumberBE:El,bytesToNumberLE:xl,concatBytes:Bl,createHmacDrbg:Rl,ensureBytes:Tl,equalBytes:Il,hexToBytes:Al,hexToNumber:bl,isBytes:pl,numberToBytesBE:Pl,numberToBytesLE:kl,numberToHexUnpadded:gl,numberToVarBytesBE:function(e){return Al(gl(e))},utf8ToBytes:function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))},validateObject:Fl});const Dl=BigInt(0),Ll=BigInt(1),Ml=BigInt(2),Gl=BigInt(3),jl=BigInt(4),Hl=BigInt(5),zl=BigInt(8);function ql(e,t){const n=e%t;return n>=Dl?n:t+n}function $l(e,t,n){if(n<=Dl||t<Dl)throw new Error("Expected power/modulo > 0");if(n===Ll)return Dl;let r=Ll;for(;t>Dl;)t&Ll&&(r=r*e%n),e=e*e%n,t>>=Ll;return r}function Vl(e,t,n){let r=e;for(;t-- >Dl;)r*=r,r%=n;return r}function _l(e,t){if(e===Dl||t<=Dl)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=ql(e,t),r=t,s=Dl,a=Ll;for(;n!==Dl;){const e=r%n,t=s-a*(r/n);r=n,n=e,s=a,a=t}if(r!==Ll)throw new Error("invert: does not exist");return ql(s,t)}BigInt(9),BigInt(16);const Ql=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Jl(e,t){const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function Kl(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Zl(e){const t=Kl(e);return t+Math.ceil(t/2)}const Wl=BigInt(0),Yl=BigInt(1);function Xl(e){return Fl(e.Fp,Ql.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),Fl(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Jl(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const{bytesToNumberBE:eu,hexToBytes:tu}=Ul,nu={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){const{Err:t}=nu;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(128&r[0])throw new t("Invalid signature integer: negative");if(0===r[0]&&!(128&r[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:eu(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=nu,n="string"==typeof e?tu(e):e;fl(n);let r=n.length;if(r<2||48!=n[0])throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:s,l:a}=nu._parseInt(n.subarray(2)),{d:i,l:o}=nu._parseInt(a);if(o.length)throw new t("Invalid signature: left bytes after parsing");return{r:s,s:i}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,n=e=>{const t=e.toString(16);return 1&t.length?`0${t}`:t},r=t(n(e.s)),s=t(n(e.r)),a=r.length/2,i=s.length/2,o=n(a),c=n(i);return`30${n(i+a+4)}02${c}${s}02${o}${r}`}},ru=BigInt(0),su=BigInt(1);BigInt(2);const au=BigInt(3);function iu(e){const t=function(e){const t=Xl(e);return Fl(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:n,n:r}=t,s=n.BYTES+1,a=2*n.BYTES+1;function i(e){return ql(e,r)}function o(e){return _l(e,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:l,weierstrassEquation:u,isWithinCurveOrder:d}=function(e){const t=function(e){const t=Xl(e);Fl(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof n||"bigint"!=typeof n.beta||"function"!=typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:n}=t,r=t.toBytes||((e,t,r)=>{const s=t.toAffine();return Bl(Uint8Array.from([4]),n.toBytes(s.x),n.toBytes(s.y))}),s=t.fromBytes||(e=>{const t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function a(e){const{a:r,b:s}=t,a=n.sqr(e),i=n.mul(a,e);return n.add(n.add(i,n.mul(e,r)),s)}if(!n.eql(n.sqr(t.Gy),a(t.Gx)))throw new Error("bad generator point: equation left != right");function i(e){return"bigint"==typeof e&&ru<e&&e<t.n}function o(e){if(!i(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(e){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:s,n:a}=t;if(n&&"bigint"!=typeof e){if(pl(e)&&(e=yl(e)),"string"!=typeof e||!n.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*r,"0")}let i;try{i="bigint"==typeof e?e:El(Tl("private key",e,r))}catch(t){throw new Error(`private key must be ${r} bytes, hex or bigint, not ${typeof e}`)}return s&&(i=ql(i,a)),o(i),i}const l=new Map;function u(e){if(!(e instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(e,t,r){if(this.px=e,this.py=t,this.pz=r,null==e||!n.isValid(e))throw new Error("x required");if(null==t||!n.isValid(t))throw new Error("y required");if(null==r||!n.isValid(r))throw new Error("z required")}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof d)throw new Error("projective point not allowed");const s=e=>n.eql(e,n.ZERO);return s(t)&&s(r)?d.ZERO:new d(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(d.fromAffine)}static fromHex(e){const t=d.fromAffine(s(Tl("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return d.BASE.multiply(c(e))}_setWindowSize(e){this._WINDOW_SIZE=e,l.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:e,y:r}=this.toAffine();if(!n.isValid(e)||!n.isValid(r))throw new Error("bad point: x or y not FE");const s=n.sqr(r),i=a(e);if(!n.eql(s,i))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){u(e);const{px:t,py:r,pz:s}=this,{px:a,py:i,pz:o}=e,c=n.eql(n.mul(t,o),n.mul(a,s)),l=n.eql(n.mul(r,o),n.mul(i,s));return c&&l}negate(){return new d(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:r}=t,s=n.mul(r,au),{px:a,py:i,pz:o}=this;let c=n.ZERO,l=n.ZERO,u=n.ZERO,h=n.mul(a,a),p=n.mul(i,i),f=n.mul(o,o),m=n.mul(a,i);return m=n.add(m,m),u=n.mul(a,o),u=n.add(u,u),c=n.mul(e,u),l=n.mul(s,f),l=n.add(c,l),c=n.sub(p,l),l=n.add(p,l),l=n.mul(c,l),c=n.mul(m,c),u=n.mul(s,u),f=n.mul(e,f),m=n.sub(h,f),m=n.mul(e,m),m=n.add(m,u),u=n.add(h,h),h=n.add(u,h),h=n.add(h,f),h=n.mul(h,m),l=n.add(l,h),f=n.mul(i,o),f=n.add(f,f),h=n.mul(f,m),c=n.sub(c,h),u=n.mul(f,p),u=n.add(u,u),u=n.add(u,u),new d(c,l,u)}add(e){u(e);const{px:r,py:s,pz:a}=this,{px:i,py:o,pz:c}=e;let l=n.ZERO,h=n.ZERO,p=n.ZERO;const f=t.a,m=n.mul(t.b,au);let y=n.mul(r,i),g=n.mul(s,o),b=n.mul(a,c),w=n.add(r,s),v=n.add(i,o);w=n.mul(w,v),v=n.add(y,g),w=n.sub(w,v),v=n.add(r,a);let A=n.add(i,c);return v=n.mul(v,A),A=n.add(y,b),v=n.sub(v,A),A=n.add(s,a),l=n.add(o,c),A=n.mul(A,l),l=n.add(g,b),A=n.sub(A,l),p=n.mul(f,v),l=n.mul(m,b),p=n.add(l,p),l=n.sub(g,p),p=n.add(g,p),h=n.mul(l,p),g=n.add(y,y),g=n.add(g,y),b=n.mul(f,b),v=n.mul(m,v),g=n.add(g,b),b=n.sub(y,b),b=n.mul(f,b),v=n.add(v,b),y=n.mul(g,v),h=n.add(h,y),y=n.mul(A,v),l=n.mul(w,l),l=n.sub(l,y),y=n.mul(w,g),p=n.mul(A,p),p=n.add(p,y),new d(l,h,p)}subtract(e){return this.add(e.negate())}is0(){return this.equals(d.ZERO)}wNAF(e){return p.wNAFCached(this,l,e,(e=>{const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(d.fromAffine)}))}multiplyUnsafe(e){const r=d.ZERO;if(e===ru)return r;if(o(e),e===su)return this;const{endo:s}=t;if(!s)return p.unsafeLadder(this,e);let{k1neg:a,k1:i,k2neg:c,k2:l}=s.splitScalar(e),u=r,h=r,f=this;for(;i>ru||l>ru;)i&su&&(u=u.add(f)),l&su&&(h=h.add(f)),f=f.double(),i>>=su,l>>=su;return a&&(u=u.negate()),c&&(h=h.negate()),h=new d(n.mul(h.px,s.beta),h.py,h.pz),u.add(h)}multiply(e){o(e);let r,s,a=e;const{endo:i}=t;if(i){const{k1neg:e,k1:t,k2neg:o,k2:c}=i.splitScalar(a);let{p:l,f:u}=this.wNAF(t),{p:h,f}=this.wNAF(c);l=p.constTimeNegate(e,l),h=p.constTimeNegate(o,h),h=new d(n.mul(h.px,i.beta),h.py,h.pz),r=l.add(h),s=u.add(f)}else{const{p:e,f:t}=this.wNAF(a);r=e,s=t}return d.normalizeZ([r,s])[0]}multiplyAndAddUnsafe(e,t,n){const r=d.BASE,s=(e,t)=>t!==ru&&t!==su&&e.equals(r)?e.multiply(t):e.multiplyUnsafe(t),a=s(this,t).add(s(e,n));return a.is0()?void 0:a}toAffine(e){const{px:t,py:r,pz:s}=this,a=this.is0();null==e&&(e=a?n.ONE:n.inv(s));const i=n.mul(t,e),o=n.mul(r,e),c=n.mul(s,e);if(a)return{x:n.ZERO,y:n.ZERO};if(!n.eql(c,n.ONE))throw new Error("invZ was invalid");return{x:i,y:o}}isTorsionFree(){const{h:e,isTorsionFree:n}=t;if(e===su)return!0;if(n)return n(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=t;return e===su?this:n?n(d,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return this.assertValidity(),r(d,this,e)}toHex(e=!0){return yl(this.toRawBytes(e))}}d.BASE=new d(t.Gx,t.Gy,n.ONE),d.ZERO=new d(n.ZERO,n.ONE,n.ZERO);const h=t.nBitLength,p=function(e,t){const n=(e,t)=>{const n=t.negate();return e?n:t},r=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:n,unsafeLadder(t,n){let r=e.ZERO,s=t;for(;n>Wl;)n&Yl&&(r=r.add(s)),s=s.double(),n>>=Yl;return r},precomputeWindow(e,t){const{windows:n,windowSize:s}=r(t),a=[];let i=e,o=i;for(let e=0;e<n;e++){o=i,a.push(o);for(let e=1;e<s;e++)o=o.add(i),a.push(o);i=o.double()}return a},wNAF(t,s,a){const{windows:i,windowSize:o}=r(t);let c=e.ZERO,l=e.BASE;const u=BigInt(2**t-1),d=2**t,h=BigInt(t);for(let e=0;e<i;e++){const t=e*o;let r=Number(a&u);a>>=h,r>o&&(r-=d,a+=Yl);const i=t,p=t+Math.abs(r)-1,f=e%2!=0,m=r<0;0===r?l=l.add(n(f,s[i])):c=c.add(n(m,s[p]))}return{p:c,f:l}},wNAFCached(e,t,n,r){const s=e._WINDOW_SIZE||1;let a=t.get(e);return a||(a=this.precomputeWindow(e,s),1!==s&&t.set(e,r(a))),this.wNAF(s,a,n)}}}(d,t.endo?Math.ceil(h/2):h);return{CURVE:t,ProjectivePoint:d,normPrivateKeyToScalar:c,weierstrassEquation:a,isWithinCurveOrder:i}}({...t,toBytes(e,t,r){const s=t.toAffine(),a=n.toBytes(s.x),i=Bl;return r?i(Uint8Array.from([t.hasEvenY()?2:3]),a):i(Uint8Array.from([4]),a,n.toBytes(s.y))},fromBytes(e){const t=e.length,r=e[0],i=e.subarray(1);if(t!==s||2!==r&&3!==r){if(t===a&&4===r)return{x:n.fromBytes(i.subarray(0,n.BYTES)),y:n.fromBytes(i.subarray(n.BYTES,2*n.BYTES))};throw new Error(`Point of length ${t} was invalid. Expected ${s} compressed bytes or ${a} uncompressed bytes`)}{const e=El(i);if(!(ru<(o=e)&&o<n.ORDER))throw new Error("Point is not on curve");const t=u(e);let s;try{s=n.sqrt(t)}catch(e){const t=e instanceof Error?": "+e.message:"";throw new Error("Point is not on curve"+t)}return!(1&~r)!=((s&su)===su)&&(s=n.neg(s)),{x:e,y:s}}var o}}),h=e=>yl(Pl(e,t.nByteLength));function p(e){return e>r>>su}const f=(e,t,n)=>El(e.slice(t,n));class m{constructor(e,t,n){this.r=e,this.s=t,this.recovery=n,this.assertValidity()}static fromCompact(e){const n=t.nByteLength;return e=Tl("compactSignature",e,2*n),new m(f(e,0,n),f(e,n,2*n))}static fromDER(e){const{r:t,s:n}=nu.toSig(Tl("DER",e));return new m(t,n)}assertValidity(){if(!d(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!d(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new m(this.r,this.s,e)}recoverPublicKey(e){const{r,s,recovery:a}=this,l=w(Tl("msgHash",e));if(null==a||![0,1,2,3].includes(a))throw new Error("recovery id invalid");const u=2===a||3===a?r+t.n:r;if(u>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const d=1&a?"03":"02",p=c.fromHex(d+h(u)),f=o(u),m=i(-l*f),y=i(s*f),g=c.BASE.multiplyAndAddUnsafe(p,m,y);if(!g)throw new Error("point at infinify");return g.assertValidity(),g}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,i(-this.s),this.recovery):this}toDERRawBytes(){return Al(this.toDERHex())}toDERHex(){return nu.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Al(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const y={isValidPrivateKey(e){try{return l(e),!0}catch(e){return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const e=Zl(t.n);return function(e,t,n=!1){const r=e.length,s=Kl(t),a=Zl(t);if(r<16||r<a||r>1024)throw new Error(`expected ${a}-1024 bytes of input, got ${r}`);const i=ql(n?El(e):xl(e),t-Ll)+Ll;return n?kl(i,s):Pl(i,s)}(t.randomBytes(e),t.n)},precompute:(e=8,t=c.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function g(e){const t=pl(e),n="string"==typeof e,r=(t||n)&&e.length;return t?r===s||r===a:n?r===2*s||r===2*a:e instanceof c}const b=t.bits2int||function(e){const n=El(e),r=8*e.length-t.nBitLength;return r>0?n>>BigInt(r):n},w=t.bits2int_modN||function(e){return i(b(e))},v=Cl(t.nBitLength);function A(e){if("bigint"!=typeof e)throw new Error("bigint expected");if(!(ru<=e&&e<v))throw new Error(`bigint expected < 2^${t.nBitLength}`);return Pl(e,t.nByteLength)}const E={lowS:t.lowS,prehash:!1},x={lowS:t.lowS,prehash:!1};return c.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return c.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,n=!0){if(g(e))throw new Error("first arg must be private key");if(!g(t))throw new Error("second arg must be public key");return c.fromHex(t).multiply(l(e)).toRawBytes(n)},sign:function(e,r,s=E){const{seed:a,k2sig:u}=function(e,r,s=E){if(["recovered","canonical"].some((e=>e in s)))throw new Error("sign() legacy options not supported");const{hash:a,randomBytes:u}=t;let{lowS:h,prehash:f,extraEntropy:y}=s;null==h&&(h=!0),e=Tl("msgHash",e),f&&(e=Tl("prehashed msgHash",a(e)));const g=w(e),v=l(r),x=[A(v),A(g)];if(null!=y&&!1!==y){const e=!0===y?u(n.BYTES):y;x.push(Tl("extraEntropy",e))}const P=Bl(...x),k=g;return{seed:P,k2sig:function(e){const t=b(e);if(!d(t))return;const n=o(t),r=c.BASE.multiply(t).toAffine(),s=i(r.x);if(s===ru)return;const a=i(n*i(k+s*v));if(a===ru)return;let l=(r.x===s?0:2)|Number(r.y&su),u=a;return h&&p(a)&&(u=function(e){return p(e)?i(-e):e}(a),l^=1),new m(s,u,l)}}}(e,r,s),h=t;return Rl(h.hash.outputLen,h.nByteLength,h.hmac)(a,u)},verify:function(e,n,r,s=x){const a=e;if(n=Tl("msgHash",n),r=Tl("publicKey",r),"strict"in s)throw new Error("options.strict was renamed to lowS");const{lowS:l,prehash:u}=s;let d,h;try{if("string"==typeof a||pl(a))try{d=m.fromDER(a)}catch(e){if(!(e instanceof nu.Err))throw e;d=m.fromCompact(a)}else{if("object"!=typeof a||"bigint"!=typeof a.r||"bigint"!=typeof a.s)throw new Error("PARSE");{const{r:e,s:t}=a;d=new m(e,t)}}h=c.fromHex(r)}catch(e){if("PARSE"===e.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(l&&d.hasHighS())return!1;u&&(n=t.hash(n));const{r:p,s:f}=d,y=w(n),g=o(f),b=i(y*g),v=i(p*g),A=c.BASE.multiplyAndAddUnsafe(h,b,v)?.toAffine();return!!A&&i(A.x)===p},ProjectivePoint:c,Signature:m,utils:y}}BigInt(4);class ou extends Pr{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,function(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");ur(e.outputLen),ur(e.blockLen)}(e);const n=xr(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,s=new Uint8Array(r);s.set(n.length>r?e.create().update(n).digest():n);for(let e=0;e<s.length;e++)s[e]^=54;this.iHash.update(s),this.oHash=e.create();for(let e=0;e<s.length;e++)s[e]^=106;this.oHash.update(s),s.fill(0)}update(e){return hr(this),this.iHash.update(e),this}digestInto(e){hr(this),dr(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:s,blockLen:a,outputLen:i}=this;return e.finished=r,e.destroyed=s,e.blockLen=a,e.outputLen=i,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const cu=(e,t,n)=>new ou(e,t).update(n).digest();function lu(e){return{hash:e,hmac:(t,...n)=>cu(e,t,function(...e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];dr(r),t+=r.length}const n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const s=e[t];n.set(s,r),r+=s.length}return n}(...n)),randomBytes:Tr}}cu.create=(e,t)=>new ou(e,t);const uu=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),du=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),hu=BigInt(1),pu=BigInt(2),fu=(e,t)=>(e+t/pu)/t,mu=function(e,t,n=!1,r={}){if(e<=Dl)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:s,nByteLength:a}=Jl(e,t);if(a>2048)throw new Error("Field lengths over 2048 bytes are not supported");const i=function(e){if(e%jl===Gl){const t=(e+Ll)/jl;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}if(e%zl===Hl){const t=(e-Hl)/zl;return function(e,n){const r=e.mul(n,Ml),s=e.pow(r,t),a=e.mul(n,s),i=e.mul(e.mul(a,Ml),s),o=e.mul(a,e.sub(i,e.ONE));if(!e.eql(e.sqr(o),n))throw new Error("Cannot find square root");return o}}return function(e){const t=(e-Ll)/Ml;let n,r,s;for(n=e-Ll,r=0;n%Ml===Dl;n/=Ml,r++);for(s=Ml;s<e&&$l(s,t,e)!==e-Ll;s++);if(1===r){const t=(e+Ll)/jl;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}const a=(n+Ll)/Ml;return function(e,i){if(e.pow(i,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let o=r,c=e.pow(e.mul(e.ONE,s),n),l=e.pow(i,a),u=e.pow(i,n);for(;!e.eql(u,e.ONE);){if(e.eql(u,e.ZERO))return e.ZERO;let t=1;for(let n=e.sqr(u);t<o&&!e.eql(n,e.ONE);t++)n=e.sqr(n);const n=e.pow(c,Ll<<BigInt(o-t-1));c=e.sqr(n),l=e.mul(l,n),u=e.mul(u,c),o=t}return l}}(e)}(e),o=Object.freeze({ORDER:e,BITS:s,BYTES:a,MASK:Cl(s),ZERO:Dl,ONE:Ll,create:t=>ql(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("Invalid field element: expected bigint, got "+typeof t);return Dl<=t&&t<e},is0:e=>e===Dl,isOdd:e=>(e&Ll)===Ll,neg:t=>ql(-t,e),eql:(e,t)=>e===t,sqr:t=>ql(t*t,e),add:(t,n)=>ql(t+n,e),sub:(t,n)=>ql(t-n,e),mul:(t,n)=>ql(t*n,e),pow:(e,t)=>function(e,t,n){if(n<Dl)throw new Error("Expected power > 0");if(n===Dl)return e.ONE;if(n===Ll)return t;let r=e.ONE,s=t;for(;n>Dl;)n&Ll&&(r=e.mul(r,s)),s=e.sqr(s),n>>=Ll;return r}(o,e,t),div:(t,n)=>ql(t*_l(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>_l(t,e),sqrt:r.sqrt||(e=>i(o,e)),invertBatch:e=>function(e,t){const n=new Array(t.length),r=t.reduce(((t,r,s)=>e.is0(r)?t:(n[s]=t,e.mul(t,r))),e.ONE),s=e.inv(r);return t.reduceRight(((t,r,s)=>e.is0(r)?t:(n[s]=e.mul(t,n[s]),e.mul(t,r))),s),n}(o,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?kl(e,a):Pl(e,a),fromBytes:e=>{if(e.length!==a)throw new Error(`Fp.fromBytes: expected ${a}, got ${e.length}`);return n?xl(e):El(e)}});return Object.freeze(o)}(uu,void 0,void 0,{sqrt:function(e){const t=uu,n=BigInt(3),r=BigInt(6),s=BigInt(11),a=BigInt(22),i=BigInt(23),o=BigInt(44),c=BigInt(88),l=e*e*e%t,u=l*l*e%t,d=Vl(u,n,t)*u%t,h=Vl(d,n,t)*u%t,p=Vl(h,pu,t)*l%t,f=Vl(p,s,t)*p%t,m=Vl(f,a,t)*f%t,y=Vl(m,o,t)*m%t,g=Vl(y,c,t)*y%t,b=Vl(g,o,t)*m%t,w=Vl(b,n,t)*u%t,v=Vl(w,i,t)*f%t,A=Vl(v,r,t)*l%t,E=Vl(A,pu,t);if(!mu.eql(mu.sqr(E),e))throw new Error("Cannot find square root");return E}}),yu=function(e,t){const n=t=>iu({...e,...lu(t)});return Object.freeze({...n(t),create:n})}({a:BigInt(0),b:BigInt(7),Fp:mu,n:du,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=du,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-hu*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=n,i=BigInt("0x100000000000000000000000000000000"),o=fu(a*e,t),c=fu(-r*e,t);let l=ql(e-o*n-c*s,t),u=ql(-o*r-c*a,t);const d=l>i,h=u>i;if(d&&(l=t-l),h&&(u=t-u),l>i||u>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:l,k2neg:h,k2:u}}}},Di);BigInt(0),yu.ProjectivePoint;var gu=Object.freeze({__proto__:null,secp256k1:yu});async function bu(e,t){const{address:n,factory:r,factoryData:s,hash:a,signature:i,...o}=t,c=dn(i)?i:"object"==typeof i&&"r"in i&&"s"in i?function({r:e,s:t,to:n="hex",v:r,yParity:s}){const a=(()=>{if(0===s||1===s)return s;if(r&&(27n===r||28n===r||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),i=`0x${new yu.Signature(Kn(e),Kn(t)).toCompactHex()}${0===a?"1b":"1c"}`;return"hex"===n?i:cr(i)}(i):er(i),l=await(async()=>r||s?function(e){return as(e,-32)===sl}(c)?c:function(e){const{address:t,data:n,signature:r,to:s="hex"}=e,a=es([is([{type:"address"},{type:"bytes"},{type:"bytes"}],[t,n,r]),sl]);return"hex"===s?a:cr(a)}({address:r,data:s,signature:c}):c)();try{const{data:t}=await cn(e,So,"call")({data:Co({abi:bo,args:[n,a,l],bytecode:Eo}),...o});return d="0x1",Il(dn(u=t??"0x0")?ar(u):u,dn(d)?ar(d):d)}catch(e){try{if(to(Kr(n),await La({hash:a,signature:i})))return!0}catch{}if(e instanceof sa)return!1;throw e}var u,d}function wu(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:a,pollingInterval:i=e.pollingInterval}){let o;return(void 0!==a?!a:"webSocket"===e.transport.type||"fallback"===e.transport.type&&"webSocket"===e.transport.transports[0].config.type)?Mo(Gs(["watchBlockNumber",e.uid,t,n]),{onBlockNumber:r,onError:s},(t=>{let n=!0,r=()=>n=!1;return(async()=>{try{const s=(()=>{if("fallback"===e.transport.type){const t=e.transport.transports.find((e=>"webSocket"===e.config.type));return t?t.value:e.transport}return e.transport})(),{unsubscribe:a}=await s.subscribe({params:["newHeads"],onData(e){if(!n)return;const r=Kn(e.result?.number);t.onBlockNumber(r,o),o=r},onError(e){t.onError?.(e)}});r=a,n||r()}catch(e){s?.(e)}})(),()=>r()})):Mo(Gs(["watchBlockNumber",e.uid,t,n,i]),{onBlockNumber:r,onError:s},(r=>jo((async()=>{try{const t=await cn(e,$o,"getBlockNumber")({cacheTime:0});if(o){if(t===o)return;if(t-o>1&&n)for(let e=o+1n;e<t;e++)r.onBlockNumber(e,o),o=e}(!o||t>o)&&(r.onBlockNumber(t,o),o=t)}catch(e){r.onError?.(e)}}),{emitOnBegin:t,interval:i})))}const vu=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,Au=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function Eu(e){return{call:t=>So(e,t),createBlockFilter:()=>async function(e){const t=gs(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}(e),createContractEventFilter:t=>bs(e,t),createEventFilter:t=>Sc(e,t),createPendingTransactionFilter:()=>Fc(e),estimateContractGas:t=>async function(e,t){const{abi:n,address:r,args:s,functionName:a,...i}=t,o=As({abi:n,args:s,functionName:a});try{return await cn(e,eo,"estimateGas")({data:o,to:r,...i})}catch(e){const t=i.account?ws(i.account):void 0;throw Ua(e,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:a,sender:t?.address})}}(e,t),estimateGas:t=>eo(e,t),getBalance:t=>Xi(e,t),getBlobBaseFee:()=>async function(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}(e),getBlock:t=>Ei(e,t),getBlockNumber:t=>$o(e,t),getBlockTransactionCount:t=>async function(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=void 0!==n?tr(n):void 0;let a;return a=t?await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:Boolean(s)}),Zn(a)}(e,t),getBytecode:t=>Uc(e,t),getChainId:()=>Zi(e),getCode:t=>Uc(e,t),getContractEvents:t=>co(e,t),getEip712Domain:t=>async function(e,t){const{address:n,factory:r,factoryData:s}=t;try{const[t,a,i,o,c,l,u]=await cn(e,Fo,"readContract")({abi:Xo,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:a,version:i,chainId:Number(o),verifyingContract:c,salt:l},extensions:u,fields:t}}catch(e){const t=e;if("ContractFunctionExecutionError"===t.name&&"ContractFunctionZeroDataError"===t.cause.name)throw new Yo({address:n});throw t}}(e,t),getEnsAddress:t=>async function(e,{blockNumber:t,blockTag:n,coinType:r,name:s,gatewayUrls:a,strict:i,universalResolverAddress:o}){let c=o;if(!c){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=No({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const i=As({abi:go,functionName:"addr",...null!=r?{args:[yc(s),BigInt(r)]}:{args:[yc(s)]}}),o={address:c,abi:fo,functionName:"resolve",args:[Yn(wc(s)),i],blockNumber:t,blockTag:n},l=cn(e,Fo,"readContract"),u=a?await l({...o,args:[...o.args,a]}):await l(o);if("0x"===u[0])return null;const d=uo({abi:go,args:null!=r?[yc(s),BigInt(r)]:void 0,functionName:"addr",data:u[0]});return"0x"===d||"0x00"===Qn(d)?null:d}catch(e){if(i)throw e;if(fc(e,"resolve"))return null;throw e}}(e,t),getEnsAvatar:t=>async function(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:a,strict:i,universalResolverAddress:o}){const c=await cn(e,Rc,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:o,gatewayUrls:a,strict:i});if(!c)return null;try{return await async function(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?async function(e,{gatewayUrls:t,record:n}){const r=function(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[a,i]=n.split(":"),[o,c]=r.split(":");if(!a||"eip155"!==a.toLowerCase())throw new Ac({reason:"Only EIP-155 supported"});if(!i)throw new Ac({reason:"Chain ID not found"});if(!c)throw new Ac({reason:"Contract address not found"});if(!s)throw new Ac({reason:"Token ID not found"});if(!o)throw new Ac({reason:"ERC namespace not found"});return{chainID:Number.parseInt(i),namespace:o.toLowerCase(),contractAddress:c,tokenID:s}}(n),s=await async function(e,{nft:t}){if("erc721"===t.namespace)return Fo(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if("erc1155"===t.namespace)return Fo(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new xc({namespace:t.namespace})}(e,{nft:r}),{uri:a,isOnChain:i,isEncoded:o}=Cc({uri:s,gatewayUrls:t});if(i&&(a.includes("data:application/json;base64,")||a.startsWith("{"))){const e=o?atob(a.replace("data:application/json;base64,","")):a;return Oc({uri:Nc(JSON.parse(e)),gatewayUrls:t})}let c=r.tokenID;return"erc1155"===r.namespace&&(c=c.replace("0x","").padStart(64,"0")),async function({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then((e=>e.json()));return await Oc({gatewayUrls:e,uri:Nc(n)})}catch{throw new Ec({uri:t})}}({gatewayUrls:t,uri:a.replace(/(?:0x)?{id}/,c)})}(e,{gatewayUrls:t,record:n}):Oc({uri:n,gatewayUrls:t})}(e,{record:c,gatewayUrls:r})}catch{return null}}(e,t),getEnsName:t=>async function(e,{address:t,blockNumber:n,blockTag:r,gatewayUrls:s,strict:a,universalResolverAddress:i}){let o=i;if(!o){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");o=No({blockNumber:n,chain:e.chain,contract:"ensUniversalResolver"})}const c=`${t.toLowerCase().substring(2)}.addr.reverse`;try{const a={address:o,abi:mo,functionName:"reverse",args:[Yn(wc(c))],blockNumber:n,blockTag:r},i=cn(e,Fo,"readContract"),[l,u]=s?await i({...a,args:[...a.args,s]}):await i(a);return t.toLowerCase()!==u.toLowerCase()?null:l}catch(e){if(a)throw e;if(fc(e,"reverse"))return null;throw e}}(e,t),getEnsResolver:t=>async function(e,{blockNumber:t,blockTag:n,name:r,universalResolverAddress:s}){let a=s;if(!a){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=No({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}const[i]=await cn(e,Fo,"readContract")({address:a,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[Yn(wc(r))],blockNumber:t,blockTag:n});return i}(e,t),getEnsText:t=>Rc(e,t),getFeeHistory:t=>async function(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const a=n?tr(n):void 0;return{baseFeePerGas:(i=await e.request({method:"eth_feeHistory",params:[tr(t),a||r,s]},{dedupe:Boolean(a)})).baseFeePerGas.map((e=>BigInt(e))),gasUsedRatio:i.gasUsedRatio,oldestBlock:BigInt(i.oldestBlock),reward:i.reward?.map((e=>e.map((e=>BigInt(e)))))};var i}(e,t),estimateFeesPerGas:t=>async function(e,t){return ki(e,t)}(e,t),getFilterChanges:e=>Vo(0,e),getFilterLogs:e=>async function(e,{filter:t}){const n=t.strict??!1,r=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map((e=>io(e)));return t.abi?ao({abi:t.abi,logs:r,strict:n}):r}(0,e),getGasPrice:()=>xi(e),getLogs:t=>oo(e,t),getProof:t=>async function(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const a=r??"latest",i=void 0!==n?tr(n):void 0;return o=await e.request({method:"eth_getProof",params:[t,s,i||a]}),{...o,balance:o.balance?BigInt(o.balance):void 0,nonce:o.nonce?Zn(o.nonce):void 0,storageProof:o.storageProof?(c=o.storageProof,c.map((e=>({...e,value:BigInt(e.value)})))):void 0};var o,c}(e,t),estimateMaxPriorityFeePerGas:t=>async function(e,t){return Pi(e,t)}(e,t),getStorageAt:t=>async function(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const a=void 0!==n?tr(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,a||r]})}(e,t),getTransaction:t=>cl(e,t),getTransactionConfirmations:t=>async function(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([cn(e,$o,"getBlockNumber")({}),t?cn(e,cl,"getTransaction")({hash:t}):void 0]),a=n?.blockNumber||s?.blockNumber;return a?r-a+1n:0n}(e,t),getTransactionCount:t=>Ti(e,t),getTransactionReceipt:t=>ll(e,t),multicall:t=>async function(e,t){const{allowFailure:n=!0,batchSize:r,blockNumber:s,blockTag:a,multicallAddress:i,stateOverride:o}=t,c=t.contracts,l=r??("object"==typeof e.batch?.multicall&&e.batch.multicall.batchSize||1024);let u=i;if(!u){if(!e.chain)throw new Error("client chain not configured. multicallAddress is required.");u=No({blockNumber:s,chain:e.chain,contract:"multicall3"})}const d=[[]];let h=0,p=0;for(let e=0;e<c.length;e++){const{abi:t,address:r,args:s,functionName:a}=c[e];try{const e=As({abi:t,args:s,functionName:a});p+=(e.length-2)/2,l>0&&p>l&&d[h].length>0&&(h++,p=(e.length-2)/2,d[h]=[]),d[h]=[...d[h],{allowFailure:!0,callData:e,target:r}]}catch(e){const i=Ua(e,{abi:t,address:r,args:s,docsPath:"/docs/contract/multicall",functionName:a});if(!n)throw i;d[h]=[...d[h],{allowFailure:!0,callData:"0x",target:r}]}}const f=await Promise.allSettled(d.map((t=>cn(e,Fo,"readContract")({abi:ho,address:u,args:[t],blockNumber:s,blockTag:a,functionName:"aggregate3",stateOverride:o})))),m=[];for(let e=0;e<f.length;e++){const t=f[e];if("rejected"===t.status){if(!n)throw t.reason;for(let n=0;n<d[e].length;n++)m.push({status:"failure",error:t.reason,result:void 0});continue}const r=t.value;for(let t=0;t<r.length;t++){const{returnData:s,success:a}=r[t],{callData:i}=d[e][t],{abi:o,address:l,functionName:u,args:h}=c[m.length];try{if("0x"===i)throw new vn;if(!a)throw new la({data:s});const e=uo({abi:o,args:h,data:s,functionName:u});m.push(n?{result:e,status:"success"}:e)}catch(e){const t=Ua(e,{abi:o,address:l,args:h,docsPath:"/docs/contract/multicall",functionName:u});if(!n)throw t;m.push({error:t,result:void 0,status:"failure"})}}}if(m.length!==c.length)throw new mn("multicall results mismatch");return m}(e,t),prepareTransactionRequest:t=>Yi(e,t),readContract:t=>Fo(e,t),sendRawTransaction:t=>Zo(e,t),simulateContract:t=>async function(e,t){const{abi:n,address:r,args:s,dataSuffix:a,functionName:i,...o}=t,c=o.account?ws(o.account):e.account,l=As({abi:n,args:s,functionName:i});try{const{data:u}=await cn(e,So,"call")({batch:!1,data:`${l}${a?a.replace("0x",""):""}`,to:r,...o,account:c});return{result:uo({abi:n,args:s,functionName:i,data:u||"0x"}),request:{abi:n.filter((e=>"name"in e&&e.name===t.functionName)),address:r,args:s,dataSuffix:a,functionName:i,...o,account:c}}}catch(e){throw Ua(e,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:i,sender:c?.address})}}(e,t),verifyMessage:t=>async function(e,{address:t,message:n,factory:r,factoryData:s,signature:a,...i}){return bu(e,{address:t,factory:r,factoryData:s,hash:rl(n),signature:a,...i})}(e,t),verifySiweMessage:t=>async function(e,t){const{address:n,domain:r,message:s,nonce:a,scheme:i,signature:o,time:c=new Date,...l}=t,u=function(e){const{scheme:t,statement:n,...r}=e.match(vu)?.groups??{},{chainId:s,expirationTime:a,issuedAt:i,notBefore:o,requestId:c,...l}=e.match(Au)?.groups??{},u=e.split("Resources:")[1]?.split("\n- ").slice(1);return{...r,...l,...s?{chainId:Number(s)}:{},...a?{expirationTime:new Date(a)}:{},...i?{issuedAt:new Date(i)}:{},...o?{notBefore:new Date(o)}:{},...c?{requestId:c}:{},...u?{resources:u}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}(s);if(!u.address)return!1;if(!function(e){const{address:t,domain:n,message:r,nonce:s,scheme:a,time:i=new Date}=e;if(n&&r.domain!==n)return!1;if(s&&r.nonce!==s)return!1;if(a&&r.scheme!==a)return!1;if(r.expirationTime&&i>=r.expirationTime)return!1;if(r.notBefore&&i<r.notBefore)return!1;try{if(!r.address)return!1;if(t&&!to(r.address,t))return!1}catch{return!1}return!0}({address:n,domain:r,message:u,nonce:a,scheme:i,time:c}))return!1;const d=rl(s);return bu(e,{address:u.address,hash:d,signature:o,...l})}(e,t),verifyTypedData:t=>async function(e,t){const{address:n,factory:r,factoryData:s,signature:a,message:i,primaryType:o,types:c,domain:l,...u}=t;return bu(e,{address:n,factory:r,factoryData:s,hash:Vc({message:i,primaryType:o,types:c,domain:l}),signature:a,...u})}(e,t),uninstallFilter:e=>_o(0,e),waitForTransactionReceipt:t=>async function(e,{confirmations:t=1,hash:n,onReplaced:r,pollingInterval:s=e.pollingInterval,retryCount:a=6,retryDelay:i=({count:e})=>200*(1<<e),timeout:o}){const c=Gs(["waitForTransactionReceipt",e.uid,n]);let l,u,d,h=0,p=!1;return new Promise(((f,m)=>{o&&setTimeout((()=>m(new ra({hash:n}))),o);const y=Mo(c,{onReplaced:r,resolve:f,reject:m},(r=>{const o=cn(e,wu,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:s,async onBlockNumber(s){const c=e=>{o(),e(),y()};let f=s;if(!p){h>a&&c((()=>r.reject(new ra({hash:n}))));try{if(d){if(t>1&&(!d.blockNumber||f-d.blockNumber+1n<t))return;return void c((()=>r.resolve(d)))}if(l||(p=!0,await ic((async()=>{l=await cn(e,cl,"getTransaction")({hash:n}),l.blockNumber&&(f=l.blockNumber)}),{delay:i,retryCount:a}),p=!1),d=await cn(e,ll,"getTransactionReceipt")({hash:n}),t>1&&(!d.blockNumber||f-d.blockNumber+1n<t))return;c((()=>r.resolve(d)))}catch(n){if(n instanceof ta||n instanceof na){if(!l)return void(p=!1);try{u=l,p=!0;const n=await ic((()=>cn(e,Ei,"getBlock")({blockNumber:f,includeTransactions:!0})),{delay:i,retryCount:a,shouldRetry:({error:e})=>e instanceof yi});p=!1;const s=n.transactions.find((({from:e,nonce:t})=>e===u.from&&t===u.nonce));if(!s)return;if(d=await cn(e,ll,"getTransactionReceipt")({hash:s.hash}),t>1&&(!d.blockNumber||f-d.blockNumber+1n<t))return;let o="replaced";s.to===u.to&&s.value===u.value?o="repriced":s.from===s.to&&0n===s.value&&(o="cancelled"),c((()=>{r.onReplaced?.({reason:o,replacedTransaction:u,transaction:s,transactionReceipt:d}),r.resolve(d)}))}catch(e){c((()=>r.reject(e)))}}else c((()=>r.reject(n)))}finally{h++}}}})}))}))}(e,t),watchBlocks:t=>function(e,{blockTag:t="latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:a,includeTransactions:i,poll:o,pollingInterval:c=e.pollingInterval}){const l=void 0!==o?o:"webSocket"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type),u=i??!1;let d;return l?Mo(Gs(["watchBlocks",e.uid,t,n,r,u,c]),{onBlock:s,onError:a},(s=>jo((async()=>{try{const r=await cn(e,Ei,"getBlock")({blockTag:t,includeTransactions:u});if(r.number&&d?.number){if(r.number===d.number)return;if(r.number-d.number>1&&n)for(let t=d?.number+1n;t<r.number;t++){const n=await cn(e,Ei,"getBlock")({blockNumber:t,includeTransactions:u});s.onBlock(n,d),d=n}}(!d?.number||"pending"===t&&!r?.number||r.number&&r.number>d.number)&&(s.onBlock(r,d),d=r)}catch(e){s.onError?.(e)}}),{emitOnBegin:r,interval:c}))):(()=>{let n=!0,i=!0,o=()=>n=!1;return(async()=>{try{r&&cn(e,Ei,"getBlock")({blockTag:t,includeTransactions:u}).then((e=>{n&&i&&(s(e,void 0),i=!1)}));const c=(()=>{if("fallback"===e.transport.type){const t=e.transport.transports.find((e=>"webSocket"===e.config.type));return t?t.value:e.transport}return e.transport})(),{unsubscribe:l}=await c.subscribe({params:["newHeads"],onData(t){if(!n)return;const r=(e.chain?.formatters?.block?.format||vi)(t.result);s(r,d),i=!1,d=r},onError(e){a?.(e)}});o=l,n||o()}catch(e){a?.(e)}})(),()=>o()})()}(e,t),watchBlockNumber:t=>wu(e,t),watchContractEvent:t=>function(e,t){const{abi:n,address:r,args:s,batch:a=!0,eventName:i,fromBlock:o,onError:c,onLogs:l,poll:u,pollingInterval:d=e.pollingInterval,strict:h}=t;return(void 0!==u?u:"bigint"==typeof o||"webSocket"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type))?(()=>{const t=h??!1;return Mo(Gs(["watchContractEvent",r,s,a,e.uid,i,d,t,o]),{onLogs:l,onError:c},(c=>{let l,u;void 0!==o&&(l=o-1n);let h=!1;const p=jo((async()=>{if(h)try{let o;if(u)o=await cn(e,Vo,"getFilterChanges")({filter:u});else{const a=await cn(e,$o,"getBlockNumber")({});o=l&&l<a?await cn(e,co,"getContractEvents")({abi:n,address:r,args:s,eventName:i,fromBlock:l+1n,toBlock:a,strict:t}):[],l=a}if(0===o.length)return;if(a)c.onLogs(o);else for(const e of o)c.onLogs([e])}catch(e){u&&e instanceof va&&(h=!1),c.onError?.(e)}else{try{u=await cn(e,bs,"createContractEventFilter")({abi:n,address:r,args:s,eventName:i,strict:t,fromBlock:o})}catch{}h=!0}}),{emitOnBegin:!0,interval:d});return async()=>{u&&await cn(e,_o,"uninstallFilter")({filter:u}),p()}}))})():(()=>{const t=h??!1,o=Gs(["watchContractEvent",r,s,a,e.uid,i,d,t]);let u=!0,p=()=>u=!1;return Mo(o,{onLogs:l,onError:c},(t=>((async()=>{try{const a=(()=>{if("fallback"===e.transport.type){const t=e.transport.transports.find((e=>"webSocket"===e.config.type));return t?t.value:e.transport}return e.transport})(),o=i?ms({abi:n,eventName:i,args:s}):[],{unsubscribe:c}=await a.subscribe({params:["logs",{address:r,topics:o}],onData(e){if(!u)return;const r=e.result;try{const{eventName:e,args:s}=ro({abi:n,data:r.data,topics:r.topics,strict:h}),a=io(r,{args:s,eventName:e});t.onLogs([a])}catch(e){let n,s;if(e instanceof Rn||e instanceof Sn){if(h)return;n=e.abiItem.name,s=e.abiItem.inputs?.some((e=>!("name"in e&&e.name)))}const a=io(r,{args:s?[]:{},eventName:n});t.onLogs([a])}},onError(e){t.onError?.(e)}});p=c,u||p()}catch(e){c?.(e)}})(),()=>p())))})()}(e,t),watchEvent:t=>function(e,{address:t,args:n,batch:r=!0,event:s,events:a,fromBlock:i,onError:o,onLogs:c,poll:l,pollingInterval:u=e.pollingInterval,strict:d}){const h=void 0!==l?l:"bigint"==typeof i||"webSocket"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type),p=d??!1;return h?Mo(Gs(["watchEvent",t,n,r,e.uid,s,u,i]),{onLogs:c,onError:o},(o=>{let c,l;void 0!==i&&(c=i-1n);let d=!1;const h=jo((async()=>{if(d)try{let i;if(l)i=await cn(e,Vo,"getFilterChanges")({filter:l});else{const r=await cn(e,$o,"getBlockNumber")({});i=c&&c!==r?await cn(e,oo,"getLogs")({address:t,args:n,event:s,events:a,fromBlock:c+1n,toBlock:r}):[],c=r}if(0===i.length)return;if(r)o.onLogs(i);else for(const e of i)o.onLogs([e])}catch(e){l&&e instanceof va&&(d=!1),o.onError?.(e)}else{try{l=await cn(e,Sc,"createEventFilter")({address:t,args:n,event:s,events:a,strict:p,fromBlock:i})}catch{}d=!0}}),{emitOnBegin:!0,interval:u});return async()=>{l&&await cn(e,_o,"uninstallFilter")({filter:l}),h()}})):(()=>{let r=!0,i=()=>r=!1;return(async()=>{try{const l=(()=>{if("fallback"===e.transport.type){const t=e.transport.transports.find((e=>"webSocket"===e.config.type));return t?t.value:e.transport}return e.transport})(),u=a??(s?[s]:void 0);let h=[];if(u){const e=u.flatMap((e=>ms({abi:[e],eventName:e.name,args:n})));h=[e],s&&(h=h[0])}const{unsubscribe:f}=await l.subscribe({params:["logs",{address:t,topics:h}],onData(e){if(!r)return;const t=e.result;try{const{eventName:e,args:n}=ro({abi:u??[],data:t.data,topics:t.topics,strict:p}),r=io(t,{args:n,eventName:e});c([r])}catch(e){let n,r;if(e instanceof Rn||e instanceof Sn){if(d)return;n=e.abiItem.name,r=e.abiItem.inputs?.some((e=>!("name"in e&&e.name)))}const s=io(t,{args:r?[]:{},eventName:n});c([s])}},onError(e){o?.(e)}});i=f,r||i()}catch(e){o?.(e)}})(),()=>i()})()}(e,t),watchPendingTransactions:t=>function(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:a=e.pollingInterval}){return(void 0!==s?s:"webSocket"!==e.transport.type)?Mo(Gs(["watchPendingTransactions",e.uid,t,a]),{onTransactions:r,onError:n},(n=>{let r;const s=jo((async()=>{try{if(!r)try{return void(r=await cn(e,Fc,"createPendingTransactionFilter")({}))}catch(e){throw s(),e}const a=await cn(e,Vo,"getFilterChanges")({filter:r});if(0===a.length)return;if(t)n.onTransactions(a);else for(const e of a)n.onTransactions([e])}catch(e){n.onError?.(e)}}),{emitOnBegin:!0,interval:a});return async()=>{r&&await cn(e,_o,"uninstallFilter")({filter:r}),s()}})):(()=>{let t=!0,s=()=>t=!1;return(async()=>{try{const{unsubscribe:a}=await e.transport.subscribe({params:["newPendingTransactions"],onData(e){if(!t)return;const n=e.result;r([n])},onError(e){n?.(e)}});s=a,t||s()}catch(e){n?.(e)}})(),()=>s()})()}(e,t)}}function xu(e){const{key:t="public",name:n="Public Client"}=e;return sc({...e,key:t,name:n,type:"publicClient"}).extend(Eu)}function Pu(e){return{addChain:t=>async function(e,{chain:t}){const{id:n,name:r,nativeCurrency:s,rpcUrls:a,blockExplorers:i}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:tr(n),chainName:r,nativeCurrency:s,rpcUrls:a.default.http,blockExplorerUrls:i?Object.values(i).map((({url:e})=>e)):void 0}]},{dedupe:!0,retryCount:0})}(e,t),deployContract:t=>function(e,t){const{abi:n,args:r,bytecode:s,...a}=t;return Wo(e,{...a,data:Co({abi:n,args:r,bytecode:s})})}(e,t),getAddresses:()=>async function(e){return"local"===e.account?.type?[e.account.address]:(await e.request({method:"eth_accounts"},{dedupe:!0})).map((e=>Jr(e)))}(e),getChainId:()=>Zi(e),getPermissions:()=>async function(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}(e),prepareTransactionRequest:t=>Yi(e,t),requestAddresses:()=>async function(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map((e=>Kr(e)))}(e),requestPermissions:t=>async function(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}(e,t),sendRawTransaction:t=>Zo(e,t),sendTransaction:t=>Wo(e,t),signMessage:t=>async function(e,{account:t=e.account,message:n}){if(!t)throw new Qo({docsPath:"/docs/actions/wallet/signMessage"});const r=ws(t);if(r.signMessage)return r.signMessage({message:n});const s="string"==typeof n?rr(n):n.raw instanceof Uint8Array?Yn(n.raw):n.raw;return e.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}(e,t),signTransaction:t=>async function(e,t){const{account:n=e.account,chain:r=e.chain,...s}=t;if(!n)throw new Qo({docsPath:"/docs/actions/wallet/signTransaction"});const a=ws(n);hi({account:a,...t});const i=await cn(e,Zi,"getChainId")({});null!==r&&Ko({currentChainId:i,chain:r});const o=r?.formatters||e.chain?.formatters,c=o?.transactionRequest?.format||ii;return a.signTransaction?a.signTransaction({...s,chainId:i},{serializer:e.chain?.serializers?.transaction}):await e.request({method:"eth_signTransaction",params:[{...c(s),chainId:tr(i),from:a.address}]},{retryCount:0})}(e,t),signTypedData:t=>async function(e,t){const{account:n=e.account,domain:r,message:s,primaryType:a}=t;if(!n)throw new Qo({docsPath:"/docs/actions/wallet/signTypedData"});const i=ws(n),o={EIP712Domain:Yc({domain:r}),...t.types};if(Wc({domain:r,message:s,primaryType:a,types:o}),i.signTypedData)return i.signTypedData({domain:r,message:s,primaryType:a,types:o});const c=function(e){const{domain:t,message:n,primaryType:r,types:s}=e,a=(e,t)=>{const n={...t};for(const t of e){const{name:e,type:r}=t;"address"===r&&(n[e]=n[e].toLowerCase())}return n},i=s.EIP712Domain&&t?a(s.EIP712Domain,t):{},o=(()=>{if("EIP712Domain"!==r)return a(s[r],n)})();return Gs({domain:i,message:o,primaryType:r,types:s})}({domain:r,message:s,primaryType:a,types:o});return e.request({method:"eth_signTypedData_v4",params:[i.address,c]},{retryCount:0})}(e,t),switchChain:t=>async function(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:tr(t)}]},{retryCount:0})}(e,t),watchAsset:t=>async function(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}(e,t),writeContract:t=>async function(e,t){const{abi:n,account:r=e.account,address:s,args:a,dataSuffix:i,functionName:o,...c}=t;if(!r)throw new Qo({docsPath:"/docs/contract/writeContract"});const l=ws(r),u=As({abi:n,args:a,functionName:o});try{return await cn(e,Wo,"sendTransaction")({data:`${u}${i?i.replace("0x",""):""}`,to:s,account:l,...c})}catch(e){throw Ua(e,{abi:n,address:s,args:a,docsPath:"/docs/contract/writeContract",functionName:o,sender:l.address})}}(e,t)}}function ku(e){const{key:t="wallet",name:n="Wallet Client",transport:r}=e;return sc({...e,key:t,name:n,transport:r,type:"walletClient"}).extend(Pu)}const Tu="%[a-f0-9]{2}";var Bu,Iu,Cu,Nu,Ou,Ru,Su;function Fu(e,t){const n={method:"GET",headers:{"Content-Type":"application/json"},mode:"cors",...t};return fetch(e,n).then((e=>{if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return e.json()})).catch((e=>{throw console.error("Request failed:",e),e}))}function Uu(e,t){const n=Object.keys(e).map((t=>({name:t,type:typeof e[t]})));if(t.length!==n.length)throw new Error("Field length is not equal");return t.every((e=>{const t=n.find((t=>t.name===e.name));if(!t)throw new Error(`Field ${e.name} is required`);return t}))}function Du(e,t,n){return is(t===Bu.ONCHAIN?n:[{type:"string"}],t===Bu.ONCHAIN?n.map((t=>e[t.name])):[e])}new RegExp("("+Tu+")|([^%]+?)","gi"),new RegExp("("+Tu+")+","gi"),Symbol("encodeFragmentIdentifier"),function(e){e[e.ONCHAIN=0]="ONCHAIN",e[e.ARWEAVE=1]="ARWEAVE",e[e.IPFS=2]="IPFS"}(Bu||(Bu={})),function(e){e.ARWEAVE="arweave",e.IPFS="ipfs",e.GREENFIELD="greenfield",e.GREENFIELD_TESTTNET="greenfield-testnet"}(Iu||(Iu={})),function(e){e.eip712="eip712"}(Cu||(Cu={})),function(e){e.EvmEip712="evm-eip712"}(Nu||(Nu={})),function(e){e.evm="evm"}(Ou||(Ou={})),function(e){e.OnChain="OnChain",e.OffChain="OffChain"}(Ru||(Ru={})),function(e){e.Address="address",e.String="string"}(Su||(Su={}));class Lu{constructor(e,t,n){this.rpc=n||gt.mainnet,this.signType=t,this.chainType=e}async revokeAttestation(e,t){const{reason:n}=t||{},r=(await this.getAccount()).address,s=this.signType,a=this.chainType,i={attestationId:e,reason:n||""},o=JSON.stringify(i);let c="",l=o;if("eip712"===s){const e=await this.signTypedData({message:i,types:{Data:[{name:"attestationId",type:"string"},{name:"reason",type:"string"}]},primaryType:"Data"});c=e.signature,l=JSON.stringify(e.message)}else c=await this.signMessage(o);const u=this.rpc+"/sp/revoke-attestation";try{if(await Fu(u,{method:"POST",body:JSON.stringify({signType:a+"-"+s,publicKey:r,signature:c,message:l,revokeInfo:o})}))return{attestationId:e,reason:n};throw new Error("revoke attestation failed")}catch(e){throw new Error("revoke attestation failed")}}async createSchema(e){const t=(await this.getAccount()).address,n=this.signType,r=this.chainType,{name:s,description:a,revocable:i,maxValidFor:o,data:c,dataLocation:l=Iu.ARWEAVE}=e,u={name:s||"",description:a||"",revocable:void 0===i||i,maxValidFor:o||0,types:c,dataLocation:l},d=JSON.stringify(u);let h="",p=d;if("eip712"===n){const e=await this.signTypedData({message:u,types:{Data:[{name:"name",type:"string"},{name:"description",type:"string"},{name:"revocable",type:"bool"},{name:"maxValidFor",type:"uint32"},{name:"dataLocation",type:"string"},{name:"types",type:"SchemaItem[]"}],SchemaItem:[{name:"name",type:"string"},{name:"type",type:"string"}]},primaryType:"Data"});h=e.signature,p=JSON.stringify(e.message)}else h=await this.signMessage(d);const f=this.rpc+"/sp/schemas";return(await Fu(f,{method:"POST",body:JSON.stringify({signType:r+"-"+n,publicKey:t,signature:h,message:p,schema:d})})).data}async getSchema(e){const t=this.rpc+"/sp/schemas/"+e,n=await Fu(t,{method:"GET"});if(!n.data)throw new Error("schema not found");const{name:r,description:s,revocable:a,dataLocation:i,maxValidFor:o,resolver:c,data:l}=n.data;return{name:r,description:s,revocable:a,dataLocation:i,maxValidFor:o,resolver:c,data:l}}async createAttestation(e){const t=(await this.getAccount()).address,n=this.signType,r=this.chainType,{schemaId:s,linkedAttestationId:a,validUntil:i,recipients:o,indexingValue:c,data:l,dataLocation:u=Iu.ARWEAVE}=e,d={schemaId:s,linkedAttestationId:a||"",validUntil:i||0,recipients:o||[],indexingValue:c,dataLocation:u,data:JSON.stringify(l)},h=JSON.stringify(d),p=await this.getSchema(s),f=p?.data;if(!p)throw new Error("schema not found");if(!Uu(l,f))throw new Error("data is not valid");let m="",y=h;if("eip712"===n){let e=!0;o?.forEach((t=>{Yr(t)||(e=!1)}));const t=await this.signTypedData({message:d,types:{AttestationData:f,Data:[{name:"schemaId",type:"string"},{name:"linkedAttestationId",type:"string"},{name:"data",type:"string"},{name:"validUntil",type:"uint32"},{name:"recipients",type:e?"address[]":"string[]"},{name:"indexingValue",type:Yr(c)?"address":"string"}]},primaryType:"Data"});m=t.signature,y=JSON.stringify(t.message)}else m=await this.signMessage(h);const g=this.rpc+"/sp/attestations";return(await Fu(g,{method:"POST",body:JSON.stringify({signType:r+"-"+n,publicKey:t,signature:m,message:y,attestation:h})})).data}async getAttestation(e){const t=this.rpc+"/index/attestations/"+e,n=await Fu(t,{method:"GET"});if(!n.data)throw new Error("attestation not found");const{schemaId:r,linkedAttestationId:s,data:a,validUntil:i,revoked:o,recipients:c,indexingValue:l}=n.data;return{schemaId:r,linkedAttestationId:s,data:a?JSON.parse(a):a,validUntil:i,revoked:o,recipients:c,indexingValue:l}}}function Mu(e,t){return function(e){return"deposit"===e.type||void 0!==e.sourceHash}(e)?function(e){!function(e){const{from:t,to:n}=e;if(t&&!Yr(t))throw new Vr({address:t});if(n&&!Yr(n))throw new Vr({address:n})}(e);const{sourceHash:t,data:n,from:r,gas:s,isSystemTx:a,mint:i,to:o,value:c}=e;return es(["0x7e",Ma([t,r,o??"0x",i?Yn(i):"0x",c?Yn(c):"0x",s?Yn(s):"0x",a?"0x1":"0x",n??"0x"])])}(e):function(e,t){const n=Ki(e);return"eip1559"===n?function(e,t){const{chainId:n,gas:r,nonce:s,to:a,value:i,maxFeePerGas:o,maxPriorityFeePerGas:c,accessList:l,data:u}=e;al(e);const d=il(l);return es(["0x02",Ma([Yn(n),s?Yn(s):"0x",c?Yn(c):"0x",o?Yn(o):"0x",r?Yn(r):"0x",a??"0x",i?Yn(i):"0x",u??"0x",d,...ol(e,t)])])}(e,t):"eip2930"===n?function(e,t){const{chainId:n,gas:r,data:s,nonce:a,to:i,value:o,accessList:c,gasPrice:l}=e;!function(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:a}=e;if(t<=0)throw new Bo({chainId:t});if(a&&!Yr(a))throw new Vr({address:a});if(n||s)throw new mn("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>di)throw new Va({maxFeePerGas:r})}(e);const u=il(c);return es(["0x01",Ma([Yn(n),a?Yn(a):"0x",l?Yn(l):"0x",r?Yn(r):"0x",i??"0x",o?Yn(o):"0x",s??"0x",u,...ol(e,t)])])}(e,t):"eip4844"===n?function(e,t){const{chainId:n,gas:r,nonce:s,to:a,value:i,maxFeePerBlobGas:o,maxFeePerGas:c,maxPriorityFeePerGas:l,accessList:u,data:d}=e;!function(e){const{blobVersionedHashes:t}=e;if(t){if(0===t.length)throw new Vi;for(const e of t){const t=hn(e),n=Zn(ts(e,0,1));if(32!==t)throw new _i({hash:e,size:t});if(n!==qi)throw new Qi({hash:e,version:n})}}al(e)}(e);let h=e.blobVersionedHashes,p=e.sidecars;if(e.blobs&&(void 0===h||void 0===p)){const t="string"==typeof e.blobs[0]?e.blobs:e.blobs.map((e=>er(e))),n=e.kzg,r=Bi({blobs:t,kzg:n});void 0===h&&(h=Mi({commitments:r})),void 0===p&&(p=Ji({blobs:t,commitments:r,proofs:Ii({blobs:t,commitments:r,kzg:n})}))}const f=il(u),m=[Yn(n),s?Yn(s):"0x",l?Yn(l):"0x",c?Yn(c):"0x",r?Yn(r):"0x",a??"0x",i?Yn(i):"0x",d??"0x",f,o?Yn(o):"0x",h??[],...ol(e,t)],y=[],g=[],b=[];if(p)for(let e=0;e<p.length;e++){const{blob:t,commitment:n,proof:r}=p[e];y.push(t),g.push(n),b.push(r)}return es(["0x03",Ma(p?[m,y,g,b]:m)])}(e,t):"eip7702"===n?function(e,t){const{authorizationList:n,chainId:r,gas:s,nonce:a,to:i,value:o,maxFeePerGas:c,maxPriorityFeePerGas:l,accessList:u,data:d}=e;!function(e){const{authorizationList:t}=e;if(t)for(const e of t){const{contractAddress:t,chainId:n}=e;if(!Yr(t))throw new Vr({address:t});if(n<=0)throw new Bo({chainId:n})}al(e)}(e);const h=il(u),p=function(e){if(!e||0===e.length)return[];const t=[];for(const n of e){const{contractAddress:e,chainId:r,nonce:s,...a}=n;t.push([Yn(r),e,s?Yn(s):"0x",...ol({},a)])}return t}(n);return es(["0x04",Ma([Yn(r),a?Yn(a):"0x",l?Yn(l):"0x",c?Yn(c):"0x",s?Yn(s):"0x",i??"0x",o?Yn(o):"0x",d??"0x",h,p,...ol(e,t)])])}(e,t):function(e,t){const{chainId:n=0,gas:r,data:s,nonce:a,to:i,value:o,gasPrice:c}=e;!function(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:a}=e;if(a&&!Yr(a))throw new Vr({address:a});if(void 0!==t&&t<=0)throw new Bo({chainId:t});if(n||s)throw new mn("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>di)throw new Va({maxFeePerGas:r})}(e);let l=[a?Yn(a):"0x",c?Yn(c):"0x",r?Yn(r):"0x",i??"0x",o?Yn(o):"0x",s??"0x"];if(t){const e=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(35n===t.v?0n:1n);if(n>0)return BigInt(2*n)+BigInt(35n+t.v-27n);const e=27n+(27n===t.v?0n:1n);if(t.v!==e)throw new Ws({v:t.v});return e})(),r=Qn(t.r),s=Qn(t.s);l=[...l,Yn(e),"0x00"===r?"0x":r,"0x00"===s?"0x":s]}else n>0&&(l=[...l,Yn(n),"0x","0x"]);return Ma(l)}(e,t)}(e,t)}const Gu={contracts:{gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},formatters:{block:Ai({format(e){const t=e.transactions?.map((e=>{if("string"==typeof e)return e;const t=bi(e);return"0x7e"===t.typeHex&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?Kn(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}));return{transactions:t,stateRoot:e.stateRoot}}}),transaction:wi({format(e){const t={};return"0x7e"===e.type&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?Kn(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}}),transactionReceipt:tl({format:e=>({l1GasPrice:e.l1GasPrice?Kn(e.l1GasPrice):null,l1GasUsed:e.l1GasUsed?Kn(e.l1GasUsed):null,l1Fee:e.l1Fee?Kn(e.l1Fee):null,l1FeeScalar:e.l1FeeScalar?Number(e.l1FeeScalar):null})})},serializers:{transaction:Mu}},ju=zc({id:42161,name:"Arbitrum One",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://arbiscan.io",apiUrl:"https://api.arbiscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7654707}}}),Hu=zc({id:421614,name:"Arbitrum Sepolia",nativeCurrency:{name:"Arbitrum Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia-rollup.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://sepolia.arbiscan.io",apiUrl:"https://api-sepolia.arbiscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:81930}},testnet:!0}),zu=1,qu=zc({...Gu,id:8453,name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://basescan.org",apiUrl:"https://api.basescan.org/api"}},contracts:{...Gu.contracts,l2OutputOracle:{[zu]:{address:"0x56315b90c40730925ec5485cf004d835058518A0"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:5022},portal:{[zu]:{address:"0x49048044D57e1C92A77f79988d21Fa8fAF74E97e",blockCreated:17482143}},l1StandardBridge:{[zu]:{address:"0x3154Cf16ccdb4C6d922629664174b904d80F2C35",blockCreated:17482143}}},sourceId:1}),$u=11155111,Vu=zc({...Gu,id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://sepolia.basescan.org",apiUrl:"https://api-sepolia.basescan.org/api"}},contracts:{...Gu.contracts,disputeGameFactory:{[$u]:{address:"0xd6E6dBf4F7EA0ac412fD8b65ED297e64BB7a06E1"}},l2OutputOracle:{[$u]:{address:"0x84457ca9D0163FbC4bbfe4Dfbb20ba46e48DF254"}},portal:{[$u]:{address:"0x49f53e41452c74589e85ca1677426ba426459e85",blockCreated:4446677}},l1StandardBridge:{[$u]:{address:"0xfd0Bf71F60660E2f608ed56e1659C450eB113120",blockCreated:4446677}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1059647}},testnet:!0,sourceId:$u}),_u=zc({id:80085,name:"Berachain Artio",nativeCurrency:{decimals:18,name:"BERA Token",symbol:"BERA"},rpcUrls:{default:{http:["https://artio.rpc.berachain.com"]}},blockExplorers:{default:{name:"Berachain",url:"https://artio.beratrail.io"}},testnet:!0}),Qu=zc({id:56,name:"BNB Smart Chain",nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:{default:{http:["https://rpc.ankr.com/bsc"]}},blockExplorers:{default:{name:"BscScan",url:"https://bscscan.com",apiUrl:"https://api.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:15921452}}}),Ju={estimateFeesPerGas:async e=>{if(!e.request?.feeCurrency)return null;const[t,n]=await Promise.all([Ku(e.client,e.request.feeCurrency),Zu(e.client,e.request.feeCurrency)]);return{maxFeePerGas:t,maxPriorityFeePerGas:n}}};async function Ku(e,t){const n=await e.request({method:"eth_gasPrice",params:[t]});return BigInt(n)}async function Zu(e,t){const n=await e.request({method:"eth_maxPriorityFeePerGas",params:[t]});return BigInt(n)}function Wu(e){return 0===e||0n===e||null==e||"0"===e||""===e||"string"==typeof e&&("0x"===Qn(e).toLowerCase()||"0x00"===Qn(e).toLowerCase())}function Yu(e){return!Wu(e)}function Xu(e){return"cip64"===e.type||function(e){return void 0!==e.maxFeePerGas&&void 0!==e.maxPriorityFeePerGas}(e)&&Yu(e.feeCurrency)}const ed={block:Ai({format(e){const t=e.transactions?.map((e=>"string"==typeof e?e:{...bi(e),...e.gatewayFee?{gatewayFee:Kn(e.gatewayFee),gatewayFeeRecipient:e.gatewayFeeRecipient}:{},feeCurrency:e.feeCurrency}));return{transactions:t,...e.randomness?{randomness:e.randomness}:{}}}}),transaction:wi({format(e){if("0x7e"===e.type)return{isSystemTx:e.isSystemTx,mint:e.mint?Kn(e.mint):void 0,sourceHash:e.sourceHash,type:"deposit"};const t={feeCurrency:e.feeCurrency};return"0x7b"===e.type?t.type="cip64":("0x7c"===e.type&&(t.type="cip42"),t.gatewayFee=e.gatewayFee?Kn(e.gatewayFee):null,t.gatewayFeeRecipient=e.gatewayFeeRecipient),t}}),transactionRequest:oi({format(e){const t={};return e.feeCurrency&&(t.feeCurrency=e.feeCurrency),Xu(e)&&(t.type="0x7b"),t}})},td={transaction:function(e,t){return Xu(e)?function(e,t){!function(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:a,feeCurrency:i}=e;if(t<=0)throw new Bo({chainId:t});if(a&&!Yr(a))throw new Vr({address:a});if(r)throw new mn("`gasPrice` is not a valid CIP-64 Transaction attribute.");if(Yu(s)&&s>nd)throw new Va({maxFeePerGas:s});if(Yu(n)&&Yu(s)&&n>s)throw new ei({maxFeePerGas:s,maxPriorityFeePerGas:n});if(Yu(i)&&!Yr(i))throw new mn("`feeCurrency` MUST be a token address for CIP-64 transactions.");if(Wu(i))throw new mn("`feeCurrency` must be provided for CIP-64 transactions.")}(e);const{chainId:n,gas:r,nonce:s,to:a,value:i,maxFeePerGas:o,maxPriorityFeePerGas:c,accessList:l,feeCurrency:u,data:d}=e;return es(["0x7b",Ma([Yn(n),s?Yn(s):"0x",c?Yn(c):"0x",o?Yn(o):"0x",r?Yn(r):"0x",a??"0x",i?Yn(i):"0x",d??"0x",il(l),u,...ol(e,t)])])}(e,t):Mu(e,t)}},nd=di,rd={formatters:ed,serializers:td,fees:Ju},sd=zc({...rd,id:42220,name:"Celo",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://forno.celo.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://celoscan.io",apiUrl:"https://api.celoscan.io/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:13112599}},testnet:!1}),ad=zc({...rd,id:44787,name:"Alfajores",nativeCurrency:{decimals:18,name:"CELO",symbol:"A-CELO"},rpcUrls:{default:{http:["https://alfajores-forno.celo-testnet.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://explorer.celo.org/alfajores",apiUrl:"https://explorer.celo.org/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:14569001}},testnet:!0}),id=zc({id:7560,name:"Cyber",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://cyber.alt.technology"]}},blockExplorers:{default:{name:"Blockscout",url:"https://cyberscan.co",apiUrl:"https://cyberscan.co/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:0}}}),od=zc({id:666666666,name:"Degen",nativeCurrency:{decimals:18,name:"Degen",symbol:"DEGEN"},rpcUrls:{default:{http:["https://rpc.degen.tips"],webSocket:["wss://rpc.degen.tips"]}},blockExplorers:{default:{name:"Degen Chain Explorer",url:"https://explorer.degen.tips",apiUrl:"https://explorer.degen.tips/api/v2"}}}),cd=zc({id:100,name:"Gnosis",nativeCurrency:{decimals:18,name:"Gnosis",symbol:"xDAI"},rpcUrls:{default:{http:["https://rpc.gnosischain.com"],webSocket:["wss://rpc.gnosischain.com/wss"]}},blockExplorers:{default:{name:"Gnosisscan",url:"https://gnosisscan.io",apiUrl:"https://api.gnosisscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:21022491}}}),ld=zc({id:10200,name:"Gnosis Chiado",nativeCurrency:{decimals:18,name:"Gnosis",symbol:"xDAI"},rpcUrls:{default:{http:["https://rpc.chiadochain.net"],webSocket:["wss://rpc.chiadochain.net/wss"]}},blockExplorers:{default:{name:"Blockscout",url:"https://blockscout.chiadochain.net",apiUrl:"https://blockscout.chiadochain.net/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:4967313}},testnet:!0}),ud=zc({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://cloudflare-eth.com"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),dd=1,hd=zc({...Gu,id:10,name:"OP Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.optimism.io"]}},blockExplorers:{default:{name:"Optimism Explorer",url:"https://optimistic.etherscan.io",apiUrl:"https://api-optimistic.etherscan.io/api"}},contracts:{...Gu.contracts,disputeGameFactory:{[dd]:{address:"0xe5965Ab5962eDc7477C8520243A95517CD252fA9"}},l2OutputOracle:{[dd]:{address:"0xdfe97868233d1aa22e815a266982f2cf17685a27"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:4286263},portal:{[dd]:{address:"0xbEb5Fc579115071764c7423A4f12eDde41f106Ed"}},l1StandardBridge:{[dd]:{address:"0x99C9fc46f92E8a1c0deC1b1747d010903E884bE1"}}},sourceId:1}),pd=11155111,fd=zc({...Gu,id:11155420,name:"OP Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.optimism.io"]}},blockExplorers:{default:{name:"Blockscout",url:"https://optimism-sepolia.blockscout.com",apiUrl:"https://optimism-sepolia.blockscout.com/api"}},contracts:{...Gu.contracts,disputeGameFactory:{[pd]:{address:"0x05F9613aDB30026FFd634f38e5C4dFd30a197Fa1"}},l2OutputOracle:{[pd]:{address:"0x90E9c4f8a994a250F6aEfd61CAFb4F2e895D458F"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1620204},portal:{[pd]:{address:"0x16Fc5058F25648194471939df75CF27A2fdC48BC"}},l1StandardBridge:{[pd]:{address:"0xFBb0621E0B23b5478B630BD55a5f21f67730B0F1"}}},testnet:!0,sourceId:pd}),md=56,yd=zc({id:204,name:"opBNB",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},rpcUrls:{default:{http:["https://opbnb-mainnet-rpc.bnbchain.org"]}},blockExplorers:{default:{name:"opbnbscan",url:"https://mainnet.opbnbscan.com"}},contracts:{...Gu.contracts,multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:512881},l2OutputOracle:{[md]:{address:"0x153CAB79f4767E2ff862C94aa49573294B13D169"}},portal:{[md]:{address:"0x1876EA7702C0ad0C6A2ae6036DE7733edfBca519"}},l1StandardBridge:{[md]:{address:"0xF05F0e4362859c3331Cb9395CBC201E3Fa6757Ea"}}},sourceId:56}),gd=97,bd=zc({id:5611,name:"opBNB Testnet",nativeCurrency:{decimals:18,name:"tBNB",symbol:"tBNB"},rpcUrls:{default:{http:["https://opbnb-testnet-rpc.bnbchain.org"]}},blockExplorers:{default:{name:"opbnbscan",url:"https://testnet.opbnbscan.com"}},contracts:{...Gu.contracts,multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:3705108},l2OutputOracle:{[gd]:{address:"0xFf2394Bb843012562f4349C6632a0EcB92fC8810"}},portal:{[gd]:{address:"0x4386C8ABf2009aC0c263462Da568DD9d46e52a31"}},l1StandardBridge:{[gd]:{address:"0x677311Fd2cCc511Bbc0f581E8d9a07B033D5E840"}}},testnet:!0,sourceId:97}),wd=zc({id:161221135,name:"Plume Testnet",nativeCurrency:{name:"Plume Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://testnet-rpc.plumenetwork.xyz/http"],webSocket:["wss://testnet-rpc.plumenetwork.xyz/ws"]}},blockExplorers:{default:{name:"Blockscout",url:"https://testnet-explorer.plumenetwork.xyz",apiUrl:"https://testnet-explorer.plumenetwork.xyz/api"}},testnet:!0,sourceId:11155111}),vd=zc({id:137,name:"Polygon",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{default:{http:["https://polygon-rpc.com"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://polygonscan.com",apiUrl:"https://api.polygonscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25770160}}}),Ad=zc({id:80002,name:"Polygon Amoy",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},rpcUrls:{default:{http:["https://rpc-amoy.polygon.technology"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://amoy.polygonscan.com",apiUrl:"https://api-amoy.polygonscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:3127388}},testnet:!0}),Ed=zc({id:80001,name:"Polygon Mumbai",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},rpcUrls:{default:{http:["https://rpc.ankr.com/polygon_mumbai"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://mumbai.polygonscan.com",apiUrl:"https://api-testnet.polygonscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25770160}},testnet:!0}),xd=zc({id:534352,name:"Scroll",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.scroll.io"],webSocket:["wss://wss-rpc.scroll.io/ws"]}},blockExplorers:{default:{name:"Scrollscan",url:"https://scrollscan.com",apiUrl:"https://api.scrollscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14}},testnet:!1}),Pd=zc({id:534351,name:"Scroll Sepolia",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia-rpc.scroll.io"]}},blockExplorers:{default:{name:"Scrollscan",url:"https://sepolia.scrollscan.com",apiUrl:"https://api-sepolia.scrollscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:9473}},testnet:!0}),kd=zc({id:11155111,name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc2.sepolia.org"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.etherscan.io",apiUrl:"https://api-sepolia.etherscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:751532},ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xc8Af999e38273D658BE1b921b88A9Ddf005769cC",blockCreated:5317080}},testnet:!0}),Td=zc({id:196,name:"X Layer Mainnet",nativeCurrency:{decimals:18,name:"OKB",symbol:"OKB"},rpcUrls:{default:{http:["https://rpc.xlayer.tech"]}},blockExplorers:{default:{name:"OKLink",url:"https://www.oklink.com/xlayer"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:47416}}}),Bd=zc({id:7e3,name:"ZetaChain",nativeCurrency:{decimals:18,name:"Zeta",symbol:"ZETA"},rpcUrls:{default:{http:["https://zetachain-evm.blockpi.network/v1/rpc/public"]}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:1632781}},blockExplorers:{default:{name:"ZetaScan",url:"https://explorer.zetachain.com"}},testnet:!1}),Id=zc({id:7001,name:"ZetaChain Athens Testnet",nativeCurrency:{decimals:18,name:"Zeta",symbol:"aZETA"},rpcUrls:{default:{http:["https://zetachain-athens-evm.blockpi.network/v1/rpc/public"]}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:2715217}},blockExplorers:{default:{name:"ZetaScan",url:"https://athens.explorer.zetachain.com"}},testnet:!0});var Cd;!function(e){e.mainnet="mainnet",e.gnosis="gnosis",e.degen="degen",e.polygon="polygon",e.opBNB="opBNB",e.scroll="scroll",e.base="base",e.optimism="optimism",e.xLayer="xLayer",e.zetachainAthensTestnet="zetachainAthensTestnet",e.opBNBTestnet="opBNBTestnet",e.zetachainMainnet="zetachainMainnet",e.scrollSepolia="scrollSepolia",e.plumeTestnet="plumeTestnet",e.berachainTestnet="berachainTestnet",e.baseSepolia="baseSepolia",e.sepolia="sepolia",e.polygonAmoy="polygonAmoy",e.gnosisChiado="gnosisChiado",e.optimismSepolia="optimismSepolia",e.arbitrumSepolia="arbitrumSepolia",e.polygonMumbai="polygonMumbai",e.cyber="cyber",e.arbitrum="arbitrum",e.bsc="bsc",e.celo="celo",e.celoAlfajores="celoAlfajores"}(Cd||(Cd={}));const Nd={[Cd.mainnet]:{address:"0x3D8E699Db14d7781557fE94ad99d93Be180A6594",chain:ud},[Cd.bsc]:{address:"0xe2C15B97F628B7Ad279D6b002cEDd414390b6D63",chain:Qu},[Cd.zetachainAthensTestnet]:{address:"0x5d4D4eEd224028C230aFEbB69d279DE99bC06338",chain:Id},[Cd.opBNBTestnet]:{address:"0x72efA4093539A909C1f9bcCA1aE6bcDa435a3433",chain:bd},[Cd.zetachainMainnet]:{address:"0xBbc279ee396074aC968b459d542DEE60c6bD71C1",chain:Bd},[Cd.polygon]:{address:"0xe2C15B97F628B7Ad279D6b002cEDd414390b6D63",chain:vd},[Cd.opBNB]:{address:"0x03688D459F172B058d39241456Ae213FC4E26941",chain:yd},[Cd.scrollSepolia]:{address:"0x4e4af2a21ebf62850fD99Eb6253E1eFBb56098cD",chain:Pd},[Cd.scroll]:{address:"0xFBF614E89Ac79d738BaeF81CE6929897594b7E69",chain:xd},[Cd.base]:{address:"0x2b3224D080452276a76690341e5Cfa81A945a985",chain:qu},[Cd.xLayer]:{address:"0x4e4af2a21ebf62850fD99Eb6253E1eFBb56098cD",chain:Td},[Cd.plumeTestnet]:{address:"0x4e4af2a21ebf62850fD99Eb6253E1eFBb56098cD",chain:wd},[Cd.berachainTestnet]:{address:"0x2774d96a841E522549CE7ADd3825fC31075384Cf",chain:_u},[Cd.baseSepolia]:{address:"0x4e4af2a21ebf62850fD99Eb6253E1eFBb56098cD",chain:Vu},[Cd.sepolia]:{address:"0x878c92FD89d8E0B93Dc0a3c907A2adc7577e39c5",chain:kd},[Cd.polygonAmoy]:{address:"0x4e4af2a21ebf62850fD99Eb6253E1eFBb56098cD",chain:Ad},[Cd.optimism]:{address:"0x945C44803E92a3495C32be951052a62E45A5D964",chain:hd},[Cd.gnosisChiado]:{address:"0x4e4af2a21ebf62850fD99Eb6253E1eFBb56098cD",chain:ld},[Cd.optimismSepolia]:{address:"0x4e4af2a21ebf62850fD99Eb6253E1eFBb56098cD",chain:fd},[Cd.arbitrumSepolia]:{address:"0x4e4af2a21ebf62850fD99Eb6253E1eFBb56098cD",chain:Hu},[Cd.polygonMumbai]:{address:"0x4665fffdD8b48aDF5bab3621F835C831f0ee36D7",chain:Ed},[Cd.gnosis]:{address:"0x4e4af2a21ebf62850fD99Eb6253E1eFBb56098cD",chain:cd},[Cd.degen]:{address:"0x4e4af2a21ebf62850fD99Eb6253E1eFBb56098cD",chain:od},[Cd.cyber]:{address:"0x4e4af2a21ebf62850fD99Eb6253E1eFBb56098cD",chain:id},[Cd.arbitrum]:{address:"0x4e4af2a21ebf62850fD99Eb6253E1eFBb56098cD",chain:ju},[Cd.celo]:{address:"0x4e4af2a21ebf62850fD99Eb6253E1eFBb56098cD",chain:sd},[Cd.celoAlfajores]:{address:"0x4e4af2a21ebf62850fD99Eb6253E1eFBb56098cD",chain:ad}};ud.name,Cd.mainnet,ud.blockExplorers.default.url,ud.id,Qu.name,Cd.bsc,Qu.blockExplorers.default.url,Qu.id,vd.name,Cd.polygon,vd.blockExplorers.default.url,vd.id,Bd.name,Cd.zetachainMainnet,Bd.blockExplorers.default.url,Bd.id,yd.name,Cd.opBNB,yd.blockExplorers.default.url,yd.id,xd.name,Cd.scroll,xd.blockExplorers.default.url,xd.id,qu.name,Cd.base,qu.blockExplorers.default.url,qu.id,hd.name,Cd.optimism,hd.blockExplorers.default.url,hd.id,cd.name,Cd.gnosis,cd.blockExplorers.default.url,cd.id,od.name,Cd.degen,od.blockExplorers.default.url,od.id,Td.name,Cd.xLayer,Td.blockExplorers.default.url,Td.id,id.name,Cd.cyber,id.blockExplorers.default.url,id.id,ju.name,Cd.arbitrum,ju.blockExplorers.default.url,ju.id,Ad.name,Cd.polygonAmoy,Ad.blockExplorers.default.url,Ad.id,ld.name,Cd.gnosisChiado,ld.blockExplorers.default.url,ld.id,Id.name,Cd.zetachainAthensTestnet,Id.blockExplorers.default.url,Id.id,bd.name,Cd.opBNBTestnet,bd.blockExplorers.default.url,bd.id,Pd.name,Cd.scrollSepolia,Pd.blockExplorers.default.url,Pd.id,Vu.name,Cd.baseSepolia,Vu.blockExplorers.default.url,Vu.id,sd.name,Cd.celo,sd.blockExplorers.default.url,sd.id,wd.name,Cd.plumeTestnet,wd.blockExplorers.default.url,wd.id,_u.name,Cd.berachainTestnet,_u.blockExplorers.default.url,_u.id,kd.name,Cd.sepolia,kd.blockExplorers.default.url,kd.id,fd.name,Cd.optimismSepolia,fd.blockExplorers.default.url,fd.id,Hu.name,Cd.arbitrumSepolia,Hu.blockExplorers.default.url,Hu.id,Ed.name,Cd.polygonMumbai,Ed.blockExplorers.default.url,Ed.id,ad.name,Cd.celoAlfajores,ad.blockExplorers.default.url,ad.id,Iu.ARWEAVE,Iu.ARWEAVE,Iu.IPFS,Iu.IPFS,Iu.GREENFIELD,Iu.GREENFIELD,Iu.GREENFIELD_TESTTNET,Iu.GREENFIELD_TESTTNET;var Od={_format:"hh-sol-artifact-1",contractName:"SP",sourceName:"src/core/SP.sol",abi:[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"target",type:"address"}],name:"AddressEmptyCode",type:"error"},{inputs:[],name:"AttestationAlreadyRevoked",type:"error"},{inputs:[],name:"AttestationInvalidDuration",type:"error"},{inputs:[],name:"AttestationIrrevocable",type:"error"},{inputs:[],name:"AttestationNonexistent",type:"error"},{inputs:[],name:"AttestationWrongAttester",type:"error"},{inputs:[{internalType:"address",name:"implementation",type:"address"}],name:"ERC1967InvalidImplementation",type:"error"},{inputs:[],name:"ERC1967NonPayable",type:"error"},{inputs:[],name:"FailedInnerCall",type:"error"},{inputs:[],name:"InvalidDelegateSignature",type:"error"},{inputs:[],name:"InvalidInitialization",type:"error"},{inputs:[],name:"LegacySPRequired",type:"error"},{inputs:[],name:"NotInitializing",type:"error"},{inputs:[],name:"OffchainAttestationAlreadyRevoked",type:"error"},{inputs:[],name:"OffchainAttestationExists",type:"error"},{inputs:[],name:"OffchainAttestationNonexistent",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"OwnableInvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"OwnableUnauthorizedAccount",type:"error"},{inputs:[],name:"Paused",type:"error"},{inputs:[],name:"SchemaNonexistent",type:"error"},{inputs:[],name:"SchemaWrongRegistrant",type:"error"},{inputs:[],name:"UUPSUnauthorizedCallContext",type:"error"},{inputs:[{internalType:"bytes32",name:"slot",type:"bytes32"}],name:"UUPSUnsupportedProxiableUUID",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint64",name:"attestationId",type:"uint64"},{indexed:!1,internalType:"string",name:"indexingKey",type:"string"}],name:"AttestationMade",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint64",name:"attestationId",type:"uint64"},{indexed:!1,internalType:"string",name:"reason",type:"string"}],name:"AttestationRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint64",name:"version",type:"uint64"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"attestationId",type:"string"}],name:"OffchainAttestationMade",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"attestationId",type:"string"},{indexed:!1,internalType:"string",name:"reason",type:"string"}],name:"OffchainAttestationRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint64",name:"schemaId",type:"uint64"}],name:"SchemaRegistered",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"implementation",type:"address"}],name:"Upgraded",type:"event"},{inputs:[],name:"UPGRADE_INTERFACE_VERSION",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"schemaId",type:"uint64"},{internalType:"uint64",name:"linkedAttestationId",type:"uint64"},{internalType:"uint64",name:"attestTimestamp",type:"uint64"},{internalType:"uint64",name:"revokeTimestamp",type:"uint64"},{internalType:"address",name:"attester",type:"address"},{internalType:"uint64",name:"validUntil",type:"uint64"},{internalType:"enum DataLocation",name:"dataLocation",type:"uint8"},{internalType:"bool",name:"revoked",type:"bool"},{internalType:"bytes[]",name:"recipients",type:"bytes[]"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Attestation",name:"attestation",type:"tuple"},{internalType:"string",name:"indexingKey",type:"string"},{internalType:"bytes",name:"delegateSignature",type:"bytes"},{internalType:"bytes",name:"extraData",type:"bytes"}],name:"attest",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"schemaId",type:"uint64"},{internalType:"uint64",name:"linkedAttestationId",type:"uint64"},{internalType:"uint64",name:"attestTimestamp",type:"uint64"},{internalType:"uint64",name:"revokeTimestamp",type:"uint64"},{internalType:"address",name:"attester",type:"address"},{internalType:"uint64",name:"validUntil",type:"uint64"},{internalType:"enum DataLocation",name:"dataLocation",type:"uint8"},{internalType:"bool",name:"revoked",type:"bool"},{internalType:"bytes[]",name:"recipients",type:"bytes[]"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Attestation",name:"attestation",type:"tuple"},{internalType:"contract IERC20",name:"resolverFeesERC20Token",type:"address"},{internalType:"uint256",name:"resolverFeesERC20Amount",type:"uint256"},{internalType:"string",name:"indexingKey",type:"string"},{internalType:"bytes",name:"delegateSignature",type:"bytes"},{internalType:"bytes",name:"extraData",type:"bytes"}],name:"attest",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"schemaId",type:"uint64"},{internalType:"uint64",name:"linkedAttestationId",type:"uint64"},{internalType:"uint64",name:"attestTimestamp",type:"uint64"},{internalType:"uint64",name:"revokeTimestamp",type:"uint64"},{internalType:"address",name:"attester",type:"address"},{internalType:"uint64",name:"validUntil",type:"uint64"},{internalType:"enum DataLocation",name:"dataLocation",type:"uint8"},{internalType:"bool",name:"revoked",type:"bool"},{internalType:"bytes[]",name:"recipients",type:"bytes[]"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Attestation",name:"attestation",type:"tuple"},{internalType:"uint256",name:"resolverFeesETH",type:"uint256"},{internalType:"string",name:"indexingKey",type:"string"},{internalType:"bytes",name:"delegateSignature",type:"bytes"},{internalType:"bytes",name:"extraData",type:"bytes"}],name:"attest",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"schemaId",type:"uint64"},{internalType:"uint64",name:"linkedAttestationId",type:"uint64"},{internalType:"uint64",name:"attestTimestamp",type:"uint64"},{internalType:"uint64",name:"revokeTimestamp",type:"uint64"},{internalType:"address",name:"attester",type:"address"},{internalType:"uint64",name:"validUntil",type:"uint64"},{internalType:"enum DataLocation",name:"dataLocation",type:"uint8"},{internalType:"bool",name:"revoked",type:"bool"},{internalType:"bytes[]",name:"recipients",type:"bytes[]"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Attestation[]",name:"attestations",type:"tuple[]"},{internalType:"uint256[]",name:"resolverFeesETH",type:"uint256[]"},{internalType:"string[]",name:"indexingKeys",type:"string[]"},{internalType:"bytes",name:"delegateSignature",type:"bytes"},{internalType:"bytes",name:"extraData",type:"bytes"}],name:"attestBatch",outputs:[{internalType:"uint64[]",name:"attestationIds",type:"uint64[]"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"schemaId",type:"uint64"},{internalType:"uint64",name:"linkedAttestationId",type:"uint64"},{internalType:"uint64",name:"attestTimestamp",type:"uint64"},{internalType:"uint64",name:"revokeTimestamp",type:"uint64"},{internalType:"address",name:"attester",type:"address"},{internalType:"uint64",name:"validUntil",type:"uint64"},{internalType:"enum DataLocation",name:"dataLocation",type:"uint8"},{internalType:"bool",name:"revoked",type:"bool"},{internalType:"bytes[]",name:"recipients",type:"bytes[]"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Attestation[]",name:"attestations",type:"tuple[]"},{internalType:"contract IERC20[]",name:"resolverFeesERC20Tokens",type:"address[]"},{internalType:"uint256[]",name:"resolverFeesERC20Amount",type:"uint256[]"},{internalType:"string[]",name:"indexingKeys",type:"string[]"},{internalType:"bytes",name:"delegateSignature",type:"bytes"},{internalType:"bytes",name:"extraData",type:"bytes"}],name:"attestBatch",outputs:[{internalType:"uint64[]",name:"attestationIds",type:"uint64[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"schemaId",type:"uint64"},{internalType:"uint64",name:"linkedAttestationId",type:"uint64"},{internalType:"uint64",name:"attestTimestamp",type:"uint64"},{internalType:"uint64",name:"revokeTimestamp",type:"uint64"},{internalType:"address",name:"attester",type:"address"},{internalType:"uint64",name:"validUntil",type:"uint64"},{internalType:"enum DataLocation",name:"dataLocation",type:"uint8"},{internalType:"bool",name:"revoked",type:"bool"},{internalType:"bytes[]",name:"recipients",type:"bytes[]"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Attestation[]",name:"attestations",type:"tuple[]"},{internalType:"string[]",name:"indexingKeys",type:"string[]"},{internalType:"bytes",name:"delegateSignature",type:"bytes"},{internalType:"bytes",name:"extraData",type:"bytes"}],name:"attestBatch",outputs:[{internalType:"uint64[]",name:"attestationIds",type:"uint64[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"offchainAttestationId",type:"string"},{internalType:"address",name:"delegateAttester",type:"address"},{internalType:"bytes",name:"delegateSignature",type:"bytes"}],name:"attestOffchain",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string[]",name:"attestationIds",type:"string[]"},{internalType:"address",name:"delegateAttester",type:"address"},{internalType:"bytes",name:"delegateSignature",type:"bytes"}],name:"attestOffchainBatch",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"attestationCounter",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint64",name:"attestationId",type:"uint64"}],name:"getAttestation",outputs:[{components:[{internalType:"uint64",name:"schemaId",type:"uint64"},{internalType:"uint64",name:"linkedAttestationId",type:"uint64"},{internalType:"uint64",name:"attestTimestamp",type:"uint64"},{internalType:"uint64",name:"revokeTimestamp",type:"uint64"},{internalType:"address",name:"attester",type:"address"},{internalType:"uint64",name:"validUntil",type:"uint64"},{internalType:"enum DataLocation",name:"dataLocation",type:"uint8"},{internalType:"bool",name:"revoked",type:"bool"},{internalType:"bytes[]",name:"recipients",type:"bytes[]"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Attestation",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"schemaId",type:"uint64"},{internalType:"uint64",name:"linkedAttestationId",type:"uint64"},{internalType:"uint64",name:"attestTimestamp",type:"uint64"},{internalType:"uint64",name:"revokeTimestamp",type:"uint64"},{internalType:"address",name:"attester",type:"address"},{internalType:"uint64",name:"validUntil",type:"uint64"},{internalType:"enum DataLocation",name:"dataLocation",type:"uint8"},{internalType:"bool",name:"revoked",type:"bool"},{internalType:"bytes[]",name:"recipients",type:"bytes[]"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Attestation[]",name:"attestations",type:"tuple[]"}],name:"getDelegatedAttestBatchHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"schemaId",type:"uint64"},{internalType:"uint64",name:"linkedAttestationId",type:"uint64"},{internalType:"uint64",name:"attestTimestamp",type:"uint64"},{internalType:"uint64",name:"revokeTimestamp",type:"uint64"},{internalType:"address",name:"attester",type:"address"},{internalType:"uint64",name:"validUntil",type:"uint64"},{internalType:"enum DataLocation",name:"dataLocation",type:"uint8"},{internalType:"bool",name:"revoked",type:"bool"},{internalType:"bytes[]",name:"recipients",type:"bytes[]"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Attestation",name:"attestation",type:"tuple"}],name:"getDelegatedAttestHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"string[]",name:"offchainAttestationIds",type:"string[]"}],name:"getDelegatedOffchainAttestBatchHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"string",name:"offchainAttestationId",type:"string"}],name:"getDelegatedOffchainAttestHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"string[]",name:"offchainAttestationIds",type:"string[]"},{internalType:"string[]",name:"reasons",type:"string[]"}],name:"getDelegatedOffchainRevokeBatchHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"string",name:"offchainAttestationId",type:"string"},{internalType:"string",name:"reason",type:"string"}],name:"getDelegatedOffchainRevokeHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[{components:[{internalType:"address",name:"registrant",type:"address"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"enum DataLocation",name:"dataLocation",type:"uint8"},{internalType:"uint64",name:"maxValidFor",type:"uint64"},{internalType:"contract ISPHook",name:"hook",type:"address"},{internalType:"uint64",name:"timestamp",type:"uint64"},{internalType:"string",name:"data",type:"string"}],internalType:"struct Schema[]",name:"schemas",type:"tuple[]"}],name:"getDelegatedRegisterBatchHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[{components:[{internalType:"address",name:"registrant",type:"address"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"enum DataLocation",name:"dataLocation",type:"uint8"},{internalType:"uint64",name:"maxValidFor",type:"uint64"},{internalType:"contract ISPHook",name:"hook",type:"address"},{internalType:"uint64",name:"timestamp",type:"uint64"},{internalType:"string",name:"data",type:"string"}],internalType:"struct Schema",name:"schema",type:"tuple"}],name:"getDelegatedRegisterHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint64[]",name:"attestationIds",type:"uint64[]"},{internalType:"string[]",name:"reasons",type:"string[]"}],name:"getDelegatedRevokeBatchHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint64",name:"attestationId",type:"uint64"},{internalType:"string",name:"reason",type:"string"}],name:"getDelegatedRevokeHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"string",name:"offchainAttestationId",type:"string"}],name:"getOffchainAttestation",outputs:[{components:[{internalType:"address",name:"attester",type:"address"},{internalType:"uint64",name:"timestamp",type:"uint64"}],internalType:"struct OffchainAttestation",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint64",name:"schemaId",type:"uint64"}],name:"getSchema",outputs:[{components:[{internalType:"address",name:"registrant",type:"address"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"enum DataLocation",name:"dataLocation",type:"uint8"},{internalType:"uint64",name:"maxValidFor",type:"uint64"},{internalType:"contract ISPHook",name:"hook",type:"address"},{internalType:"uint64",name:"timestamp",type:"uint64"},{internalType:"string",name:"data",type:"string"}],internalType:"struct Schema",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint64",name:"schemaCounter_",type:"uint64"},{internalType:"uint64",name:"attestationCounter_",type:"uint64"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"proxiableUUID",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"registrant",type:"address"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"enum DataLocation",name:"dataLocation",type:"uint8"},{internalType:"uint64",name:"maxValidFor",type:"uint64"},{internalType:"contract ISPHook",name:"hook",type:"address"},{internalType:"uint64",name:"timestamp",type:"uint64"},{internalType:"string",name:"data",type:"string"}],internalType:"struct Schema",name:"schema",type:"tuple"},{internalType:"bytes",name:"delegateSignature",type:"bytes"}],name:"register",outputs:[{internalType:"uint64",name:"schemaId",type:"uint64"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"registrant",type:"address"},{internalType:"bool",name:"revocable",type:"bool"},{internalType:"enum DataLocation",name:"dataLocation",type:"uint8"},{internalType:"uint64",name:"maxValidFor",type:"uint64"},{internalType:"contract ISPHook",name:"hook",type:"address"},{internalType:"uint64",name:"timestamp",type:"uint64"},{internalType:"string",name:"data",type:"string"}],internalType:"struct Schema[]",name:"schemas",type:"tuple[]"},{internalType:"bytes",name:"delegateSignature",type:"bytes"}],name:"registerBatch",outputs:[{internalType:"uint64[]",name:"schemaIds",type:"uint64[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint64",name:"attestationId",type:"uint64"},{internalType:"string",name:"reason",type:"string"},{internalType:"bytes",name:"delegateSignature",type:"bytes"},{internalType:"bytes",name:"extraData",type:"bytes"}],name:"revoke",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint64",name:"attestationId",type:"uint64"},{internalType:"string",name:"reason",type:"string"},{internalType:"contract IERC20",name:"resolverFeesERC20Token",type:"address"},{internalType:"uint256",name:"resolverFeesERC20Amount",type:"uint256"},{internalType:"bytes",name:"delegateSignature",type:"bytes"},{internalType:"bytes",name:"extraData",type:"bytes"}],name:"revoke",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint64",name:"attestationId",type:"uint64"},{internalType:"string",name:"reason",type:"string"},{internalType:"uint256",name:"resolverFeesETH",type:"uint256"},{internalType:"bytes",name:"delegateSignature",type:"bytes"},{internalType:"bytes",name:"extraData",type:"bytes"}],name:"revoke",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint64[]",name:"attestationIds",type:"uint64[]"},{internalType:"string[]",name:"reasons",type:"string[]"},{internalType:"bytes",name:"delegateSignature",type:"bytes"},{internalType:"bytes",name:"extraData",type:"bytes"}],name:"revokeBatch",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint64[]",name:"attestationIds",type:"uint64[]"},{internalType:"string[]",name:"reasons",type:"string[]"},{internalType:"uint256[]",name:"resolverFeesETH",type:"uint256[]"},{internalType:"bytes",name:"delegateSignature",type:"bytes"},{internalType:"bytes",name:"extraData",type:"bytes"}],name:"revokeBatch",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint64[]",name:"attestationIds",type:"uint64[]"},{internalType:"string[]",name:"reasons",type:"string[]"},{internalType:"contract IERC20[]",name:"resolverFeesERC20Tokens",type:"address[]"},{internalType:"uint256[]",name:"resolverFeesERC20Amount",type:"uint256[]"},{internalType:"bytes",name:"delegateSignature",type:"bytes"},{internalType:"bytes",name:"extraData",type:"bytes"}],name:"revokeBatch",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"offchainAttestationId",type:"string"},{internalType:"string",name:"reason",type:"string"},{internalType:"bytes",name:"delegateSignature",type:"bytes"}],name:"revokeOffchain",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string[]",name:"offchainAttestationIds",type:"string[]"},{internalType:"string[]",name:"reasons",type:"string[]"},{internalType:"bytes",name:"delegateSignature",type:"bytes"}],name:"revokeOffchainBatch",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"schemaCounter",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"hook",type:"address"}],name:"setGlobalHook",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"paused",type:"bool"}],name:"setPause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newImplementation",type:"address"},{internalType:"bytes",name:"data",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"pure",type:"function"}],linkReferences:{},deployedLinkReferences:{}},Rd=class extends Lu{constructor({signType:e,rpcUrl:t,account:n,walletClient:r}){super(Ou.evm,e,t||gt.mainnet),this.rpc=t||gt.mainnet;const s=ud;this.chain=s,this.publicClient=xu({chain:s,transport:pc()}),this.walletClient=r||ku({chain:s,transport:n?pc():window.ethereum?lc(window.ethereum):pc()}),this.privateKeyAccount=n}async getAccount(){let e;return e=this.privateKeyAccount?this.privateKeyAccount:{address:(await this.walletClient.getAddresses())[0]},e}async signTypedData({message:e,types:t,primaryType:n}){const r={domain:{name:"sign.global",version:"1"},message:e,primaryType:n,types:{EIP712Domain:[{name:"name",type:"string"},{name:"version",type:"string"}],...t}},s=await this.getAccount(),a=this.privateKeyAccount?s.signTypedData:this.walletClient.signTypedData;return{message:r,signature:await a({account:s.address,...r})}}async signMessage(e){const t=await this.getAccount(),n=this.privateKeyAccount?t.signMessage:this.walletClient.signMessage;return await n({account:t.address,message:e})}},Sd=class{constructor({chain:e,rpcUrl:t,account:n,walletClient:r}){this.contractInfo=e?Nd[e]:Nd[Cd.sepolia];const s={...this.contractInfo?.chain,rpcUrls:t?{default:{http:[t]}}:this.contractInfo?.chain.rpcUrls};this.chain=s,this.publicClient=xu({chain:s,transport:pc()}),this.walletClient=r||ku({chain:s,transport:n?pc():window.ethereum?lc(window.ethereum):pc()}),this.privateKeyAccount=n}async signMessage(e){const t=await this.getAccount();return await this.walletClient.signMessage({account:this.privateKeyAccount?t:t.address,message:{raw:e}})}async swithChain(){if(await this.walletClient.getChainId()!==this.chain.id)try{await this.walletClient.switchChain({id:this.chain.id})}catch(e){4001!==e?.code&&(await this.walletClient.addChain({chain:this.chain}),await this.walletClient.switchChain({id:this.chain.id}))}}async getAccount(){let e;return e=this.privateKeyAccount?this.privateKeyAccount:{address:(await this.walletClient.getAddresses())[0]},e}async invokeContractRead(e,t=[]){try{return this.publicClient.readContract({address:this.contractInfo.address,abi:Od.abi,functionName:e,args:t})}catch(e){throw console.error(e.message),e}}async invokeContractWrite(e,t=[],n,r){try{const s=await this.getAccount();await this.swithChain();const a={account:this.privateKeyAccount?s:s.address,address:this.contractInfo.address,abi:r||Od.abi,functionName:e,args:t,value:n,chain:this.chain},{request:i}=await this.publicClient.simulateContract(a);return this.walletClient.writeContract(i)}catch(e){throw console.error(e.message),e}}async createSchema(e,t){const{revocable:n,maxValidFor:r,resolver:s,hook:a,data:i,name:o,description:c,registrant:l}=e,u=await this.getAccount(),d=e.dataLocation||Bu.ONCHAIN,{delegationSignature:h,getTxHash:p}=t||{},f=await this.invokeContractWrite("register",[{registrant:l||u.address,revocable:void 0===n||n,dataLocation:d,maxValidFor:r||0,hook:a||s||"0x0000000000000000000000000000000000000000",timestamp:0,data:d===Bu.ONCHAIN?JSON.stringify({name:o,description:c,data:i}):i},h||""]);p&&p(f);const m=await this.publicClient.waitForTransactionReceipt({hash:f});return{schemaId:tr(ro({abi:Od.abi,topics:m.logs[0].topics,data:m.logs[0].data}).args.schemaId),txHash:f}}async getSchema(e){const t=await this.invokeContractRead("getSchema",[e]);if(""===t.data)throw new Error("schema not found");const{revocable:n,dataLocation:r,maxValidFor:s,resolver:a,hook:i,data:o,timestamp:c}=t;let l;if(r===Bu.ONCHAIN)l=JSON.parse(o);else if(r===Bu.ARWEAVE||r===Bu.IPFS){const e=await(async e=>Fu(`${gt.mainnet}/sp/storage-data?dataId=${e.dataId}&dataLocation=${e.dataLocation===Bu.ARWEAVE?"arweave":"ipfs"}`))({dataId:o,dataLocation:r});l=e.data}return{name:l.name,description:l.description,revocable:n,dataLocation:r,timestamp:Number(c),maxValidFor:Number(s),hook:i||a,data:l.data,registrant:t.registrant}}async revokeAttestation(e,t){const{reason:n,delegationSignature:r,getTxHash:s}=t||{},a=await this.invokeContractWrite("revoke",[e,n||"",r||"",""]);s&&s(a);const i=await this.publicClient.waitForTransactionReceipt({hash:a}),o=ro({abi:Od.abi,topics:i.logs[0].topics,data:i.logs[0].data});return{attestationId:tr(o.args.attestationId),txHash:a,reason:o.args.reason}}async createAttestation(e,t){const{schemaId:n,linkedAttestationId:r,data:s,validUntil:a,revoked:i,recipients:o,indexingValue:c,attester:l,attestTimestamp:u,revokeTimestamp:d}=e,{delegationSignature:h,getTxHash:p,resolverFeesETH:f,recipientEncodingType:m,extraData:y}=t||{},g=e.dataLocation||Bu.ONCHAIN;let b;if(h)b={schemaId:n,linkedAttestationId:r,data:s,validUntil:BigInt(a||0),revoked:i,recipients:o,attester:l,dataLocation:g,attestTimestamp:u,revokeTimestamp:d};else{const t=await this.getAccount();if(!e.schemaId)throw new Error("schemaId is required");const c=await this.getSchema(e.schemaId),u=c?.data;if(!c)throw new Error("schema not found");if(c.dataLocation===Bu.ONCHAIN&&g===Bu.ONCHAIN&&!Uu(s,u))throw new Error("data is not valid");b={schemaId:n,linkedAttestationId:r||"",attester:l||t.address,validUntil:BigInt(a||0),revoked:i||!1,dataLocation:g,attestTimestamp:0,revokeTimestamp:0,recipients:o?.map((e=>is([{name:"data",type:Yr(e)&&m===Su.Address?Su.Address:Su.String}],[e])))||[],data:Du(s,g,u)}}const w=[b,c||"",h||"",y||""],v=Od.abi.filter((e=>"attest"===e.name));let A=[v[0]];f&&(w.splice(1,0,f),A=[v[2]]);const E=await this.invokeContractWrite("attest",w,f,[...A,...Od.abi]);p&&p(E);const x=await this.publicClient.waitForTransactionReceipt({hash:E}),P=ro({abi:Od.abi,topics:x.logs[0].topics,data:x.logs[0].data});return{attestationId:tr(P.args.attestationId),txHash:E,indexingValue:P.args.indexingKey}}async getAttestation(e){const t=await this.invokeContractRead("getAttestation",[e]);if("0x"===t.data)throw new Error("attestation not found");const n=tr(t.schemaId),r=(await this.getSchema(n)).data,s=function(e,t,n){try{return Ss([t===Bu.ONCHAIN?{components:n,type:"tuple"}:{type:"string"}],e)[0]}catch(r){const s=Ss(t===Bu.ONCHAIN?n:[{type:"string"}],e),a={};return n.forEach(((e,t)=>{a[e.name]=s[t]})),a}}(t.data,t.dataLocation,r),a=t.recipients.map((e=>{let t;try{t=Ss([{name:"data",type:Su.String}],e)[0]}catch(n){t=Ss([{name:"data",type:Su.Address}],e)[0]}return t}));return{attestTimestamp:Number(t.attestTimestamp),revokeTimestamp:Number(t.revokeTimestamp),schemaId:n,data:s,recipients:a,revoked:t.revoked,dataLocation:t.dataLocation,validUntil:Number(t.validUntil),linkedAttestationId:"0x"+Number(t.linkedAttestationId).toString(16)||0,indexingValue:t.indexingKey,attester:t.attester}}};class Fd{constructor(e,t){this.client=function(e,t){if(e===Ru.OffChain){const[e,n]=t.signType.split("-");if(e===Ou.evm)return new Rd({...t,signType:n});throw new Error("ChainType not supported")}{const{chain:e}=t;if(e===Cd[e])return new Sd(t);throw new Error("ChainType not supported")}}(e,t)}getClient(){return this.client}async createSchema(e,t){return this.client.createSchema(e,t)}async getSchema(e){return this.client.getSchema(e)}async createAttestation(e,t){return this.client.createAttestation(e,t)}async getAttestation(e){return this.client.getAttestation(e)}async revokeAttestation(e,t){return this.client.revokeAttestation(e,t)}}function Ud(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var Dd=function e(t,n){function r(e,r,s){if("undefined"!=typeof document){"number"==typeof(s=Ud({},n,s)).expires&&(s.expires=new Date(Date.now()+864e5*s.expires)),s.expires&&(s.expires=s.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var i in s)s[i]&&(a+="; "+i,!0!==s[i]&&(a+="="+s[i].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+a}}return Object.create({set:r,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},s=0;s<n.length;s++){var a=n[s].split("="),i=a.slice(1).join("=");try{var o=decodeURIComponent(a[0]);if(r[o]=t.read(i,o),e===o)break}catch(e){}}return e?r[e]:r}},remove:function(e,t){r(e,"",Ud({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,Ud({},this.attributes,t))},withConverter:function(t){return e(Ud({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});const Ld="6.13.2";function Md(e,t,n){const r=t.split("|").map((e=>e.trim()));for(let n=0;n<r.length;n++)switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof e===t)return}const s=new Error(`invalid value for type ${t}`);throw s.code="INVALID_ARGUMENT",s.argument=`value.${n}`,s.value=e,s}async function Gd(e){const t=Object.keys(e);return(await Promise.all(t.map((t=>Promise.resolve(e[t]))))).reduce(((e,n,r)=>(e[t[r]]=n,e)),{})}function jd(e,t,n){for(let r in t){let s=t[r];const a=n?n[r]:null;a&&Md(s,a,r),Object.defineProperty(e,r,{enumerable:!0,value:s,writable:!1})}}function Hd(e){if(null==e)return"null";if(Array.isArray(e))return"[ "+e.map(Hd).join(", ")+" ]";if(e instanceof Uint8Array){const t="0123456789abcdef";let n="0x";for(let r=0;r<e.length;r++)n+=t[e[r]>>4],n+=t[15&e[r]];return n}if("object"==typeof e&&"function"==typeof e.toJSON)return Hd(e.toJSON());switch(typeof e){case"boolean":case"symbol":case"number":return e.toString();case"bigint":return BigInt(e).toString();case"string":return JSON.stringify(e);case"object":{const t=Object.keys(e);return t.sort(),"{ "+t.map((t=>`${Hd(t)}: ${Hd(e[t])}`)).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function zd(e,t){return e&&e.code===t}function qd(e){return zd(e,"CALL_EXCEPTION")}function $d(e,t,n){let r,s=e;{const r=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error(`value will overwrite populated values: ${Hd(n)}`);for(const e in n){if("shortMessage"===e)continue;const t=n[e];r.push(e+"="+Hd(t))}}r.push(`code=${t}`),r.push(`version=${Ld}`),r.length&&(e+=" ("+r.join(", ")+")")}switch(t){case"INVALID_ARGUMENT":r=new TypeError(e);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":r=new RangeError(e);break;default:r=new Error(e)}return jd(r,{code:t}),n&&Object.assign(r,n),null==r.shortMessage&&jd(r,{shortMessage:s}),r}function Vd(e,t,n,r){if(!e)throw $d(t,n,r)}function _d(e,t,n,r){Vd(e,t,"INVALID_ARGUMENT",{argument:n,value:r})}function Qd(e,t,n){null==n&&(n=""),n&&(n=": "+n),Vd(e>=t,"missing arguemnt"+n,"MISSING_ARGUMENT",{count:e,expectedCount:t}),Vd(e<=t,"too many arguments"+n,"UNEXPECTED_ARGUMENT",{count:e,expectedCount:t})}const Jd=["NFD","NFC","NFKD","NFKC"].reduce(((e,t)=>{try{if("test"!=="test".normalize(t))throw new Error("bad");if("NFD"===t){if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken")}e.push(t)}catch(e){}return e}),[]);function Kd(e,t,n){if(null==n&&(n=""),e!==t){let e=n,t="new";n&&(e+=".",t+=" "+n),Vd(!1,`private constructor; use ${e}from* methods`,"UNSUPPORTED_OPERATION",{operation:t})}}function Zd(e,t,n){if(e instanceof Uint8Array)return n?new Uint8Array(e):e;if("string"==typeof e&&e.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const t=new Uint8Array((e.length-2)/2);let n=2;for(let r=0;r<t.length;r++)t[r]=parseInt(e.substring(n,n+2),16),n+=2;return t}_d(!1,"invalid BytesLike value",t||"value",e)}function Wd(e,t){return Zd(e,t,!1)}function Yd(e,t){return Zd(e,t,!0)}function Xd(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/)||"number"==typeof t&&e.length!==2+2*t||!0===t&&e.length%2!=0)}function eh(e){return Xd(e,!0)||e instanceof Uint8Array}const th="0123456789abcdef";function nh(e){const t=Wd(e);let n="0x";for(let e=0;e<t.length;e++){const r=t[e];n+=th[(240&r)>>4]+th[15&r]}return n}function rh(e){return"0x"+e.map((e=>nh(e).substring(2))).join("")}function sh(e){return Xd(e,!0)?(e.length-2)/2:Wd(e).length}function ah(e,t,n){const r=Wd(e);return null!=n&&n>r.length&&Vd(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n}),nh(r.slice(null==t?0:t,null==n?r.length:n))}function ih(e,t,n){const r=Wd(e);Vd(t>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:t,offset:t+1});const s=new Uint8Array(t);return s.fill(0),n?s.set(r,t-r.length):s.set(r,0),nh(s)}function oh(e,t){return ih(e,t,!0)}const ch=BigInt(0),lh=BigInt(1),uh=9007199254740991;function dh(e,t){let n=ph(e,"value");const r=BigInt(gh(t,"width")),s=lh<<r-lh;return n<ch?(n=-n,Vd(n<=s,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e}),(~n&(lh<<r)-lh)+lh):(Vd(n<s,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e}),n)}function hh(e,t){const n=fh(e,"value"),r=BigInt(gh(t,"bits"));return n&(lh<<r)-lh}function ph(e,t){switch(typeof e){case"bigint":return e;case"number":return _d(Number.isInteger(e),"underflow",t||"value",e),_d(e>=-uh&&e<=uh,"overflow",t||"value",e),BigInt(e);case"string":try{if(""===e)throw new Error("empty string");return"-"===e[0]&&"-"!==e[1]?-BigInt(e.substring(1)):BigInt(e)}catch(n){_d(!1,`invalid BigNumberish string: ${n.message}`,t||"value",e)}}_d(!1,"invalid BigNumberish value",t||"value",e)}function fh(e,t){const n=ph(e,t);return Vd(n>=ch,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:e}),n}const mh="0123456789abcdef";function yh(e){if(e instanceof Uint8Array){let t="0x0";for(const n of e)t+=mh[n>>4],t+=mh[15&n];return BigInt(t)}return ph(e)}function gh(e,t){switch(typeof e){case"bigint":return _d(e>=-uh&&e<=uh,"overflow",t||"value",e),Number(e);case"number":return _d(Number.isInteger(e),"underflow",t||"value",e),_d(e>=-uh&&e<=uh,"overflow",t||"value",e),e;case"string":try{if(""===e)throw new Error("empty string");return gh(BigInt(e),t)}catch(n){_d(!1,`invalid numeric string: ${n.message}`,t||"value",e)}}_d(!1,"invalid numeric value",t||"value",e)}function bh(e,t){let n=fh(e,"value").toString(16);if(null==t)n.length%2&&(n="0"+n);else{const r=gh(t,"width");for(Vd(2*r>=n.length,`value exceeds width (${r} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:e});n.length<2*r;)n="0"+n}return"0x"+n}function wh(e){const t=fh(e,"value");if(t===ch)return new Uint8Array([]);let n=t.toString(16);n.length%2&&(n="0"+n);const r=new Uint8Array(n.length/2);for(let e=0;e<r.length;e++){const t=2*e;r[e]=parseInt(n.substring(t,t+2),16)}return r}function vh(e){let t=nh(eh(e)?e:wh(e)).substring(2);for(;t.startsWith("0");)t=t.substring(1);return""===t&&(t="0"),"0x"+t}const Ah=32,Eh=new Uint8Array(Ah),xh=["then"],Ph={},kh=new WeakMap;function Th(e){return kh.get(e)}function Bh(e,t){kh.set(e,t)}function Ih(e,t){const n=new Error(`deferred error during ABI decoding triggered accessing ${e}`);throw n.error=t,n}function Ch(e,t,n){return e.indexOf(null)>=0?t.map(((e,t)=>e instanceof Nh?Ch(Th(e),e,n):e)):e.reduce(((e,r,s)=>{let a=t.getValue(r);return r in e||(n&&a instanceof Nh&&(a=Ch(Th(a),a,n)),e[r]=a),e}),{})}class Nh extends Array{#e;constructor(...e){const t=e[0];let n=e[1],r=(e[2]||[]).slice(),s=!0;t!==Ph&&(n=e,r=[],s=!1),super(n.length),n.forEach(((e,t)=>{this[t]=e}));const a=r.reduce(((e,t)=>("string"==typeof t&&e.set(t,(e.get(t)||0)+1),e)),new Map);if(Bh(this,Object.freeze(n.map(((e,t)=>{const n=r[t];return null!=n&&1===a.get(n)?n:null})))),this.#e=[],null==this.#e&&this.#e,!s)return;Object.freeze(this);const i=new Proxy(this,{get:(e,t,n)=>{if("string"==typeof t){if(t.match(/^[0-9]+$/)){const n=gh(t,"%index");if(n<0||n>=this.length)throw new RangeError("out of result range");const r=e[n];return r instanceof Error&&Ih(`index ${n}`,r),r}if(xh.indexOf(t)>=0)return Reflect.get(e,t,n);const r=e[t];if(r instanceof Function)return function(...t){return r.apply(this===n?e:this,t)};if(!(t in e))return e.getValue.apply(this===n?e:this,[t])}return Reflect.get(e,t,n)}});return Bh(i,Th(this)),i}toArray(e){const t=[];return this.forEach(((n,r)=>{n instanceof Error&&Ih(`index ${r}`,n),e&&n instanceof Nh&&(n=n.toArray(e)),t.push(n)})),t}toObject(e){const t=Th(this);return t.reduce(((n,r,s)=>(Vd(null!=r,`value at index ${s} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),Ch(t,this,e))),{})}slice(e,t){null==e&&(e=0),e<0&&(e+=this.length)<0&&(e=0),null==t&&(t=this.length),t<0&&(t+=this.length)<0&&(t=0),t>this.length&&(t=this.length);const n=Th(this),r=[],s=[];for(let a=e;a<t;a++)r.push(this[a]),s.push(n[a]);return new Nh(Ph,r,s)}filter(e,t){const n=Th(this),r=[],s=[];for(let a=0;a<this.length;a++){const i=this[a];i instanceof Error&&Ih(`index ${a}`,i),e.call(t,i,a,this)&&(r.push(i),s.push(n[a]))}return new Nh(Ph,r,s)}map(e,t){const n=[];for(let r=0;r<this.length;r++){const s=this[r];s instanceof Error&&Ih(`index ${r}`,s),n.push(e.call(t,s,r,this))}return n}getValue(e){const t=Th(this).indexOf(e);if(-1===t)return;const n=this[t];return n instanceof Error&&Ih(`property ${JSON.stringify(e)}`,n.error),n}static fromItems(e,t){return new Nh(Ph,e,t)}}function Oh(e){let t=wh(e);return Vd(t.length<=Ah,"value out-of-bounds","BUFFER_OVERRUN",{buffer:t,length:Ah,offset:t.length}),t.length!==Ah&&(t=Yd(rh([Eh.slice(t.length%Ah),t]))),t}class Rh{name;type;localName;dynamic;constructor(e,t,n,r){jd(this,{name:e,type:t,localName:n,dynamic:r},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,t){_d(!1,e,this.localName,t)}}class Sh{#t;#n;constructor(){this.#t=[],this.#n=0}get data(){return rh(this.#t)}get length(){return this.#n}#r(e){return this.#t.push(e),this.#n+=e.length,e.length}appendWriter(e){return this.#r(Yd(e.data))}writeBytes(e){let t=Yd(e);const n=t.length%Ah;return n&&(t=Yd(rh([t,Eh.slice(n)]))),this.#r(t)}writeValue(e){return this.#r(Oh(e))}writeUpdatableValue(){const e=this.#t.length;return this.#t.push(Eh),this.#n+=Ah,t=>{this.#t[e]=Oh(t)}}}class Fh{allowLoose;#t;#s;#a;#i;#o;constructor(e,t,n){jd(this,{allowLoose:!!t}),this.#t=Yd(e),this.#a=0,this.#i=null,this.#o=null!=n?n:1024,this.#s=0}get data(){return nh(this.#t)}get dataLength(){return this.#t.length}get consumed(){return this.#s}get bytes(){return new Uint8Array(this.#t)}#c(e){if(this.#i)return this.#i.#c(e);this.#a+=e,Vd(this.#o<1||this.#a<=this.#o*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#o} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:Yd(this.#t),offset:this.#s,length:e,info:{bytesRead:this.#a,dataLength:this.dataLength}})}#l(e,t,n){let r=Math.ceil(t/Ah)*Ah;return this.#s+r>this.#t.length&&(this.allowLoose&&n&&this.#s+t<=this.#t.length?r=t:Vd(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:Yd(this.#t),length:this.#t.length,offset:this.#s+r})),this.#t.slice(this.#s,this.#s+r)}subReader(e){const t=new Fh(this.#t.slice(this.#s+e),this.allowLoose,this.#o);return t.#i=this,t}readBytes(e,t){let n=this.#l(0,e,!!t);return this.#c(e),this.#s+=n.length,n.slice(0,e)}readValue(){return yh(this.readBytes(Ah))}readIndex(){return gh(yh(this.readBytes(Ah)))}}function Uh(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function Dh(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function Lh(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Mh(e,t){Dh(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Gh=BigInt(2**32-1),jh=BigInt(32);function Hh(e,t=!1){return t?{h:Number(e&Gh),l:Number(e>>jh&Gh)}:{h:0|Number(e>>jh&Gh),l:0|Number(e&Gh)}}function zh(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:a,l:i}=Hh(e[s],t);[n[s],r[s]]=[a,i]}return[n,r]}const qh=(e,t,n)=>e<<n|t>>>32-n,$h=(e,t,n)=>t<<n|e>>>32-n,Vh=(e,t,n)=>t<<n-32|e>>>64-n,_h=(e,t,n)=>e<<n-32|t>>>64-n,Qh={fromBig:Hh,split:zh,toBig:(e,t)=>BigInt(e>>>0)<<jh|BigInt(t>>>0),shrSH:(e,t,n)=>e>>>n,shrSL:(e,t,n)=>e<<32-n|t>>>n,rotrSH:(e,t,n)=>e>>>n|t<<32-n,rotrSL:(e,t,n)=>e<<32-n|t>>>n,rotrBH:(e,t,n)=>e<<64-n|t>>>n-32,rotrBL:(e,t,n)=>e>>>n-32|t<<64-n,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:qh,rotlSL:$h,rotlBH:Vh,rotlBL:_h,add:function(e,t,n,r){const s=(t>>>0)+(r>>>0);return{h:e+n+(s/2**32|0)|0,l:0|s}},add3L:(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),add3H:(e,t,n,r)=>t+n+r+(e/2**32|0)|0,add4L:(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),add4H:(e,t,n,r,s)=>t+n+r+s+(e/2**32|0)|0,add5H:(e,t,n,r,s,a)=>t+n+r+s+a+(e/2**32|0)|0,add5L:(e,t,n,r,s)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(s>>>0)},Jh="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,Kh=e=>e instanceof Uint8Array,Zh=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Wh=(e,t)=>e<<32-t|e>>>t;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function Yh(e){if("string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),!Kh(e))throw new Error("expected Uint8Array, got "+typeof e);return e}class Xh{clone(){return this._cloneInto()}}function ep(e){const t=t=>e().update(Yh(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function tp(e=32){if(Jh&&"function"==typeof Jh.getRandomValues)return Jh.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}const[np,rp,sp]=[[],[],[]],ap=BigInt(0),ip=BigInt(1),op=BigInt(2),cp=BigInt(7),lp=BigInt(256),up=BigInt(113);for(let e=0,t=ip,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],np.push(2*(5*r+n)),rp.push((e+1)*(e+2)/2%64);let s=ap;for(let e=0;e<7;e++)t=(t<<ip^(t>>cp)*up)%lp,t&op&&(s^=ip<<(ip<<BigInt(e))-ip);sp.push(s)}const[dp,hp]=zh(sp,!0),pp=(e,t,n)=>n>32?Vh(e,t,n):qh(e,t,n),fp=(e,t,n)=>n>32?_h(e,t,n):$h(e,t,n);class mp extends Xh{constructor(e,t,n,r=!1,s=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Uh(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var a;this.state=new Uint8Array(200),this.state32=(a=this.state,new Uint32Array(a.buffer,a.byteOffset,Math.floor(a.byteLength/4)))}keccak(){!function(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let t=0;t<10;t++)n[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const r=(t+8)%10,s=(t+2)%10,a=n[s],i=n[s+1],o=pp(a,i,1)^n[r],c=fp(a,i,1)^n[r+1];for(let n=0;n<50;n+=10)e[t+n]^=o,e[t+n+1]^=c}let t=e[2],s=e[3];for(let n=0;n<24;n++){const r=rp[n],a=pp(t,s,r),i=fp(t,s,r),o=np[n];t=e[o],s=e[o+1],e[o]=a,e[o+1]=i}for(let t=0;t<50;t+=10){for(let r=0;r<10;r++)n[r]=e[t+r];for(let r=0;r<10;r++)e[t+r]^=~n[(r+2)%10]&n[(r+4)%10]}e[0]^=dp[r],e[1]^=hp[r]}n.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Lh(this);const{blockLen:t,state:n}=this,r=(e=Yh(e)).length;for(let s=0;s<r;){const a=Math.min(t-this.pos,r-s);for(let t=0;t<a;t++)n[this.pos++]^=e[s++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,128&t&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){Lh(this,!1),Dh(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,s=e.length;r<s;){this.posOut>=n&&this.keccak();const a=Math.min(n-this.posOut,s-r);e.set(t.subarray(this.posOut,this.posOut+a),r),this.posOut+=a,r+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Uh(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Mh(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:s,enableXOF:a}=this;return e||(e=new mp(t,n,r,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=r,e.enableXOF=a,e.destroyed=this.destroyed,e}}const yp=((e,t,n)=>ep((()=>new mp(t,e,n))))(1,136,32);let gp=!1;const bp=function(e){return yp(e)};let wp=bp;function vp(e){const t=Wd(e,"data");return nh(wp(t))}vp._=bp,vp.lock=function(){gp=!0},vp.register=function(e){if(gp)throw new TypeError("keccak256 is locked");wp=e},Object.freeze(vp);const Ap=BigInt(0),Ep=BigInt(36);function xp(e){const t=(e=e.toLowerCase()).substring(2).split(""),n=new Uint8Array(40);for(let e=0;e<40;e++)n[e]=t[e].charCodeAt(0);const r=Wd(vp(n));for(let e=0;e<40;e+=2)r[e>>1]>>4>=8&&(t[e]=t[e].toUpperCase()),(15&r[e>>1])>=8&&(t[e+1]=t[e+1].toUpperCase());return"0x"+t.join("")}const Pp={};for(let e=0;e<10;e++)Pp[String(e)]=String(e);for(let e=0;e<26;e++)Pp[String.fromCharCode(65+e)]=String(10+e);const kp=15;const Tp=function(){const e={};for(let t=0;t<36;t++)e["0123456789abcdefghijklmnopqrstuvwxyz"[t]]=BigInt(t);return e}();function Bp(e){if(_d("string"==typeof e,"invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/)){e.startsWith("0x")||(e="0x"+e);const t=xp(e);return _d(!e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===e,"bad address checksum","address",e),t}if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){_d(e.substring(2,4)===function(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map((e=>Pp[e])).join("");for(;t.length>=kp;){let e=t.substring(0,kp);t=parseInt(e,10)%97+t.substring(e.length)}let n=String(98-parseInt(t,10)%97);for(;n.length<2;)n="0"+n;return n}(e),"bad icap checksum","address",e);let t=function(e){e=e.toLowerCase();let t=Ap;for(let n=0;n<e.length;n++)t=t*Ep+Tp[e[n]];return t}(e.substring(4)).toString(16);for(;t.length<40;)t="0"+t;return xp("0x"+t)}_d(!1,"invalid address","address",e)}const Ip={};function Cp(e,t){let n=!1;return t<0&&(n=!0,t*=-1),new Rp(Ip,`${n?"":"u"}int${t}`,e,{signed:n,width:t})}function Np(e,t){return new Rp(Ip,`bytes${t||""}`,e,{size:t})}const Op=Symbol.for("_ethers_typed");class Rp{type;value;#u;_typedSymbol;constructor(e,t,n,r){null==r&&(r=null),Kd(Ip,e,"Typed"),jd(this,{_typedSymbol:Op,type:t,value:n}),this.#u=r,this.format()}format(){if("array"===this.type)throw new Error("");if("dynamicArray"===this.type)throw new Error("");return"tuple"===this.type?`tuple(${this.value.map((e=>e.format())).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return"string"===this.type}get tupleName(){if("tuple"!==this.type)throw TypeError("not a tuple");return this.#u}get arrayLength(){if("array"!==this.type)throw TypeError("not an array");return!0===this.#u?-1:!1===this.#u?this.value.length:null}static from(e,t){return new Rp(Ip,e,t)}static uint8(e){return Cp(e,8)}static uint16(e){return Cp(e,16)}static uint24(e){return Cp(e,24)}static uint32(e){return Cp(e,32)}static uint40(e){return Cp(e,40)}static uint48(e){return Cp(e,48)}static uint56(e){return Cp(e,56)}static uint64(e){return Cp(e,64)}static uint72(e){return Cp(e,72)}static uint80(e){return Cp(e,80)}static uint88(e){return Cp(e,88)}static uint96(e){return Cp(e,96)}static uint104(e){return Cp(e,104)}static uint112(e){return Cp(e,112)}static uint120(e){return Cp(e,120)}static uint128(e){return Cp(e,128)}static uint136(e){return Cp(e,136)}static uint144(e){return Cp(e,144)}static uint152(e){return Cp(e,152)}static uint160(e){return Cp(e,160)}static uint168(e){return Cp(e,168)}static uint176(e){return Cp(e,176)}static uint184(e){return Cp(e,184)}static uint192(e){return Cp(e,192)}static uint200(e){return Cp(e,200)}static uint208(e){return Cp(e,208)}static uint216(e){return Cp(e,216)}static uint224(e){return Cp(e,224)}static uint232(e){return Cp(e,232)}static uint240(e){return Cp(e,240)}static uint248(e){return Cp(e,248)}static uint256(e){return Cp(e,256)}static uint(e){return Cp(e,256)}static int8(e){return Cp(e,-8)}static int16(e){return Cp(e,-16)}static int24(e){return Cp(e,-24)}static int32(e){return Cp(e,-32)}static int40(e){return Cp(e,-40)}static int48(e){return Cp(e,-48)}static int56(e){return Cp(e,-56)}static int64(e){return Cp(e,-64)}static int72(e){return Cp(e,-72)}static int80(e){return Cp(e,-80)}static int88(e){return Cp(e,-88)}static int96(e){return Cp(e,-96)}static int104(e){return Cp(e,-104)}static int112(e){return Cp(e,-112)}static int120(e){return Cp(e,-120)}static int128(e){return Cp(e,-128)}static int136(e){return Cp(e,-136)}static int144(e){return Cp(e,-144)}static int152(e){return Cp(e,-152)}static int160(e){return Cp(e,-160)}static int168(e){return Cp(e,-168)}static int176(e){return Cp(e,-176)}static int184(e){return Cp(e,-184)}static int192(e){return Cp(e,-192)}static int200(e){return Cp(e,-200)}static int208(e){return Cp(e,-208)}static int216(e){return Cp(e,-216)}static int224(e){return Cp(e,-224)}static int232(e){return Cp(e,-232)}static int240(e){return Cp(e,-240)}static int248(e){return Cp(e,-248)}static int256(e){return Cp(e,-256)}static int(e){return Cp(e,-256)}static bytes1(e){return Np(e,1)}static bytes2(e){return Np(e,2)}static bytes3(e){return Np(e,3)}static bytes4(e){return Np(e,4)}static bytes5(e){return Np(e,5)}static bytes6(e){return Np(e,6)}static bytes7(e){return Np(e,7)}static bytes8(e){return Np(e,8)}static bytes9(e){return Np(e,9)}static bytes10(e){return Np(e,10)}static bytes11(e){return Np(e,11)}static bytes12(e){return Np(e,12)}static bytes13(e){return Np(e,13)}static bytes14(e){return Np(e,14)}static bytes15(e){return Np(e,15)}static bytes16(e){return Np(e,16)}static bytes17(e){return Np(e,17)}static bytes18(e){return Np(e,18)}static bytes19(e){return Np(e,19)}static bytes20(e){return Np(e,20)}static bytes21(e){return Np(e,21)}static bytes22(e){return Np(e,22)}static bytes23(e){return Np(e,23)}static bytes24(e){return Np(e,24)}static bytes25(e){return Np(e,25)}static bytes26(e){return Np(e,26)}static bytes27(e){return Np(e,27)}static bytes28(e){return Np(e,28)}static bytes29(e){return Np(e,29)}static bytes30(e){return Np(e,30)}static bytes31(e){return Np(e,31)}static bytes32(e){return Np(e,32)}static address(e){return new Rp(Ip,"address",e)}static bool(e){return new Rp(Ip,"bool",!!e)}static bytes(e){return new Rp(Ip,"bytes",e)}static string(e){return new Rp(Ip,"string",e)}static array(e,t){throw new Error("not implemented yet")}static tuple(e,t){throw new Error("not implemented yet")}static overrides(e){return new Rp(Ip,"overrides",Object.assign({},e))}static isTyped(e){return e&&"object"==typeof e&&"_typedSymbol"in e&&e._typedSymbol===Op}static dereference(e,t){if(Rp.isTyped(e)){if(e.type!==t)throw new Error(`invalid type: expecetd ${t}, got ${e.type}`);return e.value}return e}}class Sp extends Rh{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){let n=Rp.dereference(t,"string");try{n=Bp(n)}catch(e){return this._throwError(e.message,t)}return e.writeValue(n)}decode(e){return Bp(bh(e.readValue(),20))}}class Fp extends Rh{coder;constructor(e){super(e.name,e.type,"_",e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}function Up(e,t,n){let r=[];if(Array.isArray(n))r=n;else if(n&&"object"==typeof n){let e={};r=t.map((t=>{const r=t.localName;return Vd(r,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:n}),Vd(!e[r],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:n}),e[r]=!0,n[r]}))}else _d(!1,"invalid tuple value","tuple",n);_d(t.length===r.length,"types/value length mismatch","tuple",n);let s=new Sh,a=new Sh,i=[];t.forEach(((e,t)=>{let n=r[t];if(e.dynamic){let t=a.length;e.encode(a,n);let r=s.writeUpdatableValue();i.push((e=>{r(e+t)}))}else e.encode(s,n)})),i.forEach((e=>{e(s.length)}));let o=e.appendWriter(s);return o+=e.appendWriter(a),o}function Dp(e,t){let n=[],r=[],s=e.subReader(0);return t.forEach((t=>{let a=null;if(t.dynamic){let n=e.readIndex(),r=s.subReader(n);try{a=t.decode(r)}catch(e){if(zd(e,"BUFFER_OVERRUN"))throw e;a=e,a.baseType=t.name,a.name=t.localName,a.type=t.type}}else try{a=t.decode(e)}catch(e){if(zd(e,"BUFFER_OVERRUN"))throw e;a=e,a.baseType=t.name,a.name=t.localName,a.type=t.type}if(null==a)throw new Error("investigate");n.push(a),r.push(t.localName||null)})),Nh.fromItems(n,r)}class Lp extends Rh{coder;length;constructor(e,t,n){super("array",e.type+"["+(t>=0?t:"")+"]",n,-1===t||e.dynamic),jd(this,{coder:e,length:t})}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let n=0;n<this.length;n++)t.push(e);return t}encode(e,t){const n=Rp.dereference(t,"array");Array.isArray(n)||this._throwError("expected array value",n);let r=this.length;-1===r&&(r=n.length,e.writeValue(n.length)),Qd(n.length,r,"coder array"+(this.localName?" "+this.localName:""));let s=[];for(let e=0;e<n.length;e++)s.push(this.coder);return Up(e,s,n)}decode(e){let t=this.length;-1===t&&(t=e.readIndex(),Vd(t*Ah<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:t*Ah,length:e.dataLength}));let n=[];for(let e=0;e<t;e++)n.push(new Fp(this.coder));return Dp(e,n)}}class Mp extends Rh{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){const n=Rp.dereference(t,"bool");return e.writeValue(n?1:0)}decode(e){return!!e.readValue()}}class Gp extends Rh{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=Yd(t);let n=e.writeValue(t.length);return n+=e.writeBytes(t),n}decode(e){return e.readBytes(e.readIndex(),!0)}}class jp extends Gp{constructor(e){super("bytes",e)}decode(e){return nh(super.decode(e))}}class Hp extends Rh{size;constructor(e,t){let n="bytes"+String(e);super(n,n,t,!1),jd(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(e,t){let n=Yd(Rp.dereference(t,this.type));return n.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(n)}decode(e){return nh(e.readBytes(this.size))}}const zp=new Uint8Array([]);class qp extends Rh{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes(zp)}decode(e){return e.readBytes(0),null}}const $p=BigInt(0),Vp=BigInt(1),_p=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class Qp extends Rh{size;signed;constructor(e,t,n){const r=(t?"int":"uint")+8*e;super(r,r,n,!1),jd(this,{size:e,signed:t},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,t){let n=ph(Rp.dereference(t,this.type)),r=hh(_p,256);if(this.signed){let e=hh(r,8*this.size-1);(n>e||n<-(e+Vp))&&this._throwError("value out-of-bounds",t),n=dh(n,256)}else(n<$p||n>hh(r,8*this.size))&&this._throwError("value out-of-bounds",t);return e.writeValue(n)}decode(e){let t=hh(e.readValue(),8*this.size);return this.signed&&(t=function(e,t){const n=fh(e,"value"),r=BigInt(gh(t,"width"));return Vd(n>>r===ch,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:e}),n>>r-lh?-((~n&(lh<<r)-lh)+lh):n}(t,8*this.size)),t}}function Jp(e,t,n,r,s){if("BAD_PREFIX"===e||"UNEXPECTED_CONTINUE"===e){let e=0;for(let r=t+1;r<n.length&&n[r]>>6==2;r++)e++;return e}return"OVERRUN"===e?n.length-t-1:0}const Kp=Object.freeze({error:function(e,t,n,r,s){_d(!1,`invalid codepoint at offset ${t}; ${e}`,"bytes",n)},ignore:Jp,replace:function(e,t,n,r,s){return"OVERLONG"===e?(_d("number"==typeof s,"invalid bad code point for replacement","badCodepoint",s),r.push(s),0):(r.push(65533),Jp(e,t,n))}});function Zp(e,t){_d("string"==typeof e,"invalid string value","str",e),null!=t&&(function(e){Vd(Jd.indexOf(e)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:e}})}(t),e=e.normalize(t));let n=[];for(let t=0;t<e.length;t++){const r=e.charCodeAt(t);if(r<128)n.push(r);else if(r<2048)n.push(r>>6|192),n.push(63&r|128);else if(55296==(64512&r)){t++;const s=e.charCodeAt(t);_d(t<e.length&&56320==(64512&s),"invalid surrogate pair","str",e);const a=65536+((1023&r)<<10)+(1023&s);n.push(a>>18|240),n.push(a>>12&63|128),n.push(a>>6&63|128),n.push(63&a|128)}else n.push(r>>12|224),n.push(r>>6&63|128),n.push(63&r|128)}return new Uint8Array(n)}function Wp(e,t){return function(e,t){null==t&&(t=Kp.error);const n=Wd(e,"bytes"),r=[];let s=0;for(;s<n.length;){const e=n[s++];if(!(e>>7)){r.push(e);continue}let a=null,i=null;if(192==(224&e))a=1,i=127;else if(224==(240&e))a=2,i=2047;else{if(240!=(248&e)){s+=t(128==(192&e)?"UNEXPECTED_CONTINUE":"BAD_PREFIX",s-1,n,r);continue}a=3,i=65535}if(s-1+a>=n.length){s+=t("OVERRUN",s-1,n,r);continue}let o=e&(1<<8-a-1)-1;for(let e=0;e<a;e++){let e=n[s];if(128!=(192&e)){s+=t("MISSING_CONTINUE",s,n,r),o=null;break}o=o<<6|63&e,s++}null!==o&&(o>1114111?s+=t("OUT_OF_RANGE",s-1-a,n,r,o):o>=55296&&o<=57343?s+=t("UTF16_SURROGATE",s-1-a,n,r,o):o<=i?s+=t("OVERLONG",s-1-a,n,r,o):r.push(o))}return r}(e,t).map((e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10&1023),56320+(1023&e))))).join("")}class Yp extends Gp{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,Zp(Rp.dereference(t,"string")))}decode(e){return Wp(super.decode(e))}}class Xp extends Rh{coders;constructor(e,t){let n=!1;const r=[];e.forEach((e=>{e.dynamic&&(n=!0),r.push(e.type)})),super("tuple","tuple("+r.join(",")+")",t,n),jd(this,{coders:Object.freeze(e.slice())})}defaultValue(){const e=[];this.coders.forEach((t=>{e.push(t.defaultValue())}));const t=this.coders.reduce(((e,t)=>{const n=t.localName;return n&&(e[n]||(e[n]=0),e[n]++),e}),{});return this.coders.forEach(((n,r)=>{let s=n.localName;s&&1===t[s]&&("length"===s&&(s="_length"),null==e[s]&&(e[s]=e[r]))})),Object.freeze(e)}encode(e,t){const n=Rp.dereference(t,"tuple");return Up(e,this.coders,n)}decode(e){return Dp(e,this.coders)}}function ef(e){return vp(Zp(e))}function tf(e){const t=new Set;return e.forEach((e=>t.add(e))),Object.freeze(t)}const nf=tf("external public payable override".split(" ")),rf="constant external internal payable private public pure view override",sf=tf(rf.split(" ")),af="constructor error event fallback function receive struct",of=tf(af.split(" ")),cf="calldata memory storage payable indexed",lf=tf(cf.split(" ")),uf=tf([af,cf,"tuple returns",rf].join(" ").split(" ")),df={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},hf=new RegExp("^(\\s*)"),pf=new RegExp("^([0-9]+)"),ff=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),mf=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),yf=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class gf{#s;#d;get offset(){return this.#s}get length(){return this.#d.length-this.#s}constructor(e){this.#s=0,this.#d=e.slice()}clone(){return new gf(this.#d)}reset(){this.#s=0}#h(e=0,t=0){return new gf(this.#d.slice(e,t).map((t=>Object.freeze(Object.assign({},t,{match:t.match-e,linkBack:t.linkBack-e,linkNext:t.linkNext-e})))))}popKeyword(e){const t=this.peek();if("KEYWORD"!==t.type||!e.has(t.text))throw new Error(`expected keyword ${t.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const t=this.peek();throw new Error(`expected ${e}; got ${t.type} ${JSON.stringify(t.text)}`)}return this.pop().text}popParen(){const e=this.peek();if("OPEN_PAREN"!==e.type)throw new Error("bad start");const t=this.#h(this.#s+1,e.match+1);return this.#s=e.match+1,t}popParams(){const e=this.peek();if("OPEN_PAREN"!==e.type)throw new Error("bad start");const t=[];for(;this.#s<e.match-1;){const e=this.peek().linkNext;t.push(this.#h(this.#s+1,e)),this.#s=e}return this.#s=e.match+1,t}peek(){if(this.#s>=this.#d.length)throw new Error("out-of-bounds");return this.#d[this.#s]}peekKeyword(e){const t=this.peekType("KEYWORD");return null!=t&&e.has(t)?t:null}peekType(e){if(0===this.length)return null;const t=this.peek();return t.type===e?t.text:null}pop(){const e=this.peek();return this.#s++,e}toString(){const e=[];for(let t=this.#s;t<this.#d.length;t++){const n=this.#d[t];e.push(`${n.type}:${n.text}`)}return`<TokenString ${e.join(" ")}>`}}function bf(e){const t=[],n=t=>{const n=a<e.length?JSON.stringify(e[a]):"$EOI";throw new Error(`invalid token ${n} at ${a}: ${t}`)};let r=[],s=[],a=0;for(;a<e.length;){let i=e.substring(a),o=i.match(hf);o&&(a+=o[1].length,i=e.substring(a));const c={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:a,value:-1};t.push(c);let l=df[i[0]]||"";if(l){if(c.type=l,c.text=i[0],a++,"OPEN_PAREN"===l)r.push(t.length-1),s.push(t.length-1);else if("CLOSE_PAREN"==l)0===r.length&&n("no matching open bracket"),c.match=r.pop(),t[c.match].match=t.length-1,c.depth--,c.linkBack=s.pop(),t[c.linkBack].linkNext=t.length-1;else if("COMMA"===l)c.linkBack=s.pop(),t[c.linkBack].linkNext=t.length-1,s.push(t.length-1);else if("OPEN_BRACKET"===l)c.type="BRACKET";else if("CLOSE_BRACKET"===l){let e=t.pop().text;if(t.length>0&&"NUMBER"===t[t.length-1].type){const n=t.pop().text;e=n+e,t[t.length-1].value=gh(n)}if(0===t.length||"BRACKET"!==t[t.length-1].type)throw new Error("missing opening bracket");t[t.length-1].text+=e}}else if(o=i.match(ff),o){if(c.text=o[1],a+=c.text.length,uf.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(yf)){c.type="TYPE";continue}c.type="ID"}else{if(o=i.match(pf),!o)throw new Error(`unexpected token ${JSON.stringify(i[0])} at position ${a}`);c.text=o[1],c.type="NUMBER",a+=c.text.length}}return new gf(t.map((e=>Object.freeze(e))))}function wf(e,t){let n=[];for(const r in t.keys())e.has(r)&&n.push(r);if(n.length>1)throw new Error(`conflicting types: ${n.join(", ")}`)}function vf(e,t){if(t.peekKeyword(of)){const n=t.pop().text;if(n!==e)throw new Error(`expected ${e}, got ${n}`)}return t.popType("ID")}function Af(e,t){const n=new Set;for(;;){const r=e.peekType("KEYWORD");if(null==r||t&&!t.has(r))break;if(e.pop(),n.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);n.add(r)}return Object.freeze(n)}function Ef(e){let t=Af(e,sf);return wf(t,tf("constant payable nonpayable".split(" "))),wf(t,tf("pure view payable nonpayable".split(" "))),t.has("view")?"view":t.has("pure")?"pure":t.has("payable")?"payable":t.has("nonpayable")?"nonpayable":t.has("constant")?"view":"nonpayable"}function xf(e,t){return e.popParams().map((e=>Lf.from(e,t)))}function Pf(e){if(e.peekType("AT")){if(e.pop(),e.peekType("NUMBER"))return ph(e.pop().text);throw new Error("invalid gas")}return null}function kf(e){if(e.length)throw new Error(`unexpected tokens at offset ${e.offset}: ${e.toString()}`)}const Tf=new RegExp(/^(.*)\[([0-9]*)\]$/);function Bf(e){const t=e.match(yf);if(_d(t,"invalid type","type",e),"uint"===e)return"uint256";if("int"===e)return"int256";if(t[2]){const n=parseInt(t[2]);_d(0!==n&&n<=32,"invalid bytes length","type",e)}else if(t[3]){const n=parseInt(t[3]);_d(0!==n&&n<=256&&n%8==0,"invalid numeric width","type",e)}return e}const If={},Cf=Symbol.for("_ethers_internal"),Nf="_ParamTypeInternal",Of="_ErrorInternal",Rf="_EventInternal",Sf="_ConstructorInternal",Ff="_FallbackInternal",Uf="_FunctionInternal",Df="_StructInternal";class Lf{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(e,t,n,r,s,a,i,o){if(Kd(e,If,"ParamType"),Object.defineProperty(this,Cf,{value:Nf}),a&&(a=Object.freeze(a.slice())),"array"===r){if(null==i||null==o)throw new Error("")}else if(null!=i||null!=o)throw new Error("");if("tuple"===r){if(null==a)throw new Error("")}else if(null!=a)throw new Error("");jd(this,{name:t,type:n,baseType:r,indexed:s,components:a,arrayLength:i,arrayChildren:o})}format(e){if(null==e&&(e="sighash"),"json"===e){const t=this.name||"";if(this.isArray()){const e=JSON.parse(this.arrayChildren.format("json"));return e.name=t,e.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(e)}const n={type:"tuple"===this.baseType?"tuple":this.type,name:t};return"boolean"==typeof this.indexed&&(n.indexed=this.indexed),this.isTuple()&&(n.components=this.components.map((t=>JSON.parse(t.format(e))))),JSON.stringify(n)}let t="";return this.isArray()?(t+=this.arrayChildren.format(e),t+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?t+="("+this.components.map((t=>t.format(e))).join("full"===e?", ":",")+")":t+=this.type,"sighash"!==e&&(!0===this.indexed&&(t+=" indexed"),"full"===e&&this.name&&(t+=" "+this.name)),t}isArray(){return"array"===this.baseType}isTuple(){return"tuple"===this.baseType}isIndexable(){return null!=this.indexed}walk(e,t){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(-1!==this.arrayLength&&e.length!==this.arrayLength)throw new Error("array is wrong length");const n=this;return e.map((e=>n.arrayChildren.walk(e,t)))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const n=this;return e.map(((e,r)=>n.components[r].walk(e,t)))}return t(this.type,e)}#p(e,t,n,r){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(-1!==this.arrayLength&&t.length!==this.arrayLength)throw new Error("array is wrong length");const s=this.arrayChildren,a=t.slice();return a.forEach(((t,r)=>{s.#p(e,t,n,(e=>{a[r]=e}))})),void r(a)}if(this.isTuple()){const s=this.components;let a;if(Array.isArray(t))a=t.slice();else{if(null==t||"object"!=typeof t)throw new Error("invalid tuple value");a=s.map((e=>{if(!e.name)throw new Error("cannot use object value with unnamed components");if(!(e.name in t))throw new Error(`missing value for component ${e.name}`);return t[e.name]}))}if(a.length!==this.components.length)throw new Error("array is wrong length");return a.forEach(((t,r)=>{s[r].#p(e,t,n,(e=>{a[r]=e}))})),void r(a)}const s=n(this.type,t);s.then?e.push(async function(){r(await s)}()):r(s)}async walkAsync(e,t){const n=[],r=[e];return this.#p(n,e,t,(e=>{r[0]=e})),n.length&&await Promise.all(n),r[0]}static from(e,t){if(Lf.isParamType(e))return e;if("string"==typeof e)try{return Lf.from(bf(e),t)}catch(t){_d(!1,"invalid param type","obj",e)}else if(e instanceof gf){let n="",r="",s=null;Af(e,tf(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(r="tuple",s=e.popParams().map((e=>Lf.from(e))),n=`tuple(${s.map((e=>e.format())).join(",")})`):(n=Bf(e.popType("TYPE")),r=n);let a=null,i=null;for(;e.length&&e.peekType("BRACKET");){const t=e.pop();a=new Lf(If,"",n,r,null,s,i,a),i=t.value,n+=t.text,r="array",s=null}let o=null;if(Af(e,lf).has("indexed")){if(!t)throw new Error("");o=!0}const c=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new Lf(If,c,n,r,o,s,i,a)}const n=e.name;_d(!n||"string"==typeof n&&n.match(mf),"invalid name","obj.name",n);let r=e.indexed;null!=r&&(_d(t,"parameter cannot be indexed","obj.indexed",e.indexed),r=!!r);let s=e.type,a=s.match(Tf);if(a){const t=parseInt(a[2]||"-1"),i=Lf.from({type:a[1],components:e.components});return new Lf(If,n||"",s,"array",r,null,t,i)}if("tuple"===s||s.startsWith("tuple(")||s.startsWith("(")){const t=null!=e.components?e.components.map((e=>Lf.from(e))):null;return new Lf(If,n||"",s,"tuple",r,t,null,null)}return s=Bf(e.type),new Lf(If,n||"",s,s,r,null,null,null)}static isParamType(e){return e&&e[Cf]===Nf}}class Mf{type;inputs;constructor(e,t,n){Kd(e,If,"Fragment"),jd(this,{type:t,inputs:n=Object.freeze(n.slice())})}static from(e){if("string"==typeof e){try{Mf.from(JSON.parse(e))}catch(e){}return Mf.from(bf(e))}if(e instanceof gf)switch(e.peekKeyword(of)){case"constructor":return qf.from(e);case"error":return Hf.from(e);case"event":return zf.from(e);case"fallback":case"receive":return $f.from(e);case"function":return Vf.from(e);case"struct":return _f.from(e)}else if("object"==typeof e){switch(e.type){case"constructor":return qf.from(e);case"error":return Hf.from(e);case"event":return zf.from(e);case"fallback":case"receive":return $f.from(e);case"function":return Vf.from(e);case"struct":return _f.from(e)}Vd(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}_d(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return qf.isFragment(e)}static isError(e){return Hf.isFragment(e)}static isEvent(e){return zf.isFragment(e)}static isFunction(e){return Vf.isFragment(e)}static isStruct(e){return _f.isFragment(e)}}class Gf extends Mf{name;constructor(e,t,n,r){super(e,t,r),_d("string"==typeof n&&n.match(mf),"invalid identifier","name",n),r=Object.freeze(r.slice()),jd(this,{name:n})}}function jf(e,t){return"("+t.map((t=>t.format(e))).join("full"===e?", ":",")+")"}class Hf extends Gf{constructor(e,t,n){super(e,"error",t,n),Object.defineProperty(this,Cf,{value:Of})}get selector(){return ef(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});const t=[];return"sighash"!==e&&t.push("error"),t.push(this.name+jf(e,this.inputs)),t.join(" ")}static from(e){if(Hf.isFragment(e))return e;if("string"==typeof e)return Hf.from(bf(e));if(e instanceof gf){const t=vf("error",e),n=xf(e);return kf(e),new Hf(If,t,n)}return new Hf(If,e.name,e.inputs?e.inputs.map(Lf.from):[])}static isFragment(e){return e&&e[Cf]===Of}}class zf extends Gf{anonymous;constructor(e,t,n,r){super(e,"event",t,n),Object.defineProperty(this,Cf,{value:Rf}),jd(this,{anonymous:r})}get topicHash(){return ef(this.format("sighash"))}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});const t=[];return"sighash"!==e&&t.push("event"),t.push(this.name+jf(e,this.inputs)),"sighash"!==e&&this.anonymous&&t.push("anonymous"),t.join(" ")}static getTopicHash(e,t){return t=(t||[]).map((e=>Lf.from(e))),new zf(If,e,t,!1).topicHash}static from(e){if(zf.isFragment(e))return e;if("string"==typeof e)try{return zf.from(bf(e))}catch(t){_d(!1,"invalid event fragment","obj",e)}else if(e instanceof gf){const t=vf("event",e),n=xf(e,!0),r=!!Af(e,tf(["anonymous"])).has("anonymous");return kf(e),new zf(If,t,n,r)}return new zf(If,e.name,e.inputs?e.inputs.map((e=>Lf.from(e,!0))):[],!!e.anonymous)}static isFragment(e){return e&&e[Cf]===Rf}}class qf extends Mf{payable;gas;constructor(e,t,n,r,s){super(e,t,n),Object.defineProperty(this,Cf,{value:Sf}),jd(this,{payable:r,gas:s})}format(e){if(Vd(null!=e&&"sighash"!==e,"cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),"json"===e)return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});const t=[`constructor${jf(e,this.inputs)}`];return this.payable&&t.push("payable"),null!=this.gas&&t.push(`@${this.gas.toString()}`),t.join(" ")}static from(e){if(qf.isFragment(e))return e;if("string"==typeof e)try{return qf.from(bf(e))}catch(t){_d(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof gf){Af(e,tf(["constructor"]));const t=xf(e),n=!!Af(e,nf).has("payable"),r=Pf(e);return kf(e),new qf(If,"constructor",t,n,r)}return new qf(If,"constructor",e.inputs?e.inputs.map(Lf.from):[],!!e.payable,null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[Cf]===Sf}}class $f extends Mf{payable;constructor(e,t,n){super(e,"fallback",t),Object.defineProperty(this,Cf,{value:Ff}),jd(this,{payable:n})}format(e){const t=0===this.inputs.length?"receive":"fallback";if("json"===e){const e=this.payable?"payable":"nonpayable";return JSON.stringify({type:t,stateMutability:e})}return`${t}()${this.payable?" payable":""}`}static from(e){if($f.isFragment(e))return e;if("string"==typeof e)try{return $f.from(bf(e))}catch(t){_d(!1,"invalid fallback fragment","obj",e)}else if(e instanceof gf){const t=e.toString();if(_d(e.peekKeyword(tf(["fallback","receive"])),"type must be fallback or receive","obj",t),"receive"===e.popKeyword(tf(["fallback","receive"]))){const t=xf(e);return _d(0===t.length,"receive cannot have arguments","obj.inputs",t),Af(e,tf(["payable"])),kf(e),new $f(If,[],!0)}let n=xf(e);n.length?_d(1===n.length&&"bytes"===n[0].type,"invalid fallback inputs","obj.inputs",n.map((e=>e.format("minimal"))).join(", ")):n=[Lf.from("bytes")];const r=Ef(e);if(_d("nonpayable"===r||"payable"===r,"fallback cannot be constants","obj.stateMutability",r),Af(e,tf(["returns"])).has("returns")){const t=xf(e);_d(1===t.length&&"bytes"===t[0].type,"invalid fallback outputs","obj.outputs",t.map((e=>e.format("minimal"))).join(", "))}return kf(e),new $f(If,n,"payable"===r)}if("receive"===e.type)return new $f(If,[],!0);if("fallback"===e.type){const t=[Lf.from("bytes")],n="payable"===e.stateMutability;return new $f(If,t,n)}_d(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[Cf]===Ff}}class Vf extends Gf{constant;outputs;stateMutability;payable;gas;constructor(e,t,n,r,s,a){super(e,"function",t,r),Object.defineProperty(this,Cf,{value:Uf}),jd(this,{constant:"view"===n||"pure"===n,gas:a,outputs:s=Object.freeze(s.slice()),payable:"payable"===n,stateMutability:n})}get selector(){return ef(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map((t=>JSON.parse(t.format(e)))),outputs:this.outputs.map((t=>JSON.parse(t.format(e))))});const t=[];return"sighash"!==e&&t.push("function"),t.push(this.name+jf(e,this.inputs)),"sighash"!==e&&("nonpayable"!==this.stateMutability&&t.push(this.stateMutability),this.outputs&&this.outputs.length&&(t.push("returns"),t.push(jf(e,this.outputs))),null!=this.gas&&t.push(`@${this.gas.toString()}`)),t.join(" ")}static getSelector(e,t){return t=(t||[]).map((e=>Lf.from(e))),new Vf(If,e,"view",t,[],null).selector}static from(e){if(Vf.isFragment(e))return e;if("string"==typeof e)try{return Vf.from(bf(e))}catch(t){_d(!1,"invalid function fragment","obj",e)}else if(e instanceof gf){const t=vf("function",e),n=xf(e),r=Ef(e);let s=[];Af(e,tf(["returns"])).has("returns")&&(s=xf(e));const a=Pf(e);return kf(e),new Vf(If,t,r,n,s,a)}let t=e.stateMutability;return null==t&&(t="payable","boolean"==typeof e.constant?(t="view",e.constant||(t="payable","boolean"!=typeof e.payable||e.payable||(t="nonpayable"))):"boolean"!=typeof e.payable||e.payable||(t="nonpayable")),new Vf(If,e.name,t,e.inputs?e.inputs.map(Lf.from):[],e.outputs?e.outputs.map(Lf.from):[],null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[Cf]===Uf}}class _f extends Gf{constructor(e,t,n){super(e,"struct",t,n),Object.defineProperty(this,Cf,{value:Df})}format(){throw new Error("@TODO")}static from(e){if("string"==typeof e)try{return _f.from(bf(e))}catch(t){_d(!1,"invalid struct fragment","obj",e)}else if(e instanceof gf){const t=vf("struct",e),n=xf(e);return kf(e),new _f(If,t,n)}return new _f(If,e.name,e.inputs?e.inputs.map(Lf.from):[])}static isFragment(e){return e&&e[Cf]===Df}}const Qf=new Map;Qf.set(0,"GENERIC_PANIC"),Qf.set(1,"ASSERT_FALSE"),Qf.set(17,"OVERFLOW"),Qf.set(18,"DIVIDE_BY_ZERO"),Qf.set(33,"ENUM_RANGE_ERROR"),Qf.set(34,"BAD_STORAGE_DATA"),Qf.set(49,"STACK_UNDERFLOW"),Qf.set(50,"ARRAY_RANGE_ERROR"),Qf.set(65,"OUT_OF_MEMORY"),Qf.set(81,"UNINITIALIZED_FUNCTION_CALL");const Jf=new RegExp(/^bytes([0-9]*)$/),Kf=new RegExp(/^(u?int)([0-9]*)$/);let Zf=null,Wf=1024;class Yf{#f(e){if(e.isArray())return new Lp(this.#f(e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new Xp(e.components.map((e=>this.#f(e))),e.name);switch(e.baseType){case"address":return new Sp(e.name);case"bool":return new Mp(e.name);case"string":return new Yp(e.name);case"bytes":return new jp(e.name);case"":return new qp(e.name)}let t=e.type.match(Kf);if(t){let n=parseInt(t[2]||"256");return _d(0!==n&&n<=256&&n%8==0,"invalid "+t[1]+" bit length","param",e),new Qp(n/8,"int"===t[1],e.name)}if(t=e.type.match(Jf),t){let n=parseInt(t[1]);return _d(0!==n&&n<=32,"invalid bytes length","param",e),new Hp(n,e.name)}_d(!1,"invalid type","type",e.type)}getDefaultValue(e){const t=e.map((e=>this.#f(Lf.from(e))));return new Xp(t,"_").defaultValue()}encode(e,t){Qd(t.length,e.length,"types/values length mismatch");const n=e.map((e=>this.#f(Lf.from(e)))),r=new Xp(n,"_"),s=new Sh;return r.encode(s,t),s.data}decode(e,t,n){const r=e.map((e=>this.#f(Lf.from(e))));return new Xp(r,"_").decode(new Fh(t,n,Wf))}static _setDefaultMaxInflation(e){_d("number"==typeof e&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),Wf=e}static defaultAbiCoder(){return null==Zf&&(Zf=new Yf),Zf}static getBuiltinCallException(e,t,n){return function(e,t,n,r){let s="missing revert data",a=null,i=null;if(n){s="execution reverted";const e=Wd(n);if(n=nh(n),0===e.length)s+=" (no data present; likely require(false) occurred",a="require(false)";else if(e.length%32!=4)s+=" (could not decode reason; invalid data length)";else if("0x08c379a0"===nh(e.slice(0,4)))try{a=r.decode(["string"],e.slice(4))[0],i={signature:"Error(string)",name:"Error",args:[a]},s+=`: ${JSON.stringify(a)}`}catch(e){s+=" (could not decode reason; invalid string data)"}else if("0x4e487b71"===nh(e.slice(0,4)))try{const t=Number(r.decode(["uint256"],e.slice(4))[0]);i={signature:"Panic(uint256)",name:"Panic",args:[t]},a=`Panic due to ${Qf.get(t)||"UNKNOWN"}(${t})`,s+=`: ${a}`}catch(e){s+=" (could not decode panic code)"}else s+=" (unknown custom error)"}const o={to:t.to?Bp(t.to):null,data:t.data||"0x"};return t.from&&(o.from=Bp(t.from)),$d(s,"CALL_EXCEPTION",{action:e,data:n,reason:a,transaction:o,invocation:null,revert:i})}(e,t,n,Yf.defaultAbiCoder())}}function Xf(e){return e&&"function"==typeof e.getAddress}async function em(e,t){const n=await t;return null!=n&&"0x0000000000000000000000000000000000000000"!==n||(Vd("string"!=typeof e,"unconfigured name","UNCONFIGURED_NAME",{value:e}),_d(!1,"invalid AddressLike value; did not resolve to a value address","target",e)),Bp(n)}function tm(e,t){return"string"==typeof e?e.match(/^0x[0-9a-f]{40}$/i)?Bp(e):(Vd(null!=t,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),em(e,t.resolveName(e))):Xf(e)?em(e,e.getAddress()):e&&"function"==typeof e.then?em(e,e):void _d(!1,"unsupported addressable value","target",e)}const nm=new Uint8Array(32);nm.fill(0);const rm=BigInt(-1),sm=BigInt(0),am=BigInt(1),im=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),om=bh(am,32),cm=bh(sm,32),lm={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},um=["name","version","chainId","verifyingContract","salt"];function dm(e){return function(t){return _d("string"==typeof t,`invalid domain value for ${JSON.stringify(e)}`,`domain.${e}`,t),t}}const hm={name:dm("name"),version:dm("version"),chainId:function(e){const t=ph(e,"domain.chainId");return _d(t>=0,"invalid chain ID","domain.chainId",e),Number.isSafeInteger(t)?Number(t):vh(t)},verifyingContract:function(e){try{return Bp(e).toLowerCase()}catch(e){}_d(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){const t=Wd(e,"domain.salt");return _d(32===t.length,'invalid domain value "salt"',"domain.salt",e),nh(t)}};function pm(e){{const t=e.match(/^(u?)int(\d+)$/);if(t){const n=""===t[1],r=parseInt(t[2]);_d(r%8==0&&0!==r&&r<=256&&t[2]===String(r),"invalid numeric width","type",e);const s=hh(im,n?r-1:r),a=n?(s+am)*rm:sm;return function(t){const r=ph(t,"value");return _d(r>=a&&r<=s,`value out-of-bounds for ${e}`,"value",r),bh(n?dh(r,256):r,32)}}}{const t=e.match(/^bytes(\d+)$/);if(t){const n=parseInt(t[1]);return _d(0!==n&&n<=32&&t[1]===String(n),"invalid bytes width","type",e),function(t){return _d(Wd(t).length===n,`invalid length for ${e}`,"value",t),function(e){const t=Wd(e),n=t.length%32;return n?rh([t,nm.slice(n)]):nh(t)}(t)}}}switch(e){case"address":return function(e){return oh(Bp(e),32)};case"bool":return function(e){return e?om:cm};case"bytes":return function(e){return vp(e)};case"string":return function(e){return ef(e)}}return null}function fm(e,t){return`${e}(${t.map((({name:e,type:t})=>t+" "+e)).join(",")})`}function mm(e){const t=e.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return t?{base:t[1],index:t[2]+t[4],array:{base:t[1],prefix:t[1]+t[2],count:t[5]?parseInt(t[5]):-1}}:{base:e}}class ym{primaryType;#m;get types(){return JSON.parse(this.#m)}#y;#g;constructor(e){this.#y=new Map,this.#g=new Map;const t=new Map,n=new Map,r=new Map,s={};Object.keys(e).forEach((a=>{s[a]=e[a].map((({name:t,type:n})=>{let{base:r,index:s}=mm(n);return"int"!==r||e.int||(r="int256"),"uint"!==r||e.uint||(r="uint256"),{name:t,type:r+(s||"")}})),t.set(a,new Set),n.set(a,[]),r.set(a,new Set)})),this.#m=JSON.stringify(s);for(const r in s){const a=new Set;for(const i of s[r]){_d(!a.has(i.name),`duplicate variable name ${JSON.stringify(i.name)} in ${JSON.stringify(r)}`,"types",e),a.add(i.name);const s=mm(i.type).base;_d(s!==r,`circular type reference to ${JSON.stringify(s)}`,"types",e),pm(s)||(_d(n.has(s),`unknown type ${JSON.stringify(s)}`,"types",e),n.get(s).push(r),t.get(r).add(s))}}const a=Array.from(n.keys()).filter((e=>0===n.get(e).length));_d(0!==a.length,"missing primary type","types",e),_d(1===a.length,`ambiguous primary types or unused types: ${a.map((e=>JSON.stringify(e))).join(", ")}`,"types",e),jd(this,{primaryType:a[0]}),function s(a,i){_d(!i.has(a),`circular type reference to ${JSON.stringify(a)}`,"types",e),i.add(a);for(const e of t.get(a))if(n.has(e)){s(e,i);for(const t of i)r.get(t).add(e)}i.delete(a)}(this.primaryType,new Set);for(const[e,t]of r){const n=Array.from(t);n.sort(),this.#y.set(e,fm(e,s[e])+n.map((e=>fm(e,s[e]))).join(""))}}getEncoder(e){let t=this.#g.get(e);return t||(t=this.#b(e),this.#g.set(e,t)),t}#b(e){{const t=pm(e);if(t)return t}const t=mm(e).array;if(t){const e=t.prefix,n=this.getEncoder(e);return r=>{_d(-1===t.count||t.count===r.length,`array length mismatch; expected length ${t.count}`,"value",r);let s=r.map(n);return this.#y.has(e)&&(s=s.map(vp)),vp(rh(s))}}const n=this.types[e];if(n){const t=ef(this.#y.get(e));return e=>{const r=n.map((({name:t,type:n})=>{const r=this.getEncoder(n)(e[t]);return this.#y.has(n)?vp(r):r}));return r.unshift(t),rh(r)}}_d(!1,`unknown type: ${e}`,"type",e)}encodeType(e){const t=this.#y.get(e);return _d(t,`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return vp(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,n){if(pm(e))return n(e,t);const r=mm(e).array;if(r)return _d(-1===r.count||r.count===t.length,`array length mismatch; expected length ${r.count}`,"value",t),t.map((e=>this._visit(r.prefix,e,n)));const s=this.types[e];if(s)return s.reduce(((e,{name:r,type:s})=>(e[r]=this._visit(s,t[r],n),e)),{});_d(!1,`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new ym(e)}static getPrimaryType(e){return ym.from(e).primaryType}static hashStruct(e,t,n){return ym.from(t).hashStruct(e,n)}static hashDomain(e){const t=[];for(const n in e){if(null==e[n])continue;const r=lm[n];_d(r,`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),t.push({name:n,type:r})}return t.sort(((e,t)=>um.indexOf(e.name)-um.indexOf(t.name))),ym.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,n){return rh(["0x1901",ym.hashDomain(e),ym.from(t).hash(n)])}static hash(e,t,n){return vp(ym.encode(e,t,n))}static async resolveNames(e,t,n,r){e=Object.assign({},e);for(const t in e)null==e[t]&&delete e[t];const s={};e.verifyingContract&&!Xd(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const a=ym.from(t);a.visit(n,((e,t)=>("address"!==e||Xd(t,20)||(s[t]="0x"),t)));for(const e in s)s[e]=await r(e);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),{domain:e,value:n=a.visit(n,((e,t)=>"address"===e&&s[t]?s[t]:t))}}static getPayload(e,t,n){ym.hashDomain(e);const r={},s=[];um.forEach((t=>{const n=e[t];null!=n&&(r[t]=hm[t](n),s.push({name:t,type:lm[t]}))}));const a=ym.from(t);t=a.types;const i=Object.assign({},t);return _d(null==i.EIP712Domain,"types must not contain EIP712Domain type","types.EIP712Domain",t),i.EIP712Domain=s,a.encode(n),{types:i,domain:r,primaryType:a.primaryType,message:a.visit(n,((e,t)=>{if(e.match(/^bytes(\d*)/))return nh(Wd(t));if(e.match(/^u?int/))return ph(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return _d("string"==typeof t,"invalid string","value",t),t}_d(!1,"unsupported type","type",e)}))}}}function gm(e,t){return{address:Bp(e),storageKeys:t.map(((e,t)=>(_d(Xd(e,32),"invalid slot",`storageKeys[${t}]`,e),e.toLowerCase())))}}function bm(e){if(Array.isArray(e))return e.map(((t,n)=>Array.isArray(t)?(_d(2===t.length,"invalid slot set",`value[${n}]`,t),gm(t[0],t[1])):(_d(null!=t&&"object"==typeof t,"invalid address-slot set","value",e),gm(t.address,t.storageKeys))));_d(null!=e&&"object"==typeof e,"invalid access list","value",e);const t=Object.keys(e).map((t=>{const n=e[t].reduce(((e,t)=>(e[t]=!0,e)),{});return gm(t,Object.keys(n).sort())}));return t.sort(((e,t)=>e.address.localeCompare(t.address))),t}function wm(e){return async function(e,t){Vd(null==t||!t.cancelled,"request cancelled before sending","CANCELLED");const n=e.url.split(":")[0].toLowerCase();Vd("http"===n||"https"===n,`unsupported protocol ${n}`,"UNSUPPORTED_OPERATION",{info:{protocol:n},operation:"request"}),Vd("https"===n||!e.credentials||e.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let r=null;const s=new AbortController,a=setTimeout((()=>{r=$d("request timeout","TIMEOUT"),s.abort()}),e.timeout);t&&t.addListener((()=>{r=$d("request cancelled","CANCELLED"),s.abort()}));const i={method:e.method,headers:new Headers(Array.from(e)),body:e.body||void 0,signal:s.signal};let o;try{o=await fetch(e.url,i)}catch(e){if(clearTimeout(a),r)throw r;throw e}clearTimeout(a);const c={};o.headers.forEach(((e,t)=>{c[t.toLowerCase()]=e}));const l=await o.arrayBuffer(),u=null==l?null:new Uint8Array(l);return{statusCode:o.status,statusMessage:o.statusText,headers:c,body:u}}}wm();let vm=wm();const Am=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),Em=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let xm=!1;async function Pm(e,t){try{const t=e.match(Am);if(!t)throw new Error("invalid data");return new Om(200,"OK",{"content-type":t[1]||"text/plain"},t[2]?function(e){e=atob(e);const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return Wd(t)}(t[3]):Zp(t[3].replace(/%([0-9a-f][0-9a-f])/gi,((e,t)=>String.fromCharCode(parseInt(t,16))))))}catch(t){return new Om(599,"BAD REQUEST (invalid data: URI)",{},null,new Nm(e))}}function km(e){return async function(t,n){try{const n=t.match(Em);if(!n)throw new Error("invalid link");return new Nm(`${e}${n[2]}`)}catch(e){return new Om(599,"BAD REQUEST (invalid IPFS URI)",{},null,new Nm(t))}}}const Tm={data:Pm,ipfs:km("https://gateway.ipfs.io/ipfs/")},Bm=new WeakMap;class Im{#w;#v;constructor(e){this.#w=[],this.#v=!1,Bm.set(e,(()=>{if(!this.#v){this.#v=!0;for(const e of this.#w)setTimeout((()=>{e()}),0);this.#w=[]}}))}addListener(e){Vd(!this.#v,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#w.push(e)}get cancelled(){return this.#v}checkSignal(){Vd(!this.cancelled,"cancelled","CANCELLED",{})}}function Cm(e){if(null==e)throw new Error("missing signal; should not happen");return e.checkSignal(),e}class Nm{#A;#E;#x;#P;#k;#T;#B;#I;#C;#N;#O;#R;#S;#F;#U;get url(){return this.#T}set url(e){this.#T=String(e)}get body(){return null==this.#B?null:new Uint8Array(this.#B)}set body(e){if(null==e)this.#B=void 0,this.#I=void 0;else if("string"==typeof e)this.#B=Zp(e),this.#I="text/plain";else if(e instanceof Uint8Array)this.#B=e,this.#I="application/octet-stream";else{if("object"!=typeof e)throw new Error("invalid body");this.#B=Zp(JSON.stringify(e)),this.#I="application/json"}}hasBody(){return null!=this.#B}get method(){return this.#P?this.#P:this.hasBody()?"POST":"GET"}set method(e){null==e&&(e=""),this.#P=String(e).toUpperCase()}get headers(){const e=Object.assign({},this.#x);return this.#C&&(e.authorization=`Basic ${function(e){const t=Wd(e);let n="";for(let e=0;e<t.length;e++)n+=String.fromCharCode(t[e]);return btoa(n)}(Zp(this.#C))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),null==e["content-type"]&&this.#I&&(e["content-type"]=this.#I),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,t){this.#x[String(e).toLowerCase()]=String(t)}clearHeaders(){this.#x={}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let n=0;return{next:()=>{if(n<t.length){const r=t[n++];return{value:[r,e[r]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#C||null}setCredentials(e,t){_d(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#C=`${e}:${t}`}get allowGzip(){return this.#E}set allowGzip(e){this.#E=!!e}get allowInsecureAuthentication(){return!!this.#A}set allowInsecureAuthentication(e){this.#A=!!e}get timeout(){return this.#k}set timeout(e){_d(e>=0,"timeout must be non-zero","timeout",e),this.#k=e}get preflightFunc(){return this.#N||null}set preflightFunc(e){this.#N=e}get processFunc(){return this.#O||null}set processFunc(e){this.#O=e}get retryFunc(){return this.#R||null}set retryFunc(e){this.#R=e}get getUrlFunc(){return this.#U||vm}set getUrlFunc(e){this.#U=e}constructor(e){this.#T=String(e),this.#A=!1,this.#E=!0,this.#x={},this.#P="",this.#k=3e5,this.#F={slotInterval:250,maxAttempts:12},this.#U=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#B?nh(this.#B):"null"}>`}setThrottleParams(e){null!=e.slotInterval&&(this.#F.slotInterval=e.slotInterval),null!=e.maxAttempts&&(this.#F.maxAttempts=e.maxAttempts)}async#D(e,t,n,r,s){if(e>=this.#F.maxAttempts)return s.makeServerError("exceeded maximum retry limit");Vd(Rm()<=t,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:r}),n>0&&await function(e){return new Promise((t=>setTimeout(t,e)))}(n);let a=this.clone();const i=(a.url.split(":")[0]||"").toLowerCase();if(i in Tm){const e=await Tm[i](a.url,Cm(r.#S));if(e instanceof Om){let t=e;if(this.processFunc){Cm(r.#S);try{t=await this.processFunc(a,t)}catch(e){null!=e.throttle&&"number"==typeof e.stall||t.makeServerError("error in post-processing function",e).assertOk()}}return t}a=e}this.preflightFunc&&(a=await this.preflightFunc(a));const o=await this.getUrlFunc(a,Cm(r.#S));let c=new Om(o.statusCode,o.statusMessage,o.headers,o.body,r);if(301===c.statusCode||302===c.statusCode){try{const n=c.headers.location||"";return a.redirect(n).#D(e+1,t,0,r,c)}catch(e){}return c}if(429===c.statusCode&&(null==this.retryFunc||await this.retryFunc(a,c,e))){const n=c.headers["retry-after"];let s=this.#F.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return"string"==typeof n&&n.match(/^[1-9][0-9]*$/)&&(s=parseInt(n)),a.clone().#D(e+1,t,s,r,c)}if(this.processFunc){Cm(r.#S);try{c=await this.processFunc(a,c)}catch(n){null!=n.throttle&&"number"==typeof n.stall||c.makeServerError("error in post-processing function",n).assertOk();let s=this.#F.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return n.stall>=0&&(s=n.stall),a.clone().#D(e+1,t,s,r,c)}}return c}send(){return Vd(null==this.#S,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#S=new Im(this),this.#D(0,Rm()+this.timeout,0,this,new Om(0,"",{},null,this))}cancel(){Vd(null!=this.#S,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=Bm.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const t=this.url.split(":")[0].toLowerCase(),n=e.split(":")[0].toLowerCase();Vd("GET"===this.method&&("https"!==t||"http"!==n)&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const r=new Nm(e);return r.method="GET",r.allowGzip=this.allowGzip,r.timeout=this.timeout,r.#x=Object.assign({},this.#x),this.#B&&(r.#B=new Uint8Array(this.#B)),r.#I=this.#I,r}clone(){const e=new Nm(this.url);return e.#P=this.#P,this.#B&&(e.#B=this.#B),e.#I=this.#I,e.#x=Object.assign({},this.#x),e.#C=this.#C,this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),e.#N=this.#N,e.#O=this.#O,e.#R=this.#R,e.#F=Object.assign({},this.#F),e.#U=this.#U,e}static lockConfig(){xm=!0}static getGateway(e){return Tm[e.toLowerCase()]||null}static registerGateway(e,t){if("http"===(e=e.toLowerCase())||"https"===e)throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(xm)throw new Error("gateways locked");Tm[e]=t}static registerGetUrl(e){if(xm)throw new Error("gateways locked");vm=e}static createGetUrlFunc(e){return wm()}static createDataGateway(){return Pm}static createIpfsGatewayFunc(e){return km(e)}}class Om{#L;#M;#x;#B;#G;#j;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#B?nh(this.#B):"null"}>`}get statusCode(){return this.#L}get statusMessage(){return this.#M}get headers(){return Object.assign({},this.#x)}get body(){return null==this.#B?null:new Uint8Array(this.#B)}get bodyText(){try{return null==this.#B?"":Wp(this.#B)}catch(e){Vd(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch(e){Vd(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let n=0;return{next:()=>{if(n<t.length){const r=t[n++];return{value:[r,e[r]],done:!1}}return{value:void 0,done:!0}}}}constructor(e,t,n,r,s){this.#L=e,this.#M=t,this.#x=Object.keys(n).reduce(((e,t)=>(e[t.toLowerCase()]=String(n[t]),e)),{}),this.#B=null==r?null:new Uint8Array(r),this.#G=s||null,this.#j={message:""}}makeServerError(e,t){let n;n=e?`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:`CLIENT ESCALATED SERVER ERROR (${e=`${this.statusCode} ${this.statusMessage}`})`;const r=new Om(599,n,this.headers,this.body,this.#G||void 0);return r.#j={message:e,error:t},r}throwThrottleError(e,t){null==t?t=-1:_d(Number.isInteger(t)&&t>=0,"invalid stall timeout","stall",t);const n=new Error(e||"throttling requests");throw jd(n,{stall:t,throttle:!0}),n}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return null!=this.#B}get request(){return this.#G}ok(){return""===this.#j.message&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:t}=this.#j;""===e&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let n=null;this.request&&(n=this.request.url);let r=null;try{this.#B&&(r=Wp(this.#B))}catch(e){}Vd(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:t,info:{requestUrl:n,responseBody:r,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}}function Rm(){return(new Date).getTime()}const Sm="0x0000000000000000000000000000000000000000";class Fm{fragment;name;signature;topic;args;constructor(e,t,n){const r=e.name,s=e.format();jd(this,{fragment:e,name:r,signature:s,topic:t,args:n})}}class Um{fragment;name;args;signature;selector;value;constructor(e,t,n,r){const s=e.name,a=e.format();jd(this,{fragment:e,name:s,args:n,signature:a,selector:t,value:r})}}class Dm{fragment;name;args;signature;selector;constructor(e,t,n){const r=e.name,s=e.format();jd(this,{fragment:e,name:r,args:n,signature:s,selector:t})}}class Lm{hash;_isIndexed;static isIndexed(e){return!(!e||!e._isIndexed)}constructor(e){jd(this,{hash:e,_isIndexed:!0})}}const Mm={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},Gm={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:e=>`reverted with reason string ${JSON.stringify(e)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:e=>{let t="unknown panic code";return e>=0&&e<=255&&Mm[e.toString()]&&(t=Mm[e.toString()]),`reverted with panic code 0x${e.toString(16)} (${t})`}}};class jm{fragments;deploy;fallback;receive;#H;#z;#q;#$;constructor(e){let t=[];t="string"==typeof e?JSON.parse(e):e,this.#q=new Map,this.#H=new Map,this.#z=new Map;const n=[];for(const e of t)try{n.push(Mf.from(e))}catch(t){console.log(`[Warning] Invalid Fragment ${JSON.stringify(e)}:`,t.message)}jd(this,{fragments:Object.freeze(n)});let r=null,s=!1;this.#$=this.getAbiCoder(),this.fragments.forEach(((e,t)=>{let n;switch(e.type){case"constructor":return this.deploy?void console.log("duplicate definition - constructor"):void jd(this,{deploy:e});case"fallback":return void(0===e.inputs.length?s=!0:(_d(!r||e.payable!==r.payable,"conflicting fallback fragments",`fragments[${t}]`,e),r=e,s=r.payable));case"function":n=this.#q;break;case"event":n=this.#z;break;case"error":n=this.#H;break;default:return}const a=e.format();n.has(a)||n.set(a,e)})),this.deploy||jd(this,{deploy:qf.from("constructor()")}),jd(this,{fallback:r,receive:s})}format(e){const t=e?"minimal":"full";return this.fragments.map((e=>e.format(t)))}formatJson(){const e=this.fragments.map((e=>e.format("json")));return JSON.stringify(e.map((e=>JSON.parse(e))))}getAbiCoder(){return Yf.defaultAbiCoder()}#V(e,t,n){if(Xd(e)){const t=e.toLowerCase();for(const e of this.#q.values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){const r=[];for(const[t,n]of this.#q)t.split("(")[0]===e&&r.push(n);if(t){const e=t.length>0?t[t.length-1]:null;let n=t.length,s=!0;Rp.isTyped(e)&&"overrides"===e.type&&(s=!1,n--);for(let e=r.length-1;e>=0;e--){const t=r[e].inputs.length;t===n||s&&t===n-1||r.splice(e,1)}for(let e=r.length-1;e>=0;e--){const n=r[e].inputs;for(let s=0;s<t.length;s++)if(Rp.isTyped(t[s])){if(s>=n.length){if("overrides"===t[s].type)continue;r.splice(e,1);break}if(t[s].type!==n[s].baseType){r.splice(e,1);break}}}}if(1===r.length&&t&&t.length!==r[0].inputs.length){const e=t[t.length-1];(null==e||Array.isArray(e)||"object"!=typeof e)&&r.splice(0,1)}return 0===r.length?null:(r.length>1&&n&&_d(!1,`ambiguous function description (i.e. matches ${r.map((e=>JSON.stringify(e.format()))).join(", ")})`,"key",e),r[0])}return this.#q.get(Vf.from(e).format())||null}getFunctionName(e){const t=this.#V(e,null,!1);return _d(t,"no matching function","key",e),t.name}hasFunction(e){return!!this.#V(e,null,!1)}getFunction(e,t){return this.#V(e,t||null,!0)}forEachFunction(e){const t=Array.from(this.#q.keys());t.sort(((e,t)=>e.localeCompare(t)));for(let n=0;n<t.length;n++){const r=t[n];e(this.#q.get(r),n)}}#_(e,t,n){if(Xd(e)){const t=e.toLowerCase();for(const e of this.#z.values())if(t===e.topicHash)return e;return null}if(-1===e.indexOf("(")){const r=[];for(const[t,n]of this.#z)t.split("(")[0]===e&&r.push(n);if(t){for(let e=r.length-1;e>=0;e--)r[e].inputs.length<t.length&&r.splice(e,1);for(let e=r.length-1;e>=0;e--){const n=r[e].inputs;for(let s=0;s<t.length;s++)if(Rp.isTyped(t[s])&&t[s].type!==n[s].baseType){r.splice(e,1);break}}}return 0===r.length?null:(r.length>1&&n&&_d(!1,`ambiguous event description (i.e. matches ${r.map((e=>JSON.stringify(e.format()))).join(", ")})`,"key",e),r[0])}return this.#z.get(zf.from(e).format())||null}getEventName(e){const t=this.#_(e,null,!1);return _d(t,"no matching event","key",e),t.name}hasEvent(e){return!!this.#_(e,null,!1)}getEvent(e,t){return this.#_(e,t||null,!0)}forEachEvent(e){const t=Array.from(this.#z.keys());t.sort(((e,t)=>e.localeCompare(t)));for(let n=0;n<t.length;n++){const r=t[n];e(this.#z.get(r),n)}}getError(e,t){if(Xd(e)){const t=e.toLowerCase();if(Gm[t])return Hf.from(Gm[t].signature);for(const e of this.#H.values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){const t=[];for(const[n,r]of this.#H)n.split("(")[0]===e&&t.push(r);return 0===t.length?"Error"===e?Hf.from("error Error(string)"):"Panic"===e?Hf.from("error Panic(uint256)"):null:(t.length>1&&_d(!1,`ambiguous error description (i.e. ${t.map((e=>JSON.stringify(e.format()))).join(", ")})`,"name",e),t[0])}if("Error(string)"===(e=Hf.from(e).format()))return Hf.from("error Error(string)");if("Panic(uint256)"===e)return Hf.from("error Panic(uint256)");return this.#H.get(e)||null}forEachError(e){const t=Array.from(this.#H.keys());t.sort(((e,t)=>e.localeCompare(t)));for(let n=0;n<t.length;n++){const r=t[n];e(this.#H.get(r),n)}}_decodeParams(e,t){return this.#$.decode(e,t)}_encodeParams(e,t){return this.#$.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if("string"==typeof e){const t=this.getError(e);_d(t,"unknown error","fragment",e),e=t}return _d(ah(t,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",t),this._decodeParams(e.inputs,ah(t,4))}encodeErrorResult(e,t){if("string"==typeof e){const t=this.getError(e);_d(t,"unknown error","fragment",e),e=t}return rh([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionData(e,t){if("string"==typeof e){const t=this.getFunction(e);_d(t,"unknown function","fragment",e),e=t}return _d(ah(t,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",t),this._decodeParams(e.inputs,ah(t,4))}encodeFunctionData(e,t){if("string"==typeof e){const t=this.getFunction(e);_d(t,"unknown function","fragment",e),e=t}return rh([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionResult(e,t){if("string"==typeof e){const t=this.getFunction(e);_d(t,"unknown function","fragment",e),e=t}let n="invalid length for result data";const r=Yd(t);if(r.length%32==0)try{return this.#$.decode(e.outputs,r)}catch(e){n="could not decode result data"}Vd(!1,n,"BAD_DATA",{value:nh(r),info:{method:e.name,signature:e.format()}})}makeError(e,t){const n=Wd(e,"data"),r=Yf.getBuiltinCallException("call",t,n);if(r.message.startsWith("execution reverted (unknown custom error)")){const e=nh(n.slice(0,4)),t=this.getError(e);if(t)try{const e=this.#$.decode(t.inputs,n.slice(4));r.revert={name:t.name,signature:t.format(),args:e},r.reason=r.revert.signature,r.message=`execution reverted: ${r.reason}`}catch(e){r.message="execution reverted (coult not decode custom error)"}}const s=this.parseTransaction(t);return s&&(r.invocation={method:s.name,signature:s.signature,args:s.args}),r}encodeFunctionResult(e,t){if("string"==typeof e){const t=this.getFunction(e);_d(t,"unknown function","fragment",e),e=t}return nh(this.#$.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if("string"==typeof e){const t=this.getEvent(e);_d(t,"unknown event","eventFragment",e),e=t}Vd(t.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:t.length,expectedCount:e.inputs.length});const n=[];e.anonymous||n.push(e.topicHash);const r=(e,t)=>"string"===e.type?ef(t):"bytes"===e.type?vp(nh(t)):("bool"===e.type&&"boolean"==typeof t?t=t?"0x01":"0x00":e.type.match(/^u?int/)?t=bh(t):e.type.match(/^bytes/)?t=ih(t,32,!1):"address"===e.type&&this.#$.encode(["address"],[t]),oh(nh(t),32));for(t.forEach(((t,s)=>{const a=e.inputs[s];a.indexed?null==t?n.push(null):"array"===a.baseType||"tuple"===a.baseType?_d(!1,"filtering with tuples or arrays not supported","contract."+a.name,t):Array.isArray(t)?n.push(t.map((e=>r(a,e)))):n.push(r(a,t)):_d(null==t,"cannot filter non-indexed parameters; must be null","contract."+a.name,t)}));n.length&&null===n[n.length-1];)n.pop();return n}encodeEventLog(e,t){if("string"==typeof e){const t=this.getEvent(e);_d(t,"unknown event","eventFragment",e),e=t}const n=[],r=[],s=[];return e.anonymous||n.push(e.topicHash),_d(t.length===e.inputs.length,"event arguments/values mismatch","values",t),e.inputs.forEach(((e,a)=>{const i=t[a];if(e.indexed)if("string"===e.type)n.push(ef(i));else if("bytes"===e.type)n.push(vp(i));else{if("tuple"===e.baseType||"array"===e.baseType)throw new Error("not implemented");n.push(this.#$.encode([e.type],[i]))}else r.push(e),s.push(i)})),{data:this.#$.encode(r,s),topics:n}}decodeEventLog(e,t,n){if("string"==typeof e){const t=this.getEvent(e);_d(t,"unknown event","eventFragment",e),e=t}if(null!=n&&!e.anonymous){const t=e.topicHash;_d(Xd(n[0],32)&&n[0].toLowerCase()===t,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}const r=[],s=[],a=[];e.inputs.forEach(((e,t)=>{e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(r.push(Lf.from({type:"bytes32",name:e.name})),a.push(!0)):(r.push(e),a.push(!1)):(s.push(e),a.push(!1))}));const i=null!=n?this.#$.decode(r,rh(n)):null,o=this.#$.decode(s,t,!0),c=[],l=[];let u=0,d=0;return e.inputs.forEach(((e,t)=>{let n=null;if(e.indexed)if(null==i)n=new Lm(null);else if(a[t])n=new Lm(i[d++]);else try{n=i[d++]}catch(e){n=e}else try{n=o[u++]}catch(e){n=e}c.push(n),l.push(e.name||null)})),Nh.fromItems(c,l)}parseTransaction(e){const t=Wd(e.data,"tx.data"),n=ph(null!=e.value?e.value:0,"tx.value"),r=this.getFunction(nh(t.slice(0,4)));if(!r)return null;const s=this.#$.decode(r.inputs,t.slice(4));return new Um(r,r.selector,s,n)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new Fm(t,t.topicHash,this.decodeEventLog(t,e.data,e.topics))}parseError(e){const t=nh(e),n=this.getError(ah(t,0,4));if(!n)return null;const r=this.#$.decode(n.inputs,ah(t,4));return new Dm(n,n.selector,r)}static from(e){return e instanceof jm?e:"string"==typeof e?new jm(JSON.parse(e)):"function"==typeof e.formatJson?new jm(e.formatJson()):"function"==typeof e.format?new jm(e.format("json")):new jm(e)}}const Hm=BigInt(0);function zm(e){return null==e?null:e}function qm(e){return null==e?null:e.toString()}class $m{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(e,t,n){jd(this,{gasPrice:zm(e),maxFeePerGas:zm(t),maxPriorityFeePerGas:zm(n)})}toJSON(){const{gasPrice:e,maxFeePerGas:t,maxPriorityFeePerGas:n}=this;return{_type:"FeeData",gasPrice:qm(e),maxFeePerGas:qm(t),maxPriorityFeePerGas:qm(n)}}}function Vm(e){const t={};e.to&&(t.to=e.to),e.from&&(t.from=e.from),e.data&&(t.data=nh(e.data));const n="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const r of n)r in e&&null!=e[r]&&(t[r]=ph(e[r],`request.${r}`));const r="type,nonce".split(/,/);for(const n of r)n in e&&null!=e[n]&&(t[n]=gh(e[n],`request.${n}`));return e.accessList&&(t.accessList=bm(e.accessList)),"blockTag"in e&&(t.blockTag=e.blockTag),"enableCcipRead"in e&&(t.enableCcipRead=!!e.enableCcipRead),"customData"in e&&(t.customData=e.customData),"blobVersionedHashes"in e&&e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes.slice()),"kzg"in e&&(t.kzg=e.kzg),"blobs"in e&&e.blobs&&(t.blobs=e.blobs.map((e=>eh(e)?nh(e):Object.assign({},e)))),t}class _m{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;prevRandao;extraData;baseFeePerGas;#Q;constructor(e,t){this.#Q=e.transactions.map((e=>"string"!=typeof e?new Km(e,t):e)),jd(this,{provider:t,hash:zm(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:zm(e.prevRandao),extraData:e.extraData,baseFeePerGas:zm(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return this.#Q.map((e=>"string"==typeof e?e:e.hash))}get prefetchedTransactions(){const e=this.#Q.slice();return 0===e.length?[]:(Vd("object"==typeof e[0],"transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:t,extraData:n,gasLimit:r,gasUsed:s,hash:a,miner:i,prevRandao:o,nonce:c,number:l,parentHash:u,parentBeaconBlockRoot:d,stateRoot:h,receiptsRoot:p,timestamp:f,transactions:m}=this;return{_type:"Block",baseFeePerGas:qm(e),difficulty:qm(t),extraData:n,gasLimit:qm(r),gasUsed:qm(s),blobGasUsed:qm(this.blobGasUsed),excessBlobGas:qm(this.excessBlobGas),hash:a,miner:i,prevRandao:o,nonce:c,number:l,parentHash:u,timestamp:f,parentBeaconBlockRoot:d,stateRoot:h,receiptsRoot:p,transactions:m}}[Symbol.iterator](){let e=0;const t=this.transactions;return{next:()=>e<this.length?{value:t[e++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#Q.length}get date(){return null==this.timestamp?null:new Date(1e3*this.timestamp)}async getTransaction(e){let t;if("number"==typeof e)t=this.#Q[e];else{const n=e.toLowerCase();for(const e of this.#Q){if("string"==typeof e){if(e!==n)continue;t=e;break}if(e.hash!==n){t=e;break}}}if(null==t)throw new Error("no such tx");return"string"==typeof t?await this.provider.getTransaction(t):t}getPrefetchedTransaction(e){const t=this.prefetchedTransactions;if("number"==typeof e)return t[e];e=e.toLowerCase();for(const n of t)if(n.hash===e)return n;_d(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return{orphan:"drop-block",hash:this.hash,number:this.number}}}class Qm{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(e,t){this.provider=t;const n=Object.freeze(e.topics.slice());jd(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:n,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:t,blockNumber:n,data:r,index:s,removed:a,topics:i,transactionHash:o,transactionIndex:c}=this;return{_type:"log",address:e,blockHash:t,blockNumber:n,data:r,index:s,removed:a,topics:i,transactionHash:o,transactionIndex:c}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return Vd(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return Vd(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return Vd(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return{orphan:"drop-log",log:{transactionHash:(e=this).transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,address:e.address,data:e.data,topics:Object.freeze(e.topics.slice()),index:e.index}};var e}}class Jm{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#J;constructor(e,t){this.#J=Object.freeze(e.logs.map((e=>new Qm(e,t))));let n=Hm;null!=e.effectiveGasPrice?n=e.effectiveGasPrice:null!=e.gasPrice&&(n=e.gasPrice),jd(this,{provider:t,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:n,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return this.#J}toJSON(){const{to:e,from:t,contractAddress:n,hash:r,index:s,blockHash:a,blockNumber:i,logsBloom:o,logs:c,status:l,root:u}=this;return{_type:"TransactionReceipt",blockHash:a,blockNumber:i,contractAddress:n,cumulativeGasUsed:qm(this.cumulativeGasUsed),from:t,gasPrice:qm(this.gasPrice),blobGasUsed:qm(this.blobGasUsed),blobGasPrice:qm(this.blobGasPrice),gasUsed:qm(this.gasUsed),hash:r,index:s,logs:c,logsBloom:o,root:u,status:l,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(null==e)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(null==e)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return Wm(this)}reorderedEvent(e){return Vd(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),Zm(this,e)}}class Km{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;#K;constructor(e,t){this.provider=t,this.blockNumber=null!=e.blockNumber?e.blockNumber:null,this.blockHash=null!=e.blockHash?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=null!=e.maxPriorityFeePerGas?e.maxPriorityFeePerGas:null,this.maxFeePerGas=null!=e.maxFeePerGas?e.maxFeePerGas:null,this.maxFeePerBlobGas=null!=e.maxFeePerBlobGas?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=null!=e.accessList?e.accessList:null,this.blobVersionedHashes=null!=e.blobVersionedHashes?e.blobVersionedHashes:null,this.#K=-1}toJSON(){const{blockNumber:e,blockHash:t,index:n,hash:r,type:s,to:a,from:i,nonce:o,data:c,signature:l,accessList:u,blobVersionedHashes:d}=this;return{_type:"TransactionResponse",accessList:u,blockNumber:e,blockHash:t,blobVersionedHashes:d,chainId:qm(this.chainId),data:c,from:i,gasLimit:qm(this.gasLimit),gasPrice:qm(this.gasPrice),hash:r,maxFeePerGas:qm(this.maxFeePerGas),maxPriorityFeePerGas:qm(this.maxPriorityFeePerGas),maxFeePerBlobGas:qm(this.maxFeePerBlobGas),nonce:o,signature:l,to:a,index:n,type:s,value:qm(this.value)}}async getBlock(){let e=this.blockNumber;if(null==e){const t=await this.getTransaction();t&&(e=t.blockNumber)}if(null==e)return null;const t=this.provider.getBlock(e);if(null==t)throw new Error("TODO");return t}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(null==this.blockNumber){const{tx:e,blockNumber:t}=await Gd({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return null==e||null==e.blockNumber?0:t-e.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,t){const n=null==e?1:e,r=null==t?0:t;let s=this.#K,a=-1,i=-1===s;const o=async()=>{if(i)return null;const{blockNumber:e,nonce:t}=await Gd({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(t<this.nonce)return void(s=e);if(i)return null;const r=await this.getTransaction();if(!r||null==r.blockNumber)for(-1===a&&(a=s-3,a<this.#K&&(a=this.#K));a<=e;){if(i)return null;const t=await this.provider.getBlock(a,!0);if(null==t)return;for(const e of t)if(e===this.hash)return;for(let r=0;r<t.length;r++){const a=await t.getTransaction(r);if(a.from===this.from&&a.nonce===this.nonce){if(i)return null;const t=await this.provider.getTransactionReceipt(a.hash);if(null==t)return;if(e-t.blockNumber+1<n)return;let r="replaced";a.data===this.data&&a.to===this.to&&a.value===this.value?r="repriced":"0x"===a.data&&a.from===a.to&&a.value===Hm&&(r="cancelled"),Vd(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:"replaced"===r||"cancelled"===r,reason:r,replacement:a.replaceableTransaction(s),hash:a.hash,receipt:t})}}a++}},c=e=>{if(null==e||0!==e.status)return e;Vd(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:e.to,from:e.from,data:""},receipt:e})},l=await this.provider.getTransactionReceipt(this.hash);if(0===n)return c(l);if(l){if(await l.confirmations()>=n)return c(l)}else if(await o(),0===n)return null;const u=new Promise(((e,t)=>{const a=[],l=()=>{a.forEach((e=>e()))};if(a.push((()=>{i=!0})),r>0){const e=setTimeout((()=>{l(),t($d("wait for transaction timeout","TIMEOUT"))}),r);a.push((()=>{clearTimeout(e)}))}const u=async r=>{if(await r.confirmations()>=n){l();try{e(c(r))}catch(e){t(e)}}};if(a.push((()=>{this.provider.off(this.hash,u)})),this.provider.on(this.hash,u),s>=0){const e=async()=>{try{await o()}catch(e){if(zd(e,"TRANSACTION_REPLACED"))return l(),void t(e)}i||this.provider.once("block",e)};a.push((()=>{this.provider.off("block",e)})),this.provider.once("block",e)}}));return await u}isMined(){return null!=this.blockHash}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}removedEvent(){return Vd(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Wm(this)}reorderedEvent(e){return Vd(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Vd(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Zm(this,e)}replaceableTransaction(e){_d(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const t=new Km(this,this.provider);return t.#K=e,t}}function Zm(e,t){return{orphan:"reorder-transaction",tx:e,other:t}}function Wm(e){return{orphan:"drop-transaction",tx:e}}class Ym{filter;emitter;#Z;constructor(e,t,n){this.#Z=t,jd(this,{emitter:e,filter:n})}async removeListener(){null!=this.#Z&&await this.emitter.off(this.filter,this.#Z)}}class Xm extends Qm{interface;fragment;args;constructor(e,t,n){super(e,e.provider),jd(this,{args:t.decodeEventLog(n,e.data,e.topics),fragment:n,interface:t})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class ey extends Qm{error;constructor(e,t){super(e,e.provider),jd(this,{error:t})}}class ty extends Jm{#W;constructor(e,t,n){super(n,t),this.#W=e}get logs(){return super.logs.map((e=>{const t=e.topics.length?this.#W.getEvent(e.topics[0]):null;if(t)try{return new Xm(e,this.#W,t)}catch(t){return new ey(e,t)}return e}))}}class ny extends Km{#W;constructor(e,t,n){super(n,t),this.#W=e}async wait(e,t){const n=await super.wait(e,t);return null==n?null:new ty(this.#W,this.provider,n)}}class ry extends Ym{log;constructor(e,t,n,r){super(e,t,n),jd(this,{log:r})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class sy extends ry{constructor(e,t,n,r,s){super(e,t,n,new Xm(s,e.interface,r)),jd(this,{args:e.interface.decodeEventLog(r,this.log.data,this.log.topics),fragment:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const ay=BigInt(0);function iy(e){return e&&"function"==typeof e.call}function oy(e){return e&&"function"==typeof e.estimateGas}function cy(e){return e&&"function"==typeof e.resolveName}function ly(e){return e&&"function"==typeof e.sendTransaction}function uy(e){if(null!=e){if(cy(e))return e;if(e.provider)return e.provider}}class dy{#Y;fragment;constructor(e,t,n){if(jd(this,{fragment:t}),t.inputs.length<n.length)throw new Error("too many arguments");const r=hy(e.runner,"resolveName"),s=cy(r)?r:null;this.#Y=async function(){const r=await Promise.all(t.inputs.map(((e,t)=>null==n[t]?null:e.walkAsync(n[t],((e,t)=>"address"===e?Array.isArray(t)?Promise.all(t.map((e=>tm(e,s)))):tm(t,s):t)))));return e.interface.encodeFilterTopics(t,r)}()}getTopicFilter(){return this.#Y}}function hy(e,t){return null==e?null:"function"==typeof e[t]?e:e.provider&&"function"==typeof e.provider[t]?e.provider:null}function py(e){return null==e?null:e.provider||null}async function fy(e,t){const n=Rp.dereference(e,"overrides");_d("object"==typeof n,"invalid overrides parameter","overrides",e);const r=Vm(n);return _d(null==r.to||(t||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),_d(null==r.data||(t||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=r.from),r}function my(e){const t=async function(t){const n=await fy(t,["data"]);n.to=await e.getAddress(),n.from&&(n.from=await tm(n.from,uy(e.runner)));const r=e.interface,s=ph(n.value||ay,"overrides.value")===ay,a="0x"===(n.data||"0x");return!r.fallback||r.fallback.payable||!r.receive||a||s||_d(!1,"cannot send data to receive or send value to non-payable fallback","overrides",t),_d(r.fallback||a,"cannot send data to receive-only contract","overrides.data",n.data),_d(r.receive||r.fallback&&r.fallback.payable||s,"cannot send value to non-payable fallback","overrides.value",n.value),_d(r.fallback||a,"cannot send data to receive-only contract","overrides.data",n.data),n},n=async function(n){const r=e.runner;Vd(ly(r),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const s=await r.sendTransaction(await t(n)),a=py(e.runner);return new ny(e.interface,a,s)},r=async e=>await n(e);return jd(r,{_contract:e,estimateGas:async function(n){const r=hy(e.runner,"estimateGas");return Vd(oy(r),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await r.estimateGas(await t(n))},populateTransaction:t,send:n,staticCall:async function(n){const r=hy(e.runner,"call");Vd(iy(r),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const s=await t(n);try{return await r.call(s)}catch(t){if(qd(t)&&t.data)throw e.interface.makeError(t.data,s);throw t}}}),r}const yy=Symbol.for("_ethersInternal_contract"),gy=new WeakMap;function by(e){return gy.get(e[yy])}async function wy(e,t){let n,r=null;if(Array.isArray(t)){const r=function(t){if(Xd(t,32))return t;const n=e.interface.getEvent(t);return _d(n,"unknown fragment","name",t),n.topicHash};n=t.map((e=>null==e?null:Array.isArray(e)?e.map(r):r(e)))}else"*"===t?n=[null]:"string"==typeof t?Xd(t,32)?n=[t]:(r=e.interface.getEvent(t),_d(r,"unknown fragment","event",t),n=[r.topicHash]):(s=t)&&"object"==typeof s&&"getTopicFilter"in s&&"function"==typeof s.getTopicFilter&&s.fragment?n=await t.getTopicFilter():"fragment"in t?(r=t.fragment,n=[r.topicHash]):_d(!1,"unknown event name","event",t);var s;return n=n.map((e=>{if(null==e)return null;if(Array.isArray(e)){const t=Array.from(new Set(e.map((e=>e.toLowerCase()))).values());return 1===t.length?t[0]:(t.sort(),t)}return e.toLowerCase()})),{fragment:r,tag:n.map((e=>null==e?"null":Array.isArray(e)?e.join("|"):e)).join("&"),topics:n}}async function vy(e,t){const{subs:n}=by(e);return n.get((await wy(e,t)).tag)||null}async function Ay(e,t,n){const r=py(e.runner);Vd(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:t});const{fragment:s,tag:a,topics:i}=await wy(e,n),{addr:o,subs:c}=by(e);let l=c.get(a);if(!l){const t={address:o||e,topics:i},u=t=>{let r=s;if(null==r)try{r=e.interface.getEvent(t.topics[0])}catch(e){}if(r){const a=r,i=s?e.interface.decodeEventLog(s,t.data,t.topics):[];xy(e,n,i,(r=>new sy(e,r,n,a,t)))}else xy(e,n,[],(r=>new ry(e,r,n,t)))};let d=[];l={tag:a,listeners:[],start:()=>{d.length||d.push(r.on(t,u))},stop:async()=>{if(0==d.length)return;let e=d;d=[],await Promise.all(e),r.off(t,u)}},c.set(a,l)}return l}let Ey=Promise.resolve();async function xy(e,t,n,r){try{await Ey}catch(e){}const s=async function(e,t,n,r){await Ey;const s=await vy(e,t);if(!s)return!1;const a=s.listeners.length;return s.listeners=s.listeners.filter((({listener:t,once:s})=>{const a=Array.from(n);r&&a.push(r(s?null:t));try{t.call(e,...a)}catch(e){}return!s})),0===s.listeners.length&&(s.stop(),by(e).subs.delete(s.tag)),a>0}(e,t,n,r);return Ey=s,await s}const Py=["then"];class ky{target;interface;runner;filters;[yy];fallback;constructor(e,t,n,r){_d("string"==typeof e||Xf(e),"invalid value for Contract target","target",e),null==n&&(n=null);const s=jm.from(t);let a;jd(this,{target:e,runner:n,interface:s}),Object.defineProperty(this,yy,{value:{}});let i=null,o=null;if(r){const e=py(n);o=new ny(this.interface,e,r)}let c=new Map;if("string"==typeof e)if(Xd(e))i=e,a=Promise.resolve(e);else{const t=hy(n,"resolveName");if(!cy(t))throw $d("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});a=t.resolveName(e).then((t=>{if(null==t)throw $d("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return by(this).addr=t,t}))}else a=e.getAddress().then((e=>{if(null==e)throw new Error("TODO");return by(this).addr=e,e}));var l;l={addrPromise:a,addr:i,deployTx:o,subs:c},gy.set(this[yy],l);const u=new Proxy({},{get:(e,t,n)=>{if("symbol"==typeof t||Py.indexOf(t)>=0)return Reflect.get(e,t,n);try{return this.getEvent(t)}catch(e){if(!zd(e,"INVALID_ARGUMENT")||"key"!==e.argument)throw e}},has:(e,t)=>Py.indexOf(t)>=0?Reflect.has(e,t):Reflect.has(e,t)||this.interface.hasEvent(String(t))});return jd(this,{filters:u}),jd(this,{fallback:s.receive||s.fallback?my(this):null}),new Proxy(this,{get:(e,t,n)=>{if("symbol"==typeof t||t in e||Py.indexOf(t)>=0)return Reflect.get(e,t,n);try{return e.getFunction(t)}catch(e){if(!zd(e,"INVALID_ARGUMENT")||"key"!==e.argument)throw e}},has:(e,t)=>"symbol"==typeof t||t in e||Py.indexOf(t)>=0?Reflect.has(e,t):e.interface.hasFunction(t)})}connect(e){return new ky(this.target,this.interface,e)}attach(e){return new ky(e,this.interface,this.runner)}async getAddress(){return await by(this).addrPromise}async getDeployedCode(){const e=py(this.runner);Vd(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const t=await e.getCode(await this.getAddress());return"0x"===t?null:t}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(null!=await this.getDeployedCode())return this;const t=py(this.runner);return Vd(null!=t,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise(((e,n)=>{const r=async()=>{try{if(null!=await this.getDeployedCode())return e(this);t.once("block",r)}catch(e){n(e)}};r()}))}deploymentTransaction(){return by(this).deployTx}getFunction(e){return"string"!=typeof e&&(e=e.format()),function(e,t){const n=function(...n){const r=e.interface.getFunction(t,n);return Vd(r,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:n}}),r},r=async function(...t){const r=n(...t);let s={};if(r.inputs.length+1===t.length&&(s=await fy(t.pop()),s.from&&(s.from=await tm(s.from,uy(e.runner)))),r.inputs.length!==t.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const a=await async function(e,t,n){const r=hy(e,"resolveName"),s=cy(r)?r:null;return await Promise.all(t.map(((e,t)=>e.walkAsync(n[t],((e,t)=>(t=Rp.dereference(t,e),"address"===e?tm(t,s):t))))))}(e.runner,r.inputs,t);return Object.assign({},s,await Gd({to:e.getAddress(),data:e.interface.encodeFunctionData(r,a)}))},s=async function(...e){const t=await i(...e);return 1===t.length?t[0]:t},a=async function(...t){const n=e.runner;Vd(ly(n),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const s=await n.sendTransaction(await r(...t)),a=py(e.runner);return new ny(e.interface,a,s)},i=async function(...t){const s=hy(e.runner,"call");Vd(iy(s),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const a=await r(...t);let i="0x";try{i=await s.call(a)}catch(t){if(qd(t)&&t.data)throw e.interface.makeError(t.data,a);throw t}const o=n(...t);return e.interface.decodeFunctionResult(o,i)},o=async(...e)=>n(...e).constant?await s(...e):await a(...e);return jd(o,{name:e.interface.getFunctionName(t),_contract:e,_key:t,getFragment:n,estimateGas:async function(...t){const n=hy(e.runner,"estimateGas");return Vd(oy(n),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await n.estimateGas(await r(...t))},populateTransaction:r,send:a,staticCall:s,staticCallResult:i}),Object.defineProperty(o,"fragment",{configurable:!1,enumerable:!0,get:()=>{const n=e.interface.getFunction(t);return Vd(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),n}}),o}(this,e)}getEvent(e){return"string"!=typeof e&&(e=e.format()),function(e,t){const n=function(...n){const r=e.interface.getEvent(t,n);return Vd(r,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:n}}),r},r=function(...t){return new dy(e,n(...t),t)};return jd(r,{name:e.interface.getEventName(t),_contract:e,_key:t,getFragment:n}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{const n=e.interface.getEvent(t);return Vd(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),n}}),r}(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,t,n){null==t&&(t=0),null==n&&(n="latest");const{addr:r,addrPromise:s}=by(this),a=r||await s,{fragment:i,topics:o}=await wy(this,e),c={address:a,topics:o,fromBlock:t,toBlock:n},l=py(this.runner);return Vd(l,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await l.getLogs(c)).map((e=>{let t=i;if(null==t)try{t=this.interface.getEvent(e.topics[0])}catch(e){}if(t)try{return new Xm(e,this.interface,t)}catch(t){return new ey(e,t)}return new Qm(e,l)}))}async on(e,t){const n=await Ay(this,"on",e);return n.listeners.push({listener:t,once:!1}),n.start(),this}async once(e,t){const n=await Ay(this,"once",e);return n.listeners.push({listener:t,once:!0}),n.start(),this}async emit(e,...t){return await xy(this,e,t,null)}async listenerCount(e){if(e){const t=await vy(this,e);return t?t.listeners.length:0}const{subs:t}=by(this);let n=0;for(const{listeners:e}of t.values())n+=e.length;return n}async listeners(e){if(e){const t=await vy(this,e);return t?t.listeners.map((({listener:e})=>e)):[]}const{subs:t}=by(this);let n=[];for(const{listeners:e}of t.values())n=n.concat(e.map((({listener:e})=>e)));return n}async off(e,t){const n=await vy(this,e);if(!n)return this;if(t){const e=n.listeners.map((({listener:e})=>e)).indexOf(t);e>=0&&n.listeners.splice(e,1)}return null!=t&&0!==n.listeners.length||(n.stop(),by(this).subs.delete(n.tag)),this}async removeAllListeners(e){if(e){const t=await vy(this,e);if(!t)return this;t.stop(),by(this).subs.delete(t.tag)}else{const{subs:e}=by(this);for(const{tag:t,stop:n}of e.values())n(),e.delete(t)}return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return await this.off(e,t)}static buildClass(e){return class extends ky{constructor(t,n=null){super(t,e,n)}}}static from(e,t,n){return null==n&&(n=null),new this(e,t,n)}}class Ty extends(function(){return ky}()){}var By="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";const Iy=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),Cy=4;function Ny(e){return function(e){let t=0;return()=>e[t++]}(function(e){let t=0;function n(){return e[t++]<<8|e[t++]}let r=n(),s=1,a=[0,1];for(let e=1;e<r;e++)a.push(s+=n());let i=n(),o=t;t+=i;let c=0,l=0;function u(){return 0==c&&(l=l<<8|e[t++],c=8),l>>--c&1}const d=2**31,h=d>>>1,p=h>>1,f=d-1;let m=0;for(let e=0;e<31;e++)m=m<<1|u();let y=[],g=0,b=d;for(;;){let e=Math.floor(((m-g+1)*s-1)/b),t=0,n=r;for(;n-t>1;){let r=t+n>>>1;e<a[r]?n=r:t=r}if(0==t)break;y.push(t);let i=g+Math.floor(b*a[t]/s),o=g+Math.floor(b*a[t+1]/s)-1;for(;!((i^o)&h);)m=m<<1&f|u(),i=i<<1&f,o=o<<1&f|1;for(;i&~o&p;)m=m&h|m<<1&f>>>1|u(),i=i<<1^h,o=(o^h)<<1|h|1;g=i,b=1+o-i}let w=r-4;return y.map((t=>{switch(t-w){case 3:return w+65792+(e[o++]<<16|e[o++]<<8|e[o++]);case 2:return w+256+(e[o++]<<8|e[o++]);case 1:return w+e[o++];default:return t-1}}))}(function(e){let t=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach(((e,n)=>t[e.charCodeAt(0)]=n));let n=e.length,r=new Uint8Array(6*n>>3);for(let s=0,a=0,i=0,o=0;s<n;s++)o=o<<6|t[e.charCodeAt(s)],i+=6,i>=8&&(r[a++]=o>>(i-=8));return r}(e)))}function Oy(e){return 1&e?~e>>1:e>>1}function Ry(e,t){let n=Array(e);for(let r=0,s=0;r<e;r++)n[r]=s+=Oy(t());return n}function Sy(e,t=0){let n=[];for(;;){let r=e(),s=e();if(!s)break;t+=r;for(let e=0;e<s;e++)n.push(t+e);t+=s+1}return n}function Fy(e){return Dy((()=>{let t=Sy(e);if(t.length)return t}))}function Uy(e){let t=[];for(;;){let n=e();if(0==n)break;t.push(My(n,e))}for(;;){let n=e()-1;if(n<0)break;t.push(Gy(n,e))}return t.flat()}function Dy(e){let t=[];for(;;){let n=e(t.length);if(!n)break;t.push(n)}return t}function Ly(e,t,n){let r=Array(e).fill().map((()=>[]));for(let s=0;s<t;s++)Ry(e,n).forEach(((e,t)=>r[t].push(e)));return r}function My(e,t){let n=1+t(),r=t(),s=Dy(t);return Ly(s.length,1+e,t).flatMap(((e,t)=>{let[a,...i]=e;return Array(s[t]).fill().map(((e,t)=>{let s=t*r;return[a+t*n,i.map((e=>e+s))]}))}))}function Gy(e,t){return Ly(1+t(),1+e,t).map((e=>[e[0],e.slice(1)]))}function jy(e){return`{${function(e){return e.toString(16).toUpperCase().padStart(2,"0")}(e)}}`}function Hy(e){let t=e.length;if(t<4096)return String.fromCodePoint(...e);let n=[];for(let r=0;r<t;)n.push(String.fromCodePoint(...e.slice(r,r+=4096)));return n.join("")}function zy(e,t){let n=e.length,r=n-t.length;for(let s=0;0==r&&s<n;s++)r=e[s]-t[s];return r}var qy="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const $y=44032,Vy=4352,_y=4449,Qy=4519,Jy=28,Ky=21*Jy,Zy=$y+19*Ky,Wy=Vy+19,Yy=_y+21,Xy=Qy+Jy;function eg(e){return e>>24&255}function tg(e){return 16777215&e}let ng,rg,sg,ag;function ig(e){return e>=$y&&e<Zy}function og(e,t){if(e>=Vy&&e<Wy&&t>=_y&&t<Yy)return $y+(e-Vy)*Ky+(t-_y)*Jy;if(ig(e)&&t>Qy&&t<Xy&&(e-$y)%Jy==0)return e+(t-Qy);{let n=ag.get(e);return n&&(n=n.get(t),n)?n:-1}}function cg(e){ng||function(){let e=Ny(qy);ng=new Map(Fy(e).flatMap(((e,t)=>e.map((e=>[e,t+1<<24]))))),rg=new Set(Sy(e)),sg=new Map,ag=new Map;for(let[t,n]of Uy(e)){if(!rg.has(t)&&2==n.length){let[e,r]=n,s=ag.get(e);s||(s=new Map,ag.set(e,s)),s.set(r,t)}sg.set(t,n.reverse())}}();let t=[],n=[],r=!1;function s(e){let n=ng.get(e);n&&(r=!0,e|=n),t.push(e)}for(let r of e)for(;;){if(r<128)t.push(r);else if(ig(r)){let e=r-$y,t=e%Ky/Jy|0,n=e%Jy;s(Vy+(e/Ky|0)),s(_y+t),n>0&&s(Qy+n)}else{let e=sg.get(r);e?n.push(...e):s(r)}if(!n.length)break;r=n.pop()}if(r&&t.length>1){let e=eg(t[0]);for(let n=1;n<t.length;n++){let r=eg(t[n]);if(0==r||e<=r){e=r;continue}let s=n-1;for(;;){let n=t[s+1];if(t[s+1]=t[s],t[s]=n,!s)break;if(e=eg(t[--s]),e<=r)break}e=eg(t[n])}}return t}function lg(e){return cg(e).map(tg)}function ug(e){return function(e){let t=[],n=[],r=-1,s=0;for(let a of e){let e=eg(a),i=tg(a);if(-1==r)0==e?r=i:t.push(i);else if(s>0&&s>=e)0==e?(t.push(r,...n),n.length=0,r=i):n.push(i),s=e;else{let a=og(r,i);a>=0?r=a:0==s&&0==e?(t.push(r),r=i):(n.push(i),s=e)}}return r>=0&&t.push(r,...n),t}(cg(e))}const dg=45,hg=".",pg=65039,fg=1,mg=e=>Array.from(e);function yg(e,t){return e.P.has(t)||e.Q.has(t)}class gg extends Array{get is_emoji(){return!0}}let bg,wg,vg,Ag,Eg,xg,Pg,kg,Tg,Bg,Ig,Cg;function Ng(){if(bg)return;let e=Ny(By);const t=()=>Sy(e),n=()=>new Set(t()),r=(e,t)=>t.forEach((t=>e.add(t)));bg=new Map(Uy(e)),wg=n(),vg=t(),Ag=new Set(t().map((e=>vg[e]))),vg=new Set(vg),Eg=n(),xg=n();let s=Fy(e),a=e();const i=()=>{let e=new Set;return t().forEach((t=>r(e,s[t]))),r(e,t()),e};Pg=Dy((t=>{let n=Dy(e).map((e=>e+96));if(n.length){let r=t>=a;return n[0]-=32,n=Hy(n),r&&(n=`Restricted[${n}]`),{N:n,P:i(),Q:i(),M:!e(),R:r}}})),kg=n(),Tg=new Map;let o=t().concat(mg(kg)).sort(((e,t)=>e-t));o.forEach(((t,n)=>{let r=e(),s=o[n]=r?o[n-r]:{V:[],M:new Map};s.V.push(t),kg.has(t)||Tg.set(t,s)}));for(let{V:e,M:t}of new Set(Tg.values())){let n=[];for(let t of e){let e=Pg.filter((e=>yg(e,t))),s=n.find((({G:t})=>e.some((e=>t.has(e)))));s||(s={G:new Set,V:[]},n.push(s)),s.V.push(t),r(s.G,e)}let s=n.flatMap((e=>mg(e.G)));for(let{G:e,V:r}of n){let n=new Set(s.filter((t=>!e.has(t))));for(let e of r)t.set(e,n)}}Bg=new Set;let c=new Set;const l=e=>Bg.has(e)?c.add(e):Bg.add(e);for(let e of Pg){for(let t of e.P)l(t);for(let t of e.Q)l(t)}for(let e of Bg)Tg.has(e)||c.has(e)||Tg.set(e,fg);r(Bg,lg(Bg)),Ig=function(e){let t=[],n=Sy(e);return function e({S:n,B:r},s,a){if(!(4&n&&a===s[s.length-1])){2&n&&(a=s[s.length-1]),1&n&&t.push(s);for(let t of r)for(let n of t.Q)e(t,[...s,n],a)}}(function t(r){return{S:e(),B:Dy((()=>{let r=Sy(e).map((e=>n[e]));if(r.length)return t(r)})),Q:r}}([]),[]),t}(e).map((e=>gg.from(e))).sort(zy),Cg=new Map;for(let e of Ig){let t=[Cg];for(let n of e){let e=t.map((e=>{let t=e.get(n);return t||(t=new Map,e.set(n,t)),t}));n===pg?t.push(...e):t=e}for(let n of t)n.V=e}}function Og(e){return(Fg(e)?"":`${Rg(Sg([e]))} `)+jy(e)}function Rg(e){return`"${e}"`}function Sg(e,t=1/0,n=jy){let r=[];var s;s=e[0],Ng(),vg.has(s)&&r.push(""),e.length>t&&(t>>=1,e=[...e.slice(0,t),8230,...e.slice(-t)]);let a=0,i=e.length;for(let t=0;t<i;t++){let s=e[t];Fg(s)&&(r.push(Hy(e.slice(a,t))),r.push(n(s)),a=t+1)}return r.push(Hy(e.slice(a,i))),r.join("")}function Fg(e){return Ng(),Eg.has(e)}function Ug(e,t,n){if(!e)return[];Ng();let r=0;return e.split(hg).map((e=>{let s=function(e){let t=[];for(let n=0,r=e.length;n<r;){let r=e.codePointAt(n);n+=r<65536?1:2,t.push(r)}return t}(e),a={input:s,offset:r};r+=s.length+1;try{let e,r=a.tokens=function(e,t,n){let r=[],s=[];for(e=e.slice().reverse();e.length;){let a=jg(e);if(a)s.length&&(r.push(t(s)),s=[]),r.push(n(a));else{let t=e.pop();if(Bg.has(t))s.push(t);else{let e=bg.get(t);if(e)s.push(...e);else if(!wg.has(t))throw Dg(t)}}}return s.length&&r.push(t(s)),r}(s,t,n),i=r.length;if(!i)throw new Error("empty label");let o=a.output=r.flat();if(function(e){for(let t=e.lastIndexOf(95);t>0;)if(95!==e[--t])throw new Error("underscore allowed only at start")}(o),!(a.emoji=i>1||r[0].is_emoji)&&o.every((e=>e<128)))!function(e){if(e.length>=4&&e[2]==dg&&e[3]==dg)throw new Error(`invalid label extension: "${Hy(e.slice(0,4))}"`)}(o),e="ASCII";else{let t=r.flatMap((e=>e.is_emoji?[]:e));if(t.length){if(vg.has(o[0]))throw Mg("leading combining mark");for(let e=1;e<i;e++){let t=r[e];if(!t.is_emoji&&vg.has(t[0]))throw Mg(`emoji + combining mark: "${Hy(r[e-1])} + ${Sg([t[0]])}"`)}!function(e){let t=e[0],n=Iy.get(t);if(n)throw Mg(`leading ${n}`);let r=e.length,s=-1;for(let a=1;a<r;a++){t=e[a];let r=Iy.get(t);if(r){if(s==a)throw Mg(`${n} + ${r}`);s=a+1,n=r}}if(s==r)throw Mg(`trailing ${n}`)}(o);let n=mg(new Set(t)),[s]=function(e){let t=Pg;for(let n of e){let e=t.filter((e=>yg(e,n)));if(!e.length)throw Pg.some((e=>yg(e,n)))?Lg(t[0],n):Dg(n);if(t=e,1==e.length)break}return t}(n);!function(e,t){for(let n of t)if(!yg(e,n))throw Lg(e,n);if(e.M){let e=lg(t);for(let t=1,n=e.length;t<n;t++)if(Ag.has(e[t])){let r=t+1;for(let s;r<n&&Ag.has(s=e[r]);r++)for(let n=t;n<r;n++)if(e[n]==s)throw new Error(`duplicate non-spacing marks: ${Og(s)}`);if(r-t>Cy)throw new Error(`excessive non-spacing marks: ${Rg(Sg(e.slice(t-1,r)))} (${r-t}/${Cy})`);t=r}}}(s,t),function(e,t){let n,r=[];for(let e of t){let t=Tg.get(e);if(t===fg)return;if(t){let r=t.M.get(e);if(n=n?n.filter((e=>r.has(e))):mg(r),!n.length)return}else r.push(e)}if(n)for(let t of n)if(r.every((e=>yg(t,e))))throw new Error(`whole-script confusable: ${e.N}/${t.N}`)}(s,n),e=s.N}else e="Emoji"}a.type=e}catch(e){a.error=e}return a}))}function Dg(e){return new Error(`disallowed character: ${Og(e)}`)}function Lg(e,t){let n=Og(t),r=Pg.find((e=>e.P.has(t)));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${e.N} + ${n}`)}function Mg(e){return new Error(`illegal placement: ${e}`)}function Gg(e){return e.filter((e=>e!=pg))}function jg(e,t){let n,r=Cg,s=e.length;for(;s&&(r=r.get(e[--s]),r);){let{V:a}=r;a&&(n=a,t&&t.push(...e.slice(s).reverse()),e.length=s)}return n}const Hg=new Uint8Array(32);function zg(e){return _d(0!==e.length,"invalid ENS name; empty component","comp",e),e}function qg(e){const t=Zp(function(e){try{if(0===e.length)throw new Error("empty label");return function(e){return function(e){return e.map((({input:t,error:n,output:r})=>{if(n){let r=n.message;throw new Error(1==e.length?r:`Invalid label ${Rg(Sg(t,63))}: ${r}`)}return Hy(r)})).join(hg)}(Ug(e,ug,Gg))}(e)}catch(t){_d(!1,`invalid ENS name (${t.message})`,"name",e)}}(e)),n=[];if(0===e.length)return n;let r=0;for(let e=0;e<t.length;e++)46===t[e]&&(n.push(zg(t.slice(r,e))),r=e+1);return _d(r<t.length,"invalid ENS name; empty component","name",e),n.push(zg(t.slice(r))),n}function $g(e){_d("string"==typeof e,"invalid ENS name; not a string","name",e),_d(e.length,"invalid ENS name (empty label)","name",e);let t=Hg;const n=qg(e);for(;n.length;)t=vp(rh([t,vp(n.pop())]));return nh(t)}function Vg(e,t){const n=null!=t?t:63;return _d(n<=255,"DNS encoded label cannot exceed 255","length",n),nh(rh(qg(e).map((t=>{_d(t.length<=n,`label ${JSON.stringify(e)} exceeds ${n} bytes`,"name",e);const r=new Uint8Array(t.length+1);return r.set(t,1),r[0]=r.length-1,r}))))+"00"}Hg.fill(0);class _g extends Xh{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Zh(this.buffer)}update(e){Lh(this);const{view:t,buffer:n,blockLen:r}=this,s=(e=Yh(e)).length;for(let a=0;a<s;){const i=Math.min(r-this.pos,s-a);if(i!==r)n.set(e.subarray(a,a+i),this.pos),this.pos+=i,a+=i,this.pos===r&&(this.process(t,0),this.pos=0);else{const t=Zh(e);for(;r<=s-a;a+=r)this.process(t,a)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){Lh(this),Mh(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:s}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>r-a&&(this.process(n,0),a=0);for(let e=a;e<r;e++)t[e]=0;!function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const s=BigInt(32),a=BigInt(4294967295),i=Number(n>>s&a),o=Number(n&a),c=r?4:0,l=r?0:4;e.setUint32(t+c,i,r),e.setUint32(t+l,o,r)}(n,r-8,BigInt(8*this.length),s),this.process(n,0);const i=Zh(e),o=this.outputLen;if(o%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=o/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)i.setUint32(4*e,l[e],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:s,destroyed:a,pos:i}=this;return e.length=r,e.pos=i,e.finished=s,e.destroyed=a,r%t&&e.buffer.set(n),e}}const Qg=(e,t,n)=>e&t^~e&n,Jg=(e,t,n)=>e&t^e&n^t&n,Kg=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Zg=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Wg=new Uint32Array(64);class Yg extends _g{constructor(){super(64,32,8,!1),this.A=0|Zg[0],this.B=0|Zg[1],this.C=0|Zg[2],this.D=0|Zg[3],this.E=0|Zg[4],this.F=0|Zg[5],this.G=0|Zg[6],this.H=0|Zg[7]}get(){const{A:e,B:t,C:n,D:r,E:s,F:a,G:i,H:o}=this;return[e,t,n,r,s,a,i,o]}set(e,t,n,r,s,a,i,o){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|s,this.F=0|a,this.G=0|i,this.H=0|o}process(e,t){for(let n=0;n<16;n++,t+=4)Wg[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=Wg[e-15],n=Wg[e-2],r=Wh(t,7)^Wh(t,18)^t>>>3,s=Wh(n,17)^Wh(n,19)^n>>>10;Wg[e]=s+Wg[e-7]+r+Wg[e-16]|0}let{A:n,B:r,C:s,D:a,E:i,F:o,G:c,H:l}=this;for(let e=0;e<64;e++){const t=l+(Wh(i,6)^Wh(i,11)^Wh(i,25))+Qg(i,o,c)+Kg[e]+Wg[e]|0,u=(Wh(n,2)^Wh(n,13)^Wh(n,22))+Jg(n,r,s)|0;l=c,c=o,o=i,i=a+t|0,a=s,s=r,r=n,n=t+u|0}n=n+this.A|0,r=r+this.B|0,s=s+this.C|0,a=a+this.D|0,i=i+this.E|0,o=o+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(n,r,s,a,i,o,c,l)}roundClean(){Wg.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Xg=ep((()=>new Yg)),[eb,tb]=(()=>Qh.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))))(),nb=new Uint32Array(80),rb=new Uint32Array(80);class sb extends _g{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:s,Cl:a,Dh:i,Dl:o,Eh:c,El:l,Fh:u,Fl:d,Gh:h,Gl:p,Hh:f,Hl:m}=this;return[e,t,n,r,s,a,i,o,c,l,u,d,h,p,f,m]}set(e,t,n,r,s,a,i,o,c,l,u,d,h,p,f,m){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|s,this.Cl=0|a,this.Dh=0|i,this.Dl=0|o,this.Eh=0|c,this.El=0|l,this.Fh=0|u,this.Fl=0|d,this.Gh=0|h,this.Gl=0|p,this.Hh=0|f,this.Hl=0|m}process(e,t){for(let n=0;n<16;n++,t+=4)nb[n]=e.getUint32(t),rb[n]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|nb[e-15],n=0|rb[e-15],r=Qh.rotrSH(t,n,1)^Qh.rotrSH(t,n,8)^Qh.shrSH(t,n,7),s=Qh.rotrSL(t,n,1)^Qh.rotrSL(t,n,8)^Qh.shrSL(t,n,7),a=0|nb[e-2],i=0|rb[e-2],o=Qh.rotrSH(a,i,19)^Qh.rotrBH(a,i,61)^Qh.shrSH(a,i,6),c=Qh.rotrSL(a,i,19)^Qh.rotrBL(a,i,61)^Qh.shrSL(a,i,6),l=Qh.add4L(s,c,rb[e-7],rb[e-16]),u=Qh.add4H(l,r,o,nb[e-7],nb[e-16]);nb[e]=0|u,rb[e]=0|l}let{Ah:n,Al:r,Bh:s,Bl:a,Ch:i,Cl:o,Dh:c,Dl:l,Eh:u,El:d,Fh:h,Fl:p,Gh:f,Gl:m,Hh:y,Hl:g}=this;for(let e=0;e<80;e++){const t=Qh.rotrSH(u,d,14)^Qh.rotrSH(u,d,18)^Qh.rotrBH(u,d,41),b=Qh.rotrSL(u,d,14)^Qh.rotrSL(u,d,18)^Qh.rotrBL(u,d,41),w=u&h^~u&f,v=d&p^~d&m,A=Qh.add5L(g,b,v,tb[e],rb[e]),E=Qh.add5H(A,y,t,w,eb[e],nb[e]),x=0|A,P=Qh.rotrSH(n,r,28)^Qh.rotrBH(n,r,34)^Qh.rotrBH(n,r,39),k=Qh.rotrSL(n,r,28)^Qh.rotrBL(n,r,34)^Qh.rotrBL(n,r,39),T=n&s^n&i^s&i,B=r&a^r&o^a&o;y=0|f,g=0|m,f=0|h,m=0|p,h=0|u,p=0|d,({h:u,l:d}=Qh.add(0|c,0|l,0|E,0|x)),c=0|i,l=0|o,i=0|s,o=0|a,s=0|n,a=0|r;const I=Qh.add3L(x,k,B);n=Qh.add3H(I,E,P,T),r=0|I}({h:n,l:r}=Qh.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:s,l:a}=Qh.add(0|this.Bh,0|this.Bl,0|s,0|a)),({h:i,l:o}=Qh.add(0|this.Ch,0|this.Cl,0|i,0|o)),({h:c,l}=Qh.add(0|this.Dh,0|this.Dl,0|c,0|l)),({h:u,l:d}=Qh.add(0|this.Eh,0|this.El,0|u,0|d)),({h,l:p}=Qh.add(0|this.Fh,0|this.Fl,0|h,0|p)),({h:f,l:m}=Qh.add(0|this.Gh,0|this.Gl,0|f,0|m)),({h:y,l:g}=Qh.add(0|this.Hh,0|this.Hl,0|y,0|g)),this.set(n,r,s,a,i,o,c,l,u,d,h,p,f,m,y,g)}roundClean(){nb.fill(0),rb.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const ab=ep((()=>new sb)),ib=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();function ob(e){switch(e){case"sha256":return Xg.create();case"sha512":return ab.create()}_d(!1,"invalid hashing algorithm name","algorithm",e)}ib.crypto||ib.msCrypto;const cb=function(e){return ob("sha256").update(e).digest()},lb=function(e){return ob("sha512").update(e).digest()};let ub=cb,db=lb,hb=!1,pb=!1;function fb(e){const t=Wd(e,"data");return nh(ub(t))}function mb(e){const t=Wd(e,"data");return nh(db(t))}fb._=cb,fb.lock=function(){hb=!0},fb.register=function(e){if(hb)throw new Error("sha256 is locked");ub=e},Object.freeze(fb),mb._=lb,mb.lock=function(){pb=!0},mb.register=function(e){if(pb)throw new Error("sha512 is locked");db=e},Object.freeze(fb);const yb="0x0000000000000000000000000000000000000000000000000000000000000000",gb=BigInt(0),bb=BigInt(1),wb=BigInt(2),vb=BigInt(27),Ab=BigInt(28),Eb=BigInt(35),xb={};function Pb(e){return oh(wh(e),32)}class kb{#X;#ee;#te;#ne;get r(){return this.#X}set r(e){_d(32===sh(e),"invalid r","value",e),this.#X=nh(e)}get s(){return this.#ee}set s(e){_d(32===sh(e),"invalid s","value",e);const t=nh(e);_d(parseInt(t.substring(0,3))<8,"non-canonical s","value",t),this.#ee=t}get v(){return this.#te}set v(e){const t=gh(e,"value");_d(27===t||28===t,"invalid v","v",e),this.#te=t}get networkV(){return this.#ne}get legacyChainId(){const e=this.networkV;return null==e?null:kb.getChainId(e)}get yParity(){return 27===this.v?0:1}get yParityAndS(){const e=Wd(this.s);return this.yParity&&(e[0]|=128),nh(e)}get compactSerialized(){return rh([this.r,this.yParityAndS])}get serialized(){return rh([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,t,n,r){Kd(e,xb,"Signature"),this.#X=t,this.#ee=n,this.#te=r,this.#ne=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new kb(xb,this.r,this.s,this.v);return this.networkV&&(e.#ne=this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:null!=e?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const t=ph(e,"v");return t==vb||t==Ab?gb:(_d(t>=Eb,"invalid EIP-155 v","v",e),(t-Eb)/wb)}static getChainIdV(e,t){return ph(e)*wb+BigInt(35+t-27)}static getNormalizedV(e){const t=ph(e);return t===gb||t===vb?27:t===bb||t===Ab?28:(_d(t>=Eb,"invalid v","v",e),t&bb?27:28)}static from(e){function t(t,n){_d(t,n,"signature",e)}if(null==e)return new kb(xb,yb,yb,27);if("string"==typeof e){const n=Wd(e,"signature");if(64===n.length){const e=nh(n.slice(0,32)),t=n.slice(32,64),r=128&t[0]?28:27;return t[0]&=127,new kb(xb,e,nh(t),r)}if(65===n.length){const e=nh(n.slice(0,32)),r=n.slice(32,64);t(!(128&r[0]),"non-canonical s");const s=kb.getNormalizedV(n[64]);return new kb(xb,e,nh(r),s)}t(!1,"invalid raw signature length")}if(e instanceof kb)return e.clone();const n=e.r;t(null!=n,"missing r");const r=Pb(n),s=function(e,n){if(null!=e)return Pb(e);if(null!=n){t(Xd(n,32),"invalid yParityAndS");const e=Wd(n);return e[0]&=127,nh(e)}t(!1,"missing s")}(e.s,e.yParityAndS);t(!(128&Wd(s)[0]),"non-canonical s");const{networkV:a,v:i}=function(e,n,r){if(null!=e){const t=ph(e);return{networkV:t>=Eb?t:void 0,v:kb.getNormalizedV(t)}}if(null!=n)return t(Xd(n,32),"invalid yParityAndS"),{v:128&Wd(n)[0]?28:27};if(null!=r){switch(gh(r,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),o=new kb(xb,r,s,i);return a&&(o.#ne=a),t(null==e.yParity||gh(e.yParity,"sig.yParity")===o.yParity,"yParity mismatch"),t(null==e.yParityAndS||e.yParityAndS===o.yParityAndS,"yParityAndS mismatch"),o}}BigInt(0);const Tb=BigInt(1),Bb=BigInt(2),Ib=e=>e instanceof Uint8Array,Cb=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function Nb(e){if(!Ib(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=Cb[e[n]];return t}function Ob(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}function Rb(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let t=0;t<n.length;t++){const r=2*t,s=e.slice(r,r+2),a=Number.parseInt(s,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");n[t]=a}return n}function Sb(e){return Ob(Nb(e))}function Fb(e){if(!Ib(e))throw new Error("Uint8Array expected");return Ob(Nb(Uint8Array.from(e).reverse()))}function Ub(e,t){return Rb(e.toString(16).padStart(2*t,"0"))}function Db(e,t){return Ub(e,t).reverse()}function Lb(e,t,n){let r;if("string"==typeof t)try{r=Rb(t)}catch(n){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${n}`)}else{if(!Ib(t))throw new Error(`${e} must be hex string or Uint8Array`);r=Uint8Array.from(t)}const s=r.length;if("number"==typeof n&&s!==n)throw new Error(`${e} expected ${n} bytes, got ${s}`);return r}function Mb(...e){const t=new Uint8Array(e.reduce(((e,t)=>e+t.length),0));let n=0;return e.forEach((e=>{if(!Ib(e))throw new Error("Uint8Array expected");t.set(e,n),n+=e.length})),t}const Gb=e=>(Bb<<BigInt(e-1))-Tb,jb=e=>new Uint8Array(e),Hb=e=>Uint8Array.from(e);function zb(e,t,n){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");let r=jb(e),s=jb(e),a=0;const i=()=>{r.fill(1),s.fill(0),a=0},o=(...e)=>n(s,r,...e),c=(e=jb())=>{s=o(Hb([0]),e),r=o(),0!==e.length&&(s=o(Hb([1]),e),r=o())},l=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){r=o();const t=r.slice();n.push(t),e+=r.length}return Mb(...n)};return(e,t)=>{let n;for(i(),c(e);!(n=t(l()));)c();return i(),n}}const qb={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function $b(e,t,n={}){const r=(t,n,r)=>{const s=qb[n];if("function"!=typeof s)throw new Error(`Invalid validator "${n}", expected function`);const a=e[t];if(!(r&&void 0===a||s(a,e)))throw new Error(`Invalid param ${String(t)}=${a} (${typeof a}), expected ${n}`)};for(const[e,n]of Object.entries(t))r(e,n,!1);for(const[e,t]of Object.entries(n))r(e,t,!0);return e}const Vb=BigInt(0),_b=BigInt(1),Qb=BigInt(2),Jb=BigInt(3),Kb=BigInt(4),Zb=BigInt(5),Wb=BigInt(8);function Yb(e,t){const n=e%t;return n>=Vb?n:t+n}function Xb(e,t,n){if(n<=Vb||t<Vb)throw new Error("Expected power/modulo > 0");if(n===_b)return Vb;let r=_b;for(;t>Vb;)t&_b&&(r=r*e%n),e=e*e%n,t>>=_b;return r}function ew(e,t,n){let r=e;for(;t-- >Vb;)r*=r,r%=n;return r}function tw(e,t){if(e===Vb||t<=Vb)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=Yb(e,t),r=t,s=Vb,a=_b,i=_b,o=Vb;for(;n!==Vb;){const e=r/n,t=r%n,c=s-i*e,l=a-o*e;r=n,n=t,s=i,a=o,i=c,o=l}if(r!==_b)throw new Error("invert: does not exist");return Yb(s,t)}BigInt(9),BigInt(16);const nw=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function rw(e,t){const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function sw(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function aw(e){const t=sw(e);return t+Math.ceil(t/2)}class iw extends Xh{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,function(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");Uh(e.outputLen),Uh(e.blockLen)}(e);const n=Yh(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,s=new Uint8Array(r);s.set(n.length>r?e.create().update(n).digest():n);for(let e=0;e<s.length;e++)s[e]^=54;this.iHash.update(s),this.oHash=e.create();for(let e=0;e<s.length;e++)s[e]^=106;this.oHash.update(s),s.fill(0)}update(e){return Lh(this),this.iHash.update(e),this}digestInto(e){Lh(this),Dh(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:s,blockLen:a,outputLen:i}=this;return e.finished=r,e.destroyed=s,e.blockLen=a,e.outputLen=i,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const ow=(e,t,n)=>new iw(e,t).update(n).digest();ow.create=(e,t)=>new iw(e,t);const cw=BigInt(0),lw=BigInt(1);function uw(e){return $b(e.Fp,nw.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),$b(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...rw(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const{Ph:dw,aT:hw}=n,pw={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){const{Err:t}=pw;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(128&r[0])throw new t("Invalid signature integer: negative");if(0===r[0]&&!(128&r[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:dw(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=pw,n="string"==typeof e?hw(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||48!=n[0])throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:s,l:a}=pw._parseInt(n.subarray(2)),{d:i,l:o}=pw._parseInt(a);if(o.length)throw new t("Invalid signature: left bytes after parsing");return{r:s,s:i}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,n=e=>{const t=e.toString(16);return 1&t.length?`0${t}`:t},r=t(n(e.s)),s=t(n(e.r)),a=r.length/2,i=s.length/2,o=n(a),c=n(i);return`30${n(i+a+4)}02${c}${s}02${o}${r}`}},fw=BigInt(0),mw=BigInt(1),yw=(BigInt(2),BigInt(3));function gw(e){const t=function(e){const t=uw(e);return $b(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:n,n:r}=t,s=n.BYTES+1,a=2*n.BYTES+1;function i(e){return Yb(e,r)}function o(e){return tw(e,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:l,weierstrassEquation:u,isWithinCurveOrder:d}=function(e){const t=function(e){const t=uw(e);$b(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof n||"bigint"!=typeof n.beta||"function"!=typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:n}=t,r=t.toBytes||((e,t,r)=>{const s=t.toAffine();return Mb(Uint8Array.from([4]),n.toBytes(s.x),n.toBytes(s.y))}),s=t.fromBytes||(e=>{const t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function a(e){const{a:r,b:s}=t,a=n.sqr(e),i=n.mul(a,e);return n.add(n.add(i,n.mul(e,r)),s)}if(!n.eql(n.sqr(t.Gy),a(t.Gx)))throw new Error("bad generator point: equation left != right");function i(e){return"bigint"==typeof e&&fw<e&&e<t.n}function o(e){if(!i(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(e){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:s,n:a}=t;if(n&&"bigint"!=typeof e){if(e instanceof Uint8Array&&(e=Nb(e)),"string"!=typeof e||!n.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*r,"0")}let i;try{i="bigint"==typeof e?e:Sb(Lb("private key",e,r))}catch(t){throw new Error(`private key must be ${r} bytes, hex or bigint, not ${typeof e}`)}return s&&(i=Yb(i,a)),o(i),i}const l=new Map;function u(e){if(!(e instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(e,t,r){if(this.px=e,this.py=t,this.pz=r,null==e||!n.isValid(e))throw new Error("x required");if(null==t||!n.isValid(t))throw new Error("y required");if(null==r||!n.isValid(r))throw new Error("z required")}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof d)throw new Error("projective point not allowed");const s=e=>n.eql(e,n.ZERO);return s(t)&&s(r)?d.ZERO:new d(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(d.fromAffine)}static fromHex(e){const t=d.fromAffine(s(Lb("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return d.BASE.multiply(c(e))}_setWindowSize(e){this._WINDOW_SIZE=e,l.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:e,y:r}=this.toAffine();if(!n.isValid(e)||!n.isValid(r))throw new Error("bad point: x or y not FE");const s=n.sqr(r),i=a(e);if(!n.eql(s,i))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){u(e);const{px:t,py:r,pz:s}=this,{px:a,py:i,pz:o}=e,c=n.eql(n.mul(t,o),n.mul(a,s)),l=n.eql(n.mul(r,o),n.mul(i,s));return c&&l}negate(){return new d(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:r}=t,s=n.mul(r,yw),{px:a,py:i,pz:o}=this;let c=n.ZERO,l=n.ZERO,u=n.ZERO,h=n.mul(a,a),p=n.mul(i,i),f=n.mul(o,o),m=n.mul(a,i);return m=n.add(m,m),u=n.mul(a,o),u=n.add(u,u),c=n.mul(e,u),l=n.mul(s,f),l=n.add(c,l),c=n.sub(p,l),l=n.add(p,l),l=n.mul(c,l),c=n.mul(m,c),u=n.mul(s,u),f=n.mul(e,f),m=n.sub(h,f),m=n.mul(e,m),m=n.add(m,u),u=n.add(h,h),h=n.add(u,h),h=n.add(h,f),h=n.mul(h,m),l=n.add(l,h),f=n.mul(i,o),f=n.add(f,f),h=n.mul(f,m),c=n.sub(c,h),u=n.mul(f,p),u=n.add(u,u),u=n.add(u,u),new d(c,l,u)}add(e){u(e);const{px:r,py:s,pz:a}=this,{px:i,py:o,pz:c}=e;let l=n.ZERO,h=n.ZERO,p=n.ZERO;const f=t.a,m=n.mul(t.b,yw);let y=n.mul(r,i),g=n.mul(s,o),b=n.mul(a,c),w=n.add(r,s),v=n.add(i,o);w=n.mul(w,v),v=n.add(y,g),w=n.sub(w,v),v=n.add(r,a);let A=n.add(i,c);return v=n.mul(v,A),A=n.add(y,b),v=n.sub(v,A),A=n.add(s,a),l=n.add(o,c),A=n.mul(A,l),l=n.add(g,b),A=n.sub(A,l),p=n.mul(f,v),l=n.mul(m,b),p=n.add(l,p),l=n.sub(g,p),p=n.add(g,p),h=n.mul(l,p),g=n.add(y,y),g=n.add(g,y),b=n.mul(f,b),v=n.mul(m,v),g=n.add(g,b),b=n.sub(y,b),b=n.mul(f,b),v=n.add(v,b),y=n.mul(g,v),h=n.add(h,y),y=n.mul(A,v),l=n.mul(w,l),l=n.sub(l,y),y=n.mul(w,g),p=n.mul(A,p),p=n.add(p,y),new d(l,h,p)}subtract(e){return this.add(e.negate())}is0(){return this.equals(d.ZERO)}wNAF(e){return p.wNAFCached(this,l,e,(e=>{const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(d.fromAffine)}))}multiplyUnsafe(e){const r=d.ZERO;if(e===fw)return r;if(o(e),e===mw)return this;const{endo:s}=t;if(!s)return p.unsafeLadder(this,e);let{k1neg:a,k1:i,k2neg:c,k2:l}=s.splitScalar(e),u=r,h=r,f=this;for(;i>fw||l>fw;)i&mw&&(u=u.add(f)),l&mw&&(h=h.add(f)),f=f.double(),i>>=mw,l>>=mw;return a&&(u=u.negate()),c&&(h=h.negate()),h=new d(n.mul(h.px,s.beta),h.py,h.pz),u.add(h)}multiply(e){o(e);let r,s,a=e;const{endo:i}=t;if(i){const{k1neg:e,k1:t,k2neg:o,k2:c}=i.splitScalar(a);let{p:l,f:u}=this.wNAF(t),{p:h,f}=this.wNAF(c);l=p.constTimeNegate(e,l),h=p.constTimeNegate(o,h),h=new d(n.mul(h.px,i.beta),h.py,h.pz),r=l.add(h),s=u.add(f)}else{const{p:e,f:t}=this.wNAF(a);r=e,s=t}return d.normalizeZ([r,s])[0]}multiplyAndAddUnsafe(e,t,n){const r=d.BASE,s=(e,t)=>t!==fw&&t!==mw&&e.equals(r)?e.multiply(t):e.multiplyUnsafe(t),a=s(this,t).add(s(e,n));return a.is0()?void 0:a}toAffine(e){const{px:t,py:r,pz:s}=this,a=this.is0();null==e&&(e=a?n.ONE:n.inv(s));const i=n.mul(t,e),o=n.mul(r,e),c=n.mul(s,e);if(a)return{x:n.ZERO,y:n.ZERO};if(!n.eql(c,n.ONE))throw new Error("invZ was invalid");return{x:i,y:o}}isTorsionFree(){const{h:e,isTorsionFree:n}=t;if(e===mw)return!0;if(n)return n(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=t;return e===mw?this:n?n(d,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return this.assertValidity(),r(d,this,e)}toHex(e=!0){return Nb(this.toRawBytes(e))}}d.BASE=new d(t.Gx,t.Gy,n.ONE),d.ZERO=new d(n.ZERO,n.ONE,n.ZERO);const h=t.nBitLength,p=function(e,t){const n=(e,t)=>{const n=t.negate();return e?n:t},r=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:n,unsafeLadder(t,n){let r=e.ZERO,s=t;for(;n>cw;)n&lw&&(r=r.add(s)),s=s.double(),n>>=lw;return r},precomputeWindow(e,t){const{windows:n,windowSize:s}=r(t),a=[];let i=e,o=i;for(let e=0;e<n;e++){o=i,a.push(o);for(let e=1;e<s;e++)o=o.add(i),a.push(o);i=o.double()}return a},wNAF(t,s,a){const{windows:i,windowSize:o}=r(t);let c=e.ZERO,l=e.BASE;const u=BigInt(2**t-1),d=2**t,h=BigInt(t);for(let e=0;e<i;e++){const t=e*o;let r=Number(a&u);a>>=h,r>o&&(r-=d,a+=lw);const i=t,p=t+Math.abs(r)-1,f=e%2!=0,m=r<0;0===r?l=l.add(n(f,s[i])):c=c.add(n(m,s[p]))}return{p:c,f:l}},wNAFCached(e,t,n,r){const s=e._WINDOW_SIZE||1;let a=t.get(e);return a||(a=this.precomputeWindow(e,s),1!==s&&t.set(e,r(a))),this.wNAF(s,a,n)}}}(d,t.endo?Math.ceil(h/2):h);return{CURVE:t,ProjectivePoint:d,normPrivateKeyToScalar:c,weierstrassEquation:a,isWithinCurveOrder:i}}({...t,toBytes(e,t,r){const s=t.toAffine(),a=n.toBytes(s.x),i=Mb;return r?i(Uint8Array.from([t.hasEvenY()?2:3]),a):i(Uint8Array.from([4]),a,n.toBytes(s.y))},fromBytes(e){const t=e.length,r=e[0],i=e.subarray(1);if(t!==s||2!==r&&3!==r){if(t===a&&4===r)return{x:n.fromBytes(i.subarray(0,n.BYTES)),y:n.fromBytes(i.subarray(n.BYTES,2*n.BYTES))};throw new Error(`Point of length ${t} was invalid. Expected ${s} compressed bytes or ${a} uncompressed bytes`)}{const e=Sb(i);if(!(fw<(o=e)&&o<n.ORDER))throw new Error("Point is not on curve");const t=u(e);let s=n.sqrt(t);return!(1&~r)!=((s&mw)===mw)&&(s=n.neg(s)),{x:e,y:s}}var o}}),h=e=>Nb(Ub(e,t.nByteLength));function p(e){return e>r>>mw}const f=(e,t,n)=>Sb(e.slice(t,n));class m{constructor(e,t,n){this.r=e,this.s=t,this.recovery=n,this.assertValidity()}static fromCompact(e){const n=t.nByteLength;return e=Lb("compactSignature",e,2*n),new m(f(e,0,n),f(e,n,2*n))}static fromDER(e){const{r:t,s:n}=pw.toSig(Lb("DER",e));return new m(t,n)}assertValidity(){if(!d(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!d(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new m(this.r,this.s,e)}recoverPublicKey(e){const{r,s,recovery:a}=this,l=w(Lb("msgHash",e));if(null==a||![0,1,2,3].includes(a))throw new Error("recovery id invalid");const u=2===a||3===a?r+t.n:r;if(u>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const d=1&a?"03":"02",p=c.fromHex(d+h(u)),f=o(u),m=i(-l*f),y=i(s*f),g=c.BASE.multiplyAndAddUnsafe(p,m,y);if(!g)throw new Error("point at infinify");return g.assertValidity(),g}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,i(-this.s),this.recovery):this}toDERRawBytes(){return Rb(this.toDERHex())}toDERHex(){return pw.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Rb(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const y={isValidPrivateKey(e){try{return l(e),!0}catch(e){return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const e=aw(t.n);return function(e,t,n=!1){const r=e.length,s=sw(t),a=aw(t);if(r<16||r<a||r>1024)throw new Error(`expected ${a}-1024 bytes of input, got ${r}`);const i=Yb(n?Sb(e):Fb(e),t-_b)+_b;return n?Db(i,s):Ub(i,s)}(t.randomBytes(e),t.n)},precompute:(e=8,t=c.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function g(e){const t=e instanceof Uint8Array,n="string"==typeof e,r=(t||n)&&e.length;return t?r===s||r===a:n?r===2*s||r===2*a:e instanceof c}const b=t.bits2int||function(e){const n=Sb(e),r=8*e.length-t.nBitLength;return r>0?n>>BigInt(r):n},w=t.bits2int_modN||function(e){return i(b(e))},v=Gb(t.nBitLength);function A(e){if("bigint"!=typeof e)throw new Error("bigint expected");if(!(fw<=e&&e<v))throw new Error(`bigint expected < 2^${t.nBitLength}`);return Ub(e,t.nByteLength)}const E={lowS:t.lowS,prehash:!1},x={lowS:t.lowS,prehash:!1};return c.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return c.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,n=!0){if(g(e))throw new Error("first arg must be private key");if(!g(t))throw new Error("second arg must be public key");return c.fromHex(t).multiply(l(e)).toRawBytes(n)},sign:function(e,r,s=E){const{seed:a,k2sig:u}=function(e,r,s=E){if(["recovered","canonical"].some((e=>e in s)))throw new Error("sign() legacy options not supported");const{hash:a,randomBytes:u}=t;let{lowS:h,prehash:f,extraEntropy:y}=s;null==h&&(h=!0),e=Lb("msgHash",e),f&&(e=Lb("prehashed msgHash",a(e)));const g=w(e),v=l(r),x=[A(v),A(g)];if(null!=y){const e=!0===y?u(n.BYTES):y;x.push(Lb("extraEntropy",e))}const P=Mb(...x),k=g;return{seed:P,k2sig:function(e){const t=b(e);if(!d(t))return;const n=o(t),r=c.BASE.multiply(t).toAffine(),s=i(r.x);if(s===fw)return;const a=i(n*i(k+s*v));if(a===fw)return;let l=(r.x===s?0:2)|Number(r.y&mw),u=a;return h&&p(a)&&(u=function(e){return p(e)?i(-e):e}(a),l^=1),new m(s,u,l)}}}(e,r,s),h=t;return zb(h.hash.outputLen,h.nByteLength,h.hmac)(a,u)},verify:function(e,n,r,s=x){const a=e;if(n=Lb("msgHash",n),r=Lb("publicKey",r),"strict"in s)throw new Error("options.strict was renamed to lowS");const{lowS:l,prehash:u}=s;let d,h;try{if("string"==typeof a||a instanceof Uint8Array)try{d=m.fromDER(a)}catch(e){if(!(e instanceof pw.Err))throw e;d=m.fromCompact(a)}else{if("object"!=typeof a||"bigint"!=typeof a.r||"bigint"!=typeof a.s)throw new Error("PARSE");{const{r:e,s:t}=a;d=new m(e,t)}}h=c.fromHex(r)}catch(e){if("PARSE"===e.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(l&&d.hasHighS())return!1;u&&(n=t.hash(n));const{r:p,s:f}=d,y=w(n),g=o(f),b=i(y*g),v=i(p*g),A=c.BASE.multiplyAndAddUnsafe(h,b,v)?.toAffine();return!!A&&i(A.x)===p},ProjectivePoint:c,Signature:m,utils:y}}function bw(e){return{hash:e,hmac:(t,...n)=>ow(e,t,function(...e){const t=new Uint8Array(e.reduce(((e,t)=>e+t.length),0));let n=0;return e.forEach((e=>{if(!Kh(e))throw new Error("Uint8Array expected");t.set(e,n),n+=e.length})),t}(...n)),randomBytes:tp}}BigInt(4);const ww=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),vw=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Aw=BigInt(1),Ew=BigInt(2),xw=(e,t)=>(e+t/Ew)/t;const Pw=function(e,t,n=!1,r={}){if(e<=Vb)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:s,nByteLength:a}=rw(e,t);if(a>2048)throw new Error("Field lengths over 2048 bytes are not supported");const i=function(e){if(e%Kb===Jb){const t=(e+_b)/Kb;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}if(e%Wb===Zb){const t=(e-Zb)/Wb;return function(e,n){const r=e.mul(n,Qb),s=e.pow(r,t),a=e.mul(n,s),i=e.mul(e.mul(a,Qb),s),o=e.mul(a,e.sub(i,e.ONE));if(!e.eql(e.sqr(o),n))throw new Error("Cannot find square root");return o}}return function(e){const t=(e-_b)/Qb;let n,r,s;for(n=e-_b,r=0;n%Qb===Vb;n/=Qb,r++);for(s=Qb;s<e&&Xb(s,t,e)!==e-_b;s++);if(1===r){const t=(e+_b)/Kb;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}const a=(n+_b)/Qb;return function(e,i){if(e.pow(i,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let o=r,c=e.pow(e.mul(e.ONE,s),n),l=e.pow(i,a),u=e.pow(i,n);for(;!e.eql(u,e.ONE);){if(e.eql(u,e.ZERO))return e.ZERO;let t=1;for(let n=e.sqr(u);t<o&&!e.eql(n,e.ONE);t++)n=e.sqr(n);const n=e.pow(c,_b<<BigInt(o-t-1));c=e.sqr(n),l=e.mul(l,n),u=e.mul(u,c),o=t}return l}}(e)}(e),o=Object.freeze({ORDER:e,BITS:s,BYTES:a,MASK:Gb(s),ZERO:Vb,ONE:_b,create:t=>Yb(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("Invalid field element: expected bigint, got "+typeof t);return Vb<=t&&t<e},is0:e=>e===Vb,isOdd:e=>(e&_b)===_b,neg:t=>Yb(-t,e),eql:(e,t)=>e===t,sqr:t=>Yb(t*t,e),add:(t,n)=>Yb(t+n,e),sub:(t,n)=>Yb(t-n,e),mul:(t,n)=>Yb(t*n,e),pow:(e,t)=>function(e,t,n){if(n<Vb)throw new Error("Expected power > 0");if(n===Vb)return e.ONE;if(n===_b)return t;let r=e.ONE,s=t;for(;n>Vb;)n&_b&&(r=e.mul(r,s)),s=e.sqr(s),n>>=_b;return r}(o,e,t),div:(t,n)=>Yb(t*tw(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>tw(t,e),sqrt:r.sqrt||(e=>i(o,e)),invertBatch:e=>function(e,t){const n=new Array(t.length),r=t.reduce(((t,r,s)=>e.is0(r)?t:(n[s]=t,e.mul(t,r))),e.ONE),s=e.inv(r);return t.reduceRight(((t,r,s)=>e.is0(r)?t:(n[s]=e.mul(t,n[s]),e.mul(t,r))),s),n}(o,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?Db(e,a):Ub(e,a),fromBytes:e=>{if(e.length!==a)throw new Error(`Fp.fromBytes: expected ${a}, got ${e.length}`);return n?Fb(e):Sb(e)}});return Object.freeze(o)}(ww,void 0,void 0,{sqrt:function(e){const t=ww,n=BigInt(3),r=BigInt(6),s=BigInt(11),a=BigInt(22),i=BigInt(23),o=BigInt(44),c=BigInt(88),l=e*e*e%t,u=l*l*e%t,d=ew(u,n,t)*u%t,h=ew(d,n,t)*u%t,p=ew(h,Ew,t)*l%t,f=ew(p,s,t)*p%t,m=ew(f,a,t)*f%t,y=ew(m,o,t)*m%t,g=ew(y,c,t)*y%t,b=ew(g,o,t)*m%t,w=ew(b,n,t)*u%t,v=ew(w,i,t)*f%t,A=ew(v,r,t)*l%t,E=ew(A,Ew,t);if(!Pw.eql(Pw.sqr(E),e))throw new Error("Cannot find square root");return E}}),kw=function(e,t){const n=t=>gw({...e,...bw(t)});return Object.freeze({...n(t),create:n})}({a:BigInt(0),b:BigInt(7),Fp:Pw,n:vw,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=vw,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Aw*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=n,i=BigInt("0x100000000000000000000000000000000"),o=xw(a*e,t),c=xw(-r*e,t);let l=Yb(e-o*n-c*s,t),u=Yb(-o*r-c*a,t);const d=l>i,h=u>i;if(d&&(l=t-l),h&&(u=t-u),l>i||u>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:l,k2neg:h,k2:u}}}},Xg);BigInt(0),kw.ProjectivePoint;class Tw{#re;constructor(e){_d(32===sh(e),"invalid private key","privateKey","[REDACTED]"),this.#re=nh(e)}get privateKey(){return this.#re}get publicKey(){return Tw.computePublicKey(this.#re)}get compressedPublicKey(){return Tw.computePublicKey(this.#re,!0)}sign(e){_d(32===sh(e),"invalid digest length","digest",e);const t=kw.sign(Yd(e),Yd(this.#re),{lowS:!0});return kb.from({r:bh(t.r,32),s:bh(t.s,32),v:t.recovery?28:27})}computeSharedSecret(e){const t=Tw.computePublicKey(e);return nh(kw.getSharedSecret(Yd(this.#re),Wd(t),!1))}static computePublicKey(e,t){let n=Wd(e,"key");if(32===n.length)return nh(kw.getPublicKey(n,!!t));if(64===n.length){const e=new Uint8Array(65);e[0]=4,e.set(n,1),n=e}return nh(kw.ProjectivePoint.fromHex(n).toRawBytes(t))}static recoverPublicKey(e,t){_d(32===sh(e),"invalid digest length","digest",e);const n=kb.from(t);let r=kw.Signature.fromCompact(Yd(rh([n.r,n.s])));r=r.addRecoveryBit(n.yParity);const s=r.recoverPublicKey(Yd(e));return _d(null!=s,"invalid signautre for digest","signature",t),"0x"+s.toHex(!1)}static addPoints(e,t,n){const r=kw.ProjectivePoint.fromHex(Tw.computePublicKey(e).substring(2)),s=kw.ProjectivePoint.fromHex(Tw.computePublicKey(t).substring(2));return"0x"+r.add(s).toHex(!!n)}}function Bw(e){let t=e.toString(16);for(;t.length<2;)t="0"+t;return"0x"+t}function Iw(e,t,n){let r=0;for(let s=0;s<n;s++)r=256*r+e[t+s];return r}function Cw(e,t,n,r){const s=[];for(;n<t+1+r;){const a=Nw(e,n);s.push(a.result),Vd((n+=a.consumed)<=t+1+r,"child data too short","BUFFER_OVERRUN",{buffer:e,length:r,offset:t})}return{consumed:1+r,result:s}}function Nw(e,t){Vd(0!==e.length,"data too short","BUFFER_OVERRUN",{buffer:e,length:0,offset:1});const n=t=>{Vd(t<=e.length,"data short segment too short","BUFFER_OVERRUN",{buffer:e,length:e.length,offset:t})};if(e[t]>=248){const r=e[t]-247;n(t+1+r);const s=Iw(e,t+1,r);return n(t+1+r+s),Cw(e,t,t+1+r,r+s)}if(e[t]>=192){const r=e[t]-192;return n(t+1+r),Cw(e,t,t+1,r)}if(e[t]>=184){const r=e[t]-183;n(t+1+r);const s=Iw(e,t+1,r);return n(t+1+r+s),{consumed:1+r+s,result:nh(e.slice(t+1+r,t+1+r+s))}}if(e[t]>=128){const r=e[t]-128;return n(t+1+r),{consumed:1+r,result:nh(e.slice(t+1,t+1+r))}}return{consumed:1,result:Bw(e[t])}}function Ow(e){const t=Wd(e,"data"),n=Nw(t,0);return _d(n.consumed===t.length,"unexpected junk after rlp payload","data",e),n.result}function Rw(e){const t=[];for(;e;)t.unshift(255&e),e>>=8;return t}function Sw(e){if(Array.isArray(e)){let t=[];if(e.forEach((function(e){t=t.concat(Sw(e))})),t.length<=55)return t.unshift(192+t.length),t;const n=Rw(t.length);return n.unshift(247+n.length),n.concat(t)}const t=Array.prototype.slice.call(Wd(e,"object"));if(1===t.length&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const n=Rw(t.length);return n.unshift(183+n.length),n.concat(t)}const Fw="0123456789abcdef";function Uw(e){let t="0x";for(const n of Sw(e))t+=Fw[n>>4],t+=Fw[15&n];return t}const Dw=BigInt(0),Lw=BigInt(2),Mw=BigInt(27),Gw=BigInt(28),jw=BigInt(35),Hw=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),zw=131072;function qw(e,t){let n=e.toString(16);for(;n.length<2;)n="0"+n;return n+=fb(t).substring(4),"0x"+n}function $w(e){return"0x"===e?null:Bp(e)}function Vw(e,t){try{return bm(e)}catch(n){_d(!1,n.message,t,e)}}function _w(e,t){return"0x"===e?0:gh(e,t)}function Qw(e,t){if("0x"===e)return Dw;const n=ph(e,t);return _d(n<=Hw,"value exceeds uint size",t,n),n}function Jw(e,t){const n=ph(e,"value"),r=wh(n);return _d(r.length<=32,"value too large",`tx.${t}`,n),r}function Kw(e){return bm(e).map((e=>[e.address,e.storageKeys]))}function Zw(e,t){_d(Array.isArray(e),`invalid ${t}`,"value",e);for(let t=0;t<e.length;t++)_d(Xd(e[t],32),"invalid ${ param } hash",`value[${t}]`,e[t]);return e}function Ww(e,t){let n;try{if(n=_w(t[0],"yParity"),0!==n&&1!==n)throw new Error("bad yParity")}catch(e){_d(!1,"invalid yParity","yParity",t[0])}const r=oh(t[1],32),s=oh(t[2],32),a=kb.from({r,s,yParity:n});e.signature=a}class Yw{#se;#ae;#t;#ie;#oe;#ce;#le;#ue;#de;#he;#pe;#fe;#me;#ye;#ge;#be;get type(){return this.#se}set type(e){switch(e){case null:this.#se=null;break;case 0:case"legacy":this.#se=0;break;case 1:case"berlin":case"eip-2930":this.#se=1;break;case 2:case"london":case"eip-1559":this.#se=2;break;case 3:case"cancun":case"eip-4844":this.#se=3;break;default:_d(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844"}return null}get to(){const e=this.#ae;return null==e&&3===this.type?Sm:e}set to(e){this.#ae=null==e?null:Bp(e)}get nonce(){return this.#ie}set nonce(e){this.#ie=gh(e,"value")}get gasLimit(){return this.#oe}set gasLimit(e){this.#oe=ph(e)}get gasPrice(){const e=this.#ce;return null!=e||0!==this.type&&1!==this.type?e:Dw}set gasPrice(e){this.#ce=null==e?null:ph(e,"gasPrice")}get maxPriorityFeePerGas(){const e=this.#le;return null==e?2===this.type||3===this.type?Dw:null:e}set maxPriorityFeePerGas(e){this.#le=null==e?null:ph(e,"maxPriorityFeePerGas")}get maxFeePerGas(){const e=this.#ue;return null==e?2===this.type||3===this.type?Dw:null:e}set maxFeePerGas(e){this.#ue=null==e?null:ph(e,"maxFeePerGas")}get data(){return this.#t}set data(e){this.#t=nh(e)}get value(){return this.#de}set value(e){this.#de=ph(e,"value")}get chainId(){return this.#he}set chainId(e){this.#he=ph(e)}get signature(){return this.#pe||null}set signature(e){this.#pe=null==e?null:kb.from(e)}get accessList(){const e=this.#fe||null;return null==e?1===this.type||2===this.type||3===this.type?[]:null:e}set accessList(e){this.#fe=null==e?null:bm(e)}get maxFeePerBlobGas(){const e=this.#me;return null==e&&3===this.type?Dw:e}set maxFeePerBlobGas(e){this.#me=null==e?null:ph(e,"maxFeePerBlobGas")}get blobVersionedHashes(){let e=this.#ye;return null==e&&3===this.type?[]:e}set blobVersionedHashes(e){if(null!=e){_d(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let t=0;t<e.length;t++)_d(Xd(e[t],32),"invalid blobVersionedHash",`value[${t}]`,e[t])}this.#ye=e}get blobs(){return null==this.#be?null:this.#be.map((e=>Object.assign({},e)))}set blobs(e){if(null==e)return void(this.#be=null);const t=[],n=[];for(let r=0;r<e.length;r++){const s=e[r];if(eh(s)){Vd(this.#ge,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let e=Wd(s);if(_d(e.length<=zw,"blob is too large",`blobs[${r}]`,s),e.length!==zw){const t=new Uint8Array(zw);t.set(e),e=t}const a=this.#ge.blobToKzgCommitment(e),i=nh(this.#ge.computeBlobKzgProof(e,a));t.push({data:nh(e),commitment:nh(a),proof:i}),n.push(qw(1,a))}else{const e=nh(s.commitment);t.push({data:nh(s.data),commitment:e,proof:nh(s.proof)}),n.push(qw(1,e))}}this.#be=t,this.#ye=n}get kzg(){return this.#ge}set kzg(e){this.#ge=e}constructor(){this.#se=null,this.#ae=null,this.#ie=0,this.#oe=Dw,this.#ce=null,this.#le=null,this.#ue=null,this.#t="0x",this.#de=Dw,this.#he=Dw,this.#pe=null,this.#fe=null,this.#me=null,this.#ye=null,this.#be=null,this.#ge=null}get hash(){return null==this.signature?null:vp(this.#we(!0,!1))}get unsignedHash(){return vp(this.unsignedSerialized)}get from(){return null==this.signature?null:(e=this.unsignedHash,t=this.signature,function(e){let t;return t="string"==typeof e?Tw.computePublicKey(e,!1):e.publicKey,Bp(vp("0x"+t.substring(4)).substring(26))}(Tw.recoverPublicKey(e,t)));var e,t}get fromPublicKey(){return null==this.signature?null:Tw.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return null!=this.signature}#we(e,t){Vd(!e||null!=this.signature,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const n=e?this.signature:null;switch(this.inferType()){case 0:return function(e,t){const n=[Jw(e.nonce,"nonce"),Jw(e.gasPrice||0,"gasPrice"),Jw(e.gasLimit,"gasLimit"),e.to||"0x",Jw(e.value,"value"),e.data];let r=Dw;if(e.chainId!=Dw)r=ph(e.chainId,"tx.chainId"),_d(!t||null==t.networkV||t.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",t);else if(e.signature){const t=e.signature.legacyChainId;null!=t&&(r=t)}if(!t)return r!==Dw&&(n.push(wh(r)),n.push("0x"),n.push("0x")),Uw(n);let s=BigInt(27+t.yParity);return r!==Dw?s=kb.getChainIdV(r,t.v):BigInt(t.v)!==s&&_d(!1,"tx.chainId/sig.v mismatch","sig",t),n.push(wh(s)),n.push(wh(t.r)),n.push(wh(t.s)),Uw(n)}(this,n);case 1:return function(e,t){const n=[Jw(e.chainId,"chainId"),Jw(e.nonce,"nonce"),Jw(e.gasPrice||0,"gasPrice"),Jw(e.gasLimit,"gasLimit"),e.to||"0x",Jw(e.value,"value"),e.data,Kw(e.accessList||[])];return t&&(n.push(Jw(t.yParity,"recoveryParam")),n.push(wh(t.r)),n.push(wh(t.s))),rh(["0x01",Uw(n)])}(this,n);case 2:return function(e,t){const n=[Jw(e.chainId,"chainId"),Jw(e.nonce,"nonce"),Jw(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Jw(e.maxFeePerGas||0,"maxFeePerGas"),Jw(e.gasLimit,"gasLimit"),e.to||"0x",Jw(e.value,"value"),e.data,Kw(e.accessList||[])];return t&&(n.push(Jw(t.yParity,"yParity")),n.push(wh(t.r)),n.push(wh(t.s))),rh(["0x02",Uw(n)])}(this,n);case 3:return function(e,t,n){const r=[Jw(e.chainId,"chainId"),Jw(e.nonce,"nonce"),Jw(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Jw(e.maxFeePerGas||0,"maxFeePerGas"),Jw(e.gasLimit,"gasLimit"),e.to||Sm,Jw(e.value,"value"),e.data,Kw(e.accessList||[]),Jw(e.maxFeePerBlobGas||0,"maxFeePerBlobGas"),Zw(e.blobVersionedHashes||[],"blobVersionedHashes")];return t&&(r.push(Jw(t.yParity,"yParity")),r.push(wh(t.r)),r.push(wh(t.s)),n)?rh(["0x03",Uw([r,n.map((e=>e.data)),n.map((e=>e.commitment)),n.map((e=>e.proof))])]):rh(["0x03",Uw(r)])}(this,n,t?this.blobs:null)}Vd(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#we(!0,!0)}get unsignedSerialized(){return this.#we(!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=null!=this.gasPrice,t=null!=this.maxFeePerGas||null!=this.maxPriorityFeePerGas,n=null!=this.accessList,r=null!=this.#me||this.#ye;null!=this.maxFeePerGas&&null!=this.maxPriorityFeePerGas&&Vd(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),Vd(!t||0!==this.type&&1!==this.type,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),Vd(0!==this.type||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const s=[];return null!=this.type?s.push(this.type):t?s.push(2):e?(s.push(1),n||s.push(0)):n?(s.push(1),s.push(2)):(r&&this.to||(s.push(0),s.push(1),s.push(2)),s.push(3)),s.sort(),s}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}clone(){return Yw.from(this)}toJSON(){const e=e=>null==e?null:e.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(null==e)return new Yw;if("string"==typeof e){const t=Wd(e);if(t[0]>=127)return Yw.from(function(e){const t=Ow(e);_d(Array.isArray(t)&&(9===t.length||6===t.length),"invalid field count for legacy transaction","data",e);const n={type:0,nonce:_w(t[0],"nonce"),gasPrice:Qw(t[1],"gasPrice"),gasLimit:Qw(t[2],"gasLimit"),to:$w(t[3]),value:Qw(t[4],"value"),data:nh(t[5]),chainId:Dw};if(6===t.length)return n;const r=Qw(t[6],"v"),s=Qw(t[7],"r"),a=Qw(t[8],"s");if(s===Dw&&a===Dw)n.chainId=r;else{let e=(r-jw)/Lw;e<Dw&&(e=Dw),n.chainId=e,_d(e!==Dw||r===Mw||r===Gw,"non-canonical legacy v","v",t[6]),n.signature=kb.from({r:oh(t[7],32),s:oh(t[8],32),v:r})}return n}(t));switch(t[0]){case 1:return Yw.from(function(e){const t=Ow(Wd(e).slice(1));_d(Array.isArray(t)&&(8===t.length||11===t.length),"invalid field count for transaction type: 1","data",nh(e));const n={type:1,chainId:Qw(t[0],"chainId"),nonce:_w(t[1],"nonce"),gasPrice:Qw(t[2],"gasPrice"),gasLimit:Qw(t[3],"gasLimit"),to:$w(t[4]),value:Qw(t[5],"value"),data:nh(t[6]),accessList:Vw(t[7],"accessList")};return 8===t.length||Ww(n,t.slice(8)),n}(t));case 2:return Yw.from(function(e){const t=Ow(Wd(e).slice(1));_d(Array.isArray(t)&&(9===t.length||12===t.length),"invalid field count for transaction type: 2","data",nh(e));const n={type:2,chainId:Qw(t[0],"chainId"),nonce:_w(t[1],"nonce"),maxPriorityFeePerGas:Qw(t[2],"maxPriorityFeePerGas"),maxFeePerGas:Qw(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:Qw(t[4],"gasLimit"),to:$w(t[5]),value:Qw(t[6],"value"),data:nh(t[7]),accessList:Vw(t[8],"accessList")};return 9===t.length||Ww(n,t.slice(9)),n}(t));case 3:return Yw.from(function(e){let t=Ow(Wd(e).slice(1)),n="3",r=null;if(4===t.length&&Array.isArray(t[0])){n="3 (network format)";const e=t[1],s=t[2],a=t[3];_d(Array.isArray(e),"invalid network format: blobs not an array","fields[1]",e),_d(Array.isArray(s),"invalid network format: commitments not an array","fields[2]",s),_d(Array.isArray(a),"invalid network format: proofs not an array","fields[3]",a),_d(e.length===s.length,"invalid network format: blobs/commitments length mismatch","fields",t),_d(e.length===a.length,"invalid network format: blobs/proofs length mismatch","fields",t),r=[];for(let n=0;n<t[1].length;n++)r.push({data:e[n],commitment:s[n],proof:a[n]});t=t[0]}_d(Array.isArray(t)&&(11===t.length||14===t.length),`invalid field count for transaction type: ${n}`,"data",nh(e));const s={type:3,chainId:Qw(t[0],"chainId"),nonce:_w(t[1],"nonce"),maxPriorityFeePerGas:Qw(t[2],"maxPriorityFeePerGas"),maxFeePerGas:Qw(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:Qw(t[4],"gasLimit"),to:$w(t[5]),value:Qw(t[6],"value"),data:nh(t[7]),accessList:Vw(t[8],"accessList"),maxFeePerBlobGas:Qw(t[9],"maxFeePerBlobGas"),blobVersionedHashes:t[10]};r&&(s.blobs=r),_d(null!=s.to,`invalid address for transaction type: ${n}`,"data",e),_d(Array.isArray(s.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",e);for(let t=0;t<s.blobVersionedHashes.length;t++)_d(Xd(s.blobVersionedHashes[t],32),`invalid blobVersionedHash at index ${t}: must be length 32`,"data",e);return 11===t.length||Ww(s,t.slice(11)),s}(t))}Vd(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const t=new Yw;return null!=e.type&&(t.type=e.type),null!=e.to&&(t.to=e.to),null!=e.nonce&&(t.nonce=e.nonce),null!=e.gasLimit&&(t.gasLimit=e.gasLimit),null!=e.gasPrice&&(t.gasPrice=e.gasPrice),null!=e.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),null!=e.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null!=e.maxFeePerBlobGas&&(t.maxFeePerBlobGas=e.maxFeePerBlobGas),null!=e.data&&(t.data=e.data),null!=e.value&&(t.value=e.value),null!=e.chainId&&(t.chainId=e.chainId),null!=e.signature&&(t.signature=kb.from(e.signature)),null!=e.accessList&&(t.accessList=e.accessList),null!=e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes),null!=e.kzg&&(t.kzg=e.kzg),null!=e.blobs&&(t.blobs=e.blobs),null!=e.hash&&(_d(t.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),_d(t.hash===e.hash,"hash mismatch","tx",e)),null!=e.from&&(_d(t.isSigned(),"unsigned transaction cannot define '.from'","tx",e),_d(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}}const Xw="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const ev=BigInt(58);function tv(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):_d(!1,"unsupported IPFS format","link",e),`https://gateway.ipfs.io/ipfs/${e}`}class nv{name;constructor(e){jd(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,t){throw new Error("unsupported coin")}async decodeAddress(e,t){throw new Error("unsupported coin")}}const rv=new RegExp("^(ipfs)://(.*)$","i"),sv=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),rv,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];class av{provider;address;name;#ve;#Ae;constructor(e,t,n){jd(this,{provider:e,address:t,name:n}),this.#ve=null,this.#Ae=new Ty(t,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e)}async supportsWildcard(){return null==this.#ve&&(this.#ve=(async()=>{try{return await this.#Ae.supportsInterface("0x9061b923")}catch(e){if(zd(e,"CALL_EXCEPTION"))return!1;throw this.#ve=null,e}})()),await this.#ve}async#Ee(e,t){t=(t||[]).slice();const n=this.#Ae.interface;t.unshift($g(this.name));let r=null;await this.supportsWildcard()&&(r=n.getFunction(e),Vd(r,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),t=[Vg(this.name,255),n.encodeFunctionData(r,t)],e="resolve(bytes,bytes)"),t.push({enableCcipRead:!0});try{const s=await this.#Ae[e](...t);return r?n.decodeFunctionResult(r,s)[0]:s}catch(e){if(!zd(e,"CALL_EXCEPTION"))throw e}return null}async getAddress(e){if(null==e&&(e=60),60===e)try{const e=await this.#Ee("addr(bytes32)");return null==e||e===Sm?null:e}catch(e){if(zd(e,"CALL_EXCEPTION"))return null;throw e}if(e>=0&&e<2147483648){let t=e+2147483648;const n=await this.#Ee("addr(bytes32,uint)",[t]);if(Xd(n,20))return Bp(n)}let t=null;for(const n of this.provider.plugins)if(n instanceof nv&&n.supportsCoinType(e)){t=n;break}if(null==t)return null;const n=await this.#Ee("addr(bytes32,uint)",[e]);if(null==n||"0x"===n)return null;const r=await t.decodeAddress(e,n);if(null!=r)return r;Vd(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:n}})}async getText(e){const t=await this.#Ee("text(bytes32,string)",[e]);return null==t||"0x"===t?null:t}async getContentHash(){const e=await this.#Ee("contenthash(bytes32)");if(null==e||"0x"===e)return null;const t=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const e="e3010170"===t[1]?"ipfs":"ipns",n=parseInt(t[4],16);if(t[5].length===2*n)return`${e}://${function(e){const t=Wd(e);let n=yh(t),r="";for(;n;)r=Xw[Number(n%ev)]+r,n/=ev;for(let e=0;e<t.length&&!t[e];e++)r=Xw[0]+r;return r}("0x"+t[2])}`}const n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&64===n[1].length)return`bzz://${n[1]}`;Vd(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const t=await this.getText("avatar");if(null==t)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:t});for(let n=0;n<sv.length;n++){const r=t.match(sv[n]);if(null==r)continue;const s=r[1].toLowerCase();switch(s){case"https":case"data":return e.push({type:"url",value:t}),{linkage:e,url:t};case"ipfs":{const n=tv(t);return e.push({type:"ipfs",value:t}),e.push({type:"url",value:n}),{linkage:e,url:n}}case"erc721":case"erc1155":{const n="erc721"===s?"tokenURI(uint256)":"uri(uint256)";e.push({type:s,value:t});const a=await this.getAddress();if(null==a)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const i=(r[2]||"").split("/");if(2!==i.length)return e.push({type:`!${s}caip`,value:r[2]||""}),{url:null,linkage:e};const o=i[1],c=new Ty(i[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if("erc721"===s){const t=await c.ownerOf(o);if(a!==t)return e.push({type:"!owner",value:t}),{url:null,linkage:e};e.push({type:"owner",value:t})}else if("erc1155"===s){const t=await c.balanceOf(a,o);if(!t)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:t.toString()})}let l=await c[n](o);if(null==l||"0x"===l)return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:l}),"erc1155"===s&&(l=l.replace("{id}",bh(o,32).substring(2)),e.push({type:"metadata-url-expanded",value:l})),l.match(/^ipfs:/i)&&(l=tv(l)),e.push({type:"metadata-url",value:l});let u={};const d=await new Nm(l).send();d.assertOk();try{u=d.bodyJson}catch(t){try{e.push({type:"!metadata",value:d.bodyText})}catch(t){const n=d.body;return n&&e.push({type:"!metadata",value:nh(n)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!u)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(u)});let h=u.image;if("string"!=typeof h)return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(h.match(/^(https:\/\/|data:)/i));else{if(null==h.match(rv))return e.push({type:"!imageUrl-ipfs",value:h}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:h}),h=tv(h)}return e.push({type:"url",value:h}),{linkage:e,url:h}}}}}catch(e){}return{linkage:e,url:null}}static async getEnsAddress(e){const t=await e.getNetwork(),n=t.getPlugin("org.ethers.plugins.network.Ens");return Vd(n,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:t}}),n.address}static async#xe(e,t){const n=await av.getEnsAddress(e);try{const r=new Ty(n,["function resolver(bytes32) view returns (address)"],e),s=await r.resolver($g(t),{enableCcipRead:!0});return s===Sm?null:s}catch(e){throw e}return null}static async fromName(e,t){let n=t;for(;;){if(""===n||"."===n)return null;if("eth"!==t&&"eth"===n)return null;const r=await av.#xe(e,n);if(null!=r){const s=new av(e,r,t);return n===t||await s.supportsWildcard()?s:null}n=n.split(".").slice(1).join(".")}}}const iv=BigInt(0);function ov(e,t){return function(n){return null==n?t:e(n)}}function cv(e,t){return n=>{if(t&&null==n)return null;if(!Array.isArray(n))throw new Error("not an array");return n.map((t=>e(t)))}}function lv(e,t){return n=>{const r={};for(const s in e){let a=s;if(t&&s in t&&!(a in n))for(const e of t[s])if(e in n){a=e;break}try{const t=e[s](n[a]);void 0!==t&&(r[s]=t)}catch(e){Vd(!1,`invalid value for value.${s} (${e instanceof Error?e.message:"not-an-error"})`,"BAD_DATA",{value:n})}}return r}}function uv(e){return _d(Xd(e,!0),"invalid data","value",e),e}function dv(e){return _d(Xd(e,32),"invalid hash","value",e),e}const hv=lv({address:Bp,blockHash:dv,blockNumber:gh,data:uv,index:gh,removed:ov((function(e){switch(e){case!0:case"true":return!0;case!1:case"false":return!1}_d(!1,`invalid boolean; ${JSON.stringify(e)}`,"value",e)}),!1),topics:cv(dv),transactionHash:dv,transactionIndex:gh},{index:["logIndex"]}),pv=lv({hash:ov(dv),parentHash:dv,parentBeaconBlockRoot:ov(dv,null),number:gh,timestamp:gh,nonce:ov(uv),difficulty:ph,gasLimit:ph,gasUsed:ph,stateRoot:ov(dv,null),receiptsRoot:ov(dv,null),blobGasUsed:ov(ph,null),excessBlobGas:ov(ph,null),miner:ov(Bp),prevRandao:ov(dv,null),extraData:uv,baseFeePerGas:ov(ph)},{prevRandao:["mixHash"]}),fv=lv({transactionIndex:gh,blockNumber:gh,transactionHash:dv,address:Bp,topics:cv(dv),data:uv,index:gh,blockHash:dv},{index:["logIndex"]}),mv=lv({to:ov(Bp,null),from:ov(Bp,null),contractAddress:ov(Bp,null),index:gh,root:ov(nh),gasUsed:ph,blobGasUsed:ov(ph,null),logsBloom:ov(uv),blockHash:dv,hash:dv,logs:cv((function(e){return fv(e)})),blockNumber:gh,cumulativeGasUsed:ph,effectiveGasPrice:ov(ph),blobGasPrice:ov(ph,null),status:ov(gh),type:ov(gh,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function yv(e){e.to&&ph(e.to)===iv&&(e.to="0x0000000000000000000000000000000000000000");const t=lv({hash:dv,index:ov(gh,void 0),type:e=>"0x"===e||null==e?0:gh(e),accessList:ov(bm,null),blobVersionedHashes:ov(cv(dv,!0),null),blockHash:ov(dv,null),blockNumber:ov(gh,null),transactionIndex:ov(gh,null),from:Bp,gasPrice:ov(ph),maxPriorityFeePerGas:ov(ph),maxFeePerGas:ov(ph),maxFeePerBlobGas:ov(ph,null),gasLimit:ph,to:ov(Bp,null),value:ph,nonce:gh,data:uv,creates:ov(Bp,null),chainId:ov(ph,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(e);if(null==t.to&&null==t.creates&&(t.creates=function(e){const t=Bp(e.from);let n=ph(e.nonce,"tx.nonce").toString(16);return n="0"===n?"0x":n.length%2?"0x0"+n:"0x"+n,Bp(ah(vp(Uw([t,n])),12))}(t)),1!==e.type&&2!==e.type||null!=e.accessList||(t.accessList=[]),e.signature?t.signature=kb.from(e.signature):t.signature=kb.from(e),null==t.chainId){const e=t.signature.legacyChainId;null!=e&&(t.chainId=e)}return t.blockHash&&ph(t.blockHash)===iv&&(t.blockHash=null),t}class gv{name;constructor(e){jd(this,{name:e})}clone(){return new gv(this.name)}}class bv extends gv{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(e,t){null==e&&(e=0),super(`org.ethers.network.plugins.GasCost#${e||0}`);const n={effectiveBlock:e};function r(e,r){let s=(t||{})[e];null==s&&(s=r),_d("number"==typeof s,`invalud value for ${e}`,"costs",t),n[e]=s}r("txBase",21e3),r("txCreate",32e3),r("txDataZero",4),r("txDataNonzero",16),r("txAccessListStorageKey",1900),r("txAccessListAddress",2400),jd(this,n)}clone(){return new bv(this.effectiveBlock,this)}}class wv extends gv{address;targetNetwork;constructor(e,t){super("org.ethers.plugins.network.Ens"),jd(this,{address:e||"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",targetNetwork:null==t?1:t})}clone(){return new wv(this.address,this.targetNetwork)}}class vv extends gv{#T;#Pe;get url(){return this.#T}get processFunc(){return this.#Pe}constructor(e,t){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#T=e,this.#Pe=t}clone(){return this}}const Av=new Map;class Ev{#ke;#he;#Te;constructor(e,t){this.#ke=e,this.#he=ph(t),this.#Te=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#ke}set name(e){this.#ke=e}get chainId(){return this.#he}set chainId(e){this.#he=ph(e,"chainId")}matches(e){if(null==e)return!1;if("string"==typeof e){try{return this.chainId===ph(e)}catch(e){}return this.name===e}if("number"==typeof e||"bigint"==typeof e){try{return this.chainId===ph(e)}catch(e){}return!1}if("object"==typeof e){if(null!=e.chainId){try{return this.chainId===ph(e.chainId)}catch(e){}return!1}return null!=e.name&&this.name===e.name}return!1}get plugins(){return Array.from(this.#Te.values())}attachPlugin(e){if(this.#Te.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#Te.set(e.name,e.clone()),this}getPlugin(e){return this.#Te.get(e)||null}getPlugins(e){return this.plugins.filter((t=>t.name.split("#")[0]===e))}clone(){const e=new Ev(this.name,this.chainId);return this.plugins.forEach((t=>{e.attachPlugin(t.clone())})),e}computeIntrinsicGas(e){const t=this.getPlugin("org.ethers.plugins.network.GasCost")||new bv;let n=t.txBase;if(null==e.to&&(n+=t.txCreate),e.data)for(let r=2;r<e.data.length;r+=2)"00"===e.data.substring(r,r+2)?n+=t.txDataZero:n+=t.txDataNonzero;if(e.accessList){const r=bm(e.accessList);for(const e in r)n+=t.txAccessListAddress+t.txAccessListStorageKey*r[e].storageKeys.length}return n}static from(e){if(function(){function e(e,t,n){const r=function(){const r=new Ev(e,t);return null!=n.ensNetwork&&r.attachPlugin(new wv(null,n.ensNetwork)),r.attachPlugin(new bv),(n.plugins||[]).forEach((e=>{r.attachPlugin(e)})),r};Ev.register(e,r),Ev.register(t,r),n.altNames&&n.altNames.forEach((e=>{Ev.register(e,r)}))}kv||(kv=!0,e("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),e("ropsten",3,{ensNetwork:3}),e("rinkeby",4,{ensNetwork:4}),e("goerli",5,{ensNetwork:5}),e("kovan",42,{ensNetwork:42}),e("sepolia",11155111,{ensNetwork:11155111}),e("holesky",17e3,{ensNetwork:17e3}),e("classic",61,{}),e("classicKotti",6,{}),e("arbitrum",42161,{ensNetwork:1}),e("arbitrum-goerli",421613,{}),e("arbitrum-sepolia",421614,{}),e("base",8453,{ensNetwork:1}),e("base-goerli",84531,{}),e("base-sepolia",84532,{}),e("bnb",56,{ensNetwork:1}),e("bnbt",97,{}),e("linea",59144,{ensNetwork:1}),e("linea-goerli",59140,{}),e("linea-sepolia",59141,{}),e("matic",137,{ensNetwork:1,plugins:[Pv("https://gasstation.polygon.technology/v2")]}),e("matic-amoy",80002,{}),e("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[Pv("https://gasstation-testnet.polygon.technology/v2")]}),e("optimism",10,{ensNetwork:1,plugins:[]}),e("optimism-goerli",420,{}),e("optimism-sepolia",11155420,{}),e("xdai",100,{ensNetwork:1}))}(),null==e)return Ev.from("mainnet");if("number"==typeof e&&(e=BigInt(e)),"string"==typeof e||"bigint"==typeof e){const t=Av.get(e);if(t)return t();if("bigint"==typeof e)return new Ev("unknown",e);_d(!1,"unknown network","network",e)}if("function"==typeof e.clone)return e.clone();if("object"==typeof e){_d("string"==typeof e.name&&"number"==typeof e.chainId,"invalid network object name or chainId","network",e);const t=new Ev(e.name,e.chainId);return(e.ensAddress||null!=e.ensNetwork)&&t.attachPlugin(new wv(e.ensAddress,e.ensNetwork)),t}_d(!1,"invalid network","network",e)}static register(e,t){"number"==typeof e&&(e=BigInt(e));const n=Av.get(e);n&&_d(!1,`conflicting network for ${JSON.stringify(n.name)}`,"nameOrChainId",e),Av.set(e,t)}}function xv(e,t){const n=String(e);if(!n.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${e}`);const r=n.split(".");if(1===r.length&&r.push(""),2!==r.length)throw new Error(`invalid gwei value: ${e}`);for(;r[1].length<t;)r[1]+="0";if(r[1].length>9){let e=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||e++,r[1]=e.toString()}return BigInt(r[0]+r[1])}function Pv(e){return new vv(e,(async(e,t,n)=>{let r;n.setHeader("User-Agent","ethers");try{const[t,s]=await Promise.all([n.send(),e()]);r=t;const a=r.bodyJson.standard;return{gasPrice:s.gasPrice,maxFeePerGas:xv(a.maxFee,9),maxPriorityFeePerGas:xv(a.maxPriorityFee,9)}}catch(e){Vd(!1,`error encountered with polygon gas station (${JSON.stringify(n.url)})`,"SERVER_ERROR",{request:n,response:r,error:e})}}))}let kv=!1;function Tv(e){return JSON.parse(JSON.stringify(e))}class Bv{#Be;#Ie;#Ce;#Ne;constructor(e){this.#Be=e,this.#Ie=null,this.#Ce=4e3,this.#Ne=-2}get pollingInterval(){return this.#Ce}set pollingInterval(e){this.#Ce=e}async#Oe(){try{const e=await this.#Be.getBlockNumber();if(-2===this.#Ne)return void(this.#Ne=e);if(e!==this.#Ne){for(let t=this.#Ne+1;t<=e;t++){if(null==this.#Ie)return;await this.#Be.emit("block",t)}this.#Ne=e}}catch(e){}null!=this.#Ie&&(this.#Ie=this.#Be._setTimeout(this.#Oe.bind(this),this.#Ce))}start(){this.#Ie||(this.#Ie=this.#Be._setTimeout(this.#Oe.bind(this),this.#Ce),this.#Oe())}stop(){this.#Ie&&(this.#Be._clearTimeout(this.#Ie),this.#Ie=null)}pause(e){this.stop(),e&&(this.#Ne=-2)}resume(){this.start()}}class Iv{#Be;#Oe;#Re;constructor(e){this.#Be=e,this.#Re=!1,this.#Oe=e=>{this._poll(e,this.#Be)}}async _poll(e,t){throw new Error("sub-classes must override this")}start(){this.#Re||(this.#Re=!0,this.#Oe(-2),this.#Be.on("block",this.#Oe))}stop(){this.#Re&&(this.#Re=!1,this.#Be.off("block",this.#Oe))}pause(e){this.stop()}resume(){this.start()}}class Cv extends Iv{#Se;#Fe;constructor(e,t){super(e),this.#Se=t,this.#Fe=-2}pause(e){e&&(this.#Fe=-2),super.pause(e)}async _poll(e,t){const n=await t.getBlock(this.#Se);null!=n&&(-2===this.#Fe?this.#Fe=n.number:n.number>this.#Fe&&(t.emit(this.#Se,n.number),this.#Fe=n.number))}}class Nv extends Iv{#Y;constructor(e,t){super(e),this.#Y=Tv(t)}async _poll(e,t){throw new Error("@TODO")}}class Ov extends Iv{#Ue;constructor(e,t){super(e),this.#Ue=t}async _poll(e,t){const n=await t.getTransactionReceipt(this.#Ue);n&&t.emit(this.#Ue,n)}}class Rv{#Be;#Y;#Ie;#Re;#Ne;constructor(e,t){this.#Be=e,this.#Y=Tv(t),this.#Ie=this.#Oe.bind(this),this.#Re=!1,this.#Ne=-2}async#Oe(e){if(-2===this.#Ne)return;const t=Tv(this.#Y);t.fromBlock=this.#Ne+1,t.toBlock=e;const n=await this.#Be.getLogs(t);if(0!==n.length)for(const e of n)this.#Be.emit(this.#Y,e),this.#Ne=e.blockNumber;else this.#Ne<e-60&&(this.#Ne=e-60)}start(){this.#Re||(this.#Re=!0,-2===this.#Ne&&this.#Be.getBlockNumber().then((e=>{this.#Ne=e})),this.#Be.on("block",this.#Ie))}stop(){this.#Re&&(this.#Re=!1,this.#Be.off("block",this.#Ie))}pause(e){this.stop(),e&&(this.#Ne=-2)}resume(){this.start()}}const Sv=BigInt(2);function Fv(e){return e&&"function"==typeof e.then}function Uv(e,t){return e+":"+JSON.stringify(t,((e,t)=>{if(null==t)return"null";if("bigint"==typeof t)return`bigint:${t.toString()}`;if("string"==typeof t)return t.toLowerCase();if("object"==typeof t&&!Array.isArray(t)){const e=Object.keys(t);return e.sort(),e.reduce(((e,n)=>(e[n]=t[n],e)),{})}return t}))}class Dv{name;constructor(e){jd(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function Lv(e){return(e=Array.from(new Set(e).values())).sort(),e}async function Mv(e,t){if(null==e)throw new Error("invalid event");if(Array.isArray(e)&&(e={topics:e}),"string"==typeof e)switch(e){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:e,tag:e}}if(Xd(e,32)){const t=e.toLowerCase();return{type:"transaction",tag:Uv("tx",{hash:t}),hash:t}}if(e.orphan){const t=e;return{type:"orphan",tag:Uv("orphan",t),filter:(n=t,JSON.parse(JSON.stringify(n)))}}var n;if(e.address||e.topics){const n=e,r={topics:(n.topics||[]).map((e=>null==e?null:Array.isArray(e)?Lv(e.map((e=>e.toLowerCase()))):e.toLowerCase()))};if(n.address){const e=[],s=[],a=n=>{Xd(n)?e.push(n):s.push((async()=>{e.push(await tm(n,t))})())};Array.isArray(n.address)?n.address.forEach(a):a(n.address),s.length&&await Promise.all(s),r.address=Lv(e.map((e=>e.toLowerCase())))}return{filter:r,tag:Uv("event",r),type:"event"}}_d(!1,"unknown ProviderEvent","event",e)}function Gv(){return(new Date).getTime()}const jv={cacheTimeout:250,pollingInterval:4e3};class Hv{#De;#Te;#Le;#Me;#Ge;#je;#He;#ze;#qe;#$e;#Ve;#u;constructor(e,t){if(this.#u=Object.assign({},jv,t||{}),"any"===e)this.#je=!0,this.#Ge=null;else if(e){const t=Ev.from(e);this.#je=!1,this.#Ge=Promise.resolve(t),setTimeout((()=>{this.emit("network",t,null)}),0)}else this.#je=!1,this.#Ge=null;this.#ze=-1,this.#He=new Map,this.#De=new Map,this.#Te=new Map,this.#Le=null,this.#Me=!1,this.#qe=1,this.#$e=new Map,this.#Ve=!1}get pollingInterval(){return this.#u.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#Te.values())}attachPlugin(e){if(this.#Te.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#Te.set(e.name,e.connect(this)),this}getPlugin(e){return this.#Te.get(e)||null}get disableCcipRead(){return this.#Ve}set disableCcipRead(e){this.#Ve=!!e}async#_e(e){const t=this.#u.cacheTimeout;if(t<0)return await this._perform(e);const n=Uv(e.method,e);let r=this.#He.get(n);return r||(r=this._perform(e),this.#He.set(n,r),setTimeout((()=>{this.#He.get(n)===r&&this.#He.delete(n)}),t)),await r}async ccipReadFetch(e,t,n){if(this.disableCcipRead||0===n.length||null==e.to)return null;const r=e.to.toLowerCase(),s=t.toLowerCase(),a=[];for(let t=0;t<n.length;t++){const i=n[t],o=i.replace("{sender}",r).replace("{data}",s),c=new Nm(o);-1===i.indexOf("{data}")&&(c.body={data:s,sender:r}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:c,index:t,urls:n});let l="unknown error";const u=await c.send();try{const e=u.bodyJson;if(e.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:c,result:e}),e.data;e.message&&(l=e.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:c,result:e})}catch(e){}Vd(u.statusCode<400||u.statusCode>=500,`response not found during CCIP fetch: ${l}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:i,errorMessage:l}}),a.push(l)}Vd(!1,`error encountered during CCIP fetch: ${a.map((e=>JSON.stringify(e))).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:n,errorMessages:a}})}_wrapBlock(e,t){return new _m(function(e){const t=pv(e);return t.transactions=e.transactions.map((e=>"string"==typeof e?e:yv(e))),t}(e),this)}_wrapLog(e,t){return new Qm(function(e){return hv(e)}(e),this)}_wrapTransactionReceipt(e,t){return new Jm(function(e){return mv(e)}(e),this)}_wrapTransactionResponse(e,t){return new Km(yv(e),this)}_detectNetwork(){Vd(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){Vd(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=gh(await this.#_e({method:"getBlockNumber"}),"%response");return this.#ze>=0&&(this.#ze=e),e}_getAddress(e){return tm(e,this)}_getBlockTag(e){if(null==e)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}return Xd(e)?Xd(e,32)?e:vh(e):("bigint"==typeof e&&(e=gh(e,"blockTag")),"number"==typeof e?e>=0?vh(e):this.#ze>=0?vh(this.#ze+e):this.getBlockNumber().then((t=>vh(t+e))):void _d(!1,"invalid blockTag","blockTag",e))}_getFilter(e){const t=(e.topics||[]).map((e=>null==e?null:Array.isArray(e)?Lv(e.map((e=>e.toLowerCase()))):e.toLowerCase())),n="blockHash"in e?e.blockHash:void 0,r=(e,r,s)=>{let a;switch(e.length){case 0:break;case 1:a=e[0];break;default:e.sort(),a=e}if(n&&(null!=r||null!=s))throw new Error("invalid filter");const i={};return a&&(i.address=a),t.length&&(i.topics=t),r&&(i.fromBlock=r),s&&(i.toBlock=s),n&&(i.blockHash=n),i};let s,a,i=[];if(e.address)if(Array.isArray(e.address))for(const t of e.address)i.push(this._getAddress(t));else i.push(this._getAddress(e.address));return"fromBlock"in e&&(s=this._getBlockTag(e.fromBlock)),"toBlock"in e&&(a=this._getBlockTag(e.toBlock)),i.filter((e=>"string"!=typeof e)).length||null!=s&&"string"!=typeof s||null!=a&&"string"!=typeof a?Promise.all([Promise.all(i),s,a]).then((e=>r(e[0],e[1],e[2]))):r(i,s,a)}_getTransactionRequest(e){const t=Vm(e),n=[];if(["to","from"].forEach((e=>{if(null==t[e])return;const r=tm(t[e],this);Fv(r)?n.push(async function(){t[e]=await r}()):t[e]=r})),null!=t.blockTag){const e=this._getBlockTag(t.blockTag);Fv(e)?n.push(async function(){t.blockTag=await e}()):t.blockTag=e}return n.length?async function(){return await Promise.all(n),t}():t}async getNetwork(){if(null==this.#Ge){const e=(async()=>{try{const e=await this._detectNetwork();return this.emit("network",e,null),e}catch(t){throw this.#Ge===e&&(this.#Ge=null),t}})();return this.#Ge=e,(await e).clone()}const e=this.#Ge,[t,n]=await Promise.all([e,this._detectNetwork()]);return t.chainId!==n.chainId&&(this.#je?(this.emit("network",n,t),this.#Ge===e&&(this.#Ge=Promise.resolve(n))):Vd(!1,`network changed: ${t.chainId} => ${n.chainId} `,"NETWORK_ERROR",{event:"changed"})),t.clone()}async getFeeData(){const e=await this.getNetwork(),t=async()=>{const{_block:t,gasPrice:n,priorityFee:r}=await Gd({_block:this.#Qe("latest",!1),gasPrice:(async()=>{try{return ph(await this.#_e({method:"getGasPrice"}),"%response")}catch(e){}return null})(),priorityFee:(async()=>{try{return ph(await this.#_e({method:"getPriorityFee"}),"%response")}catch(e){}return null})()});let s=null,a=null;const i=this._wrapBlock(t,e);return i&&i.baseFeePerGas&&(a=null!=r?r:BigInt("1000000000"),s=i.baseFeePerGas*Sv+a),new $m(n,s,a)},n=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(n){const e=new Nm(n.url),r=await n.processFunc(t,this,e);return new $m(r.gasPrice,r.maxFeePerGas,r.maxPriorityFeePerGas)}return await t()}async estimateGas(e){let t=this._getTransactionRequest(e);return Fv(t)&&(t=await t),ph(await this.#_e({method:"estimateGas",transaction:t}),"%response")}async#Je(e,t,n){Vd(n<10,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:t,enableCcipRead:!0})});const r=Vm(e);try{return nh(await this._perform({method:"call",transaction:r,blockTag:t}))}catch(e){if(!this.disableCcipRead&&qd(e)&&e.data&&n>=0&&"latest"===t&&null!=r.to&&"0x556f1830"===ah(e.data,0,4)){const s=e.data,a=await tm(r.to,this);let i;try{i=function(e){const t={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};Vd(sh(e)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const n=ah(e,0,32);Vd(ah(n,0,12)===ah(Jv,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),t.sender=ah(n,12);try{const n=[],r=gh(ah(e,32,64)),s=gh(ah(e,r,r+32)),a=ah(e,r+32);for(let e=0;e<s;e++){const t=zv(a,32*e);if(null==t)throw new Error("abort");n.push(t)}t.urls=n}catch(e){Vd(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const n=qv(e,64);if(null==n)throw new Error("abort");t.calldata=n}catch(e){Vd(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}Vd(ah(e,100,128)===ah(Jv,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),t.selector=ah(e,96,100);try{const n=qv(e,128);if(null==n)throw new Error("abort");t.extraData=n}catch(e){Vd(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return t.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map((e=>t[e])),t}(ah(e.data,4))}catch(e){Vd(!1,e.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:r,info:{data:s}})}Vd(i.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:s,reason:"OffchainLookup",transaction:r,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:i.errorArgs}});const o=await this.ccipReadFetch(r,i.calldata,i.urls);Vd(null!=o,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:r,info:{data:e.data,errorArgs:i.errorArgs}});const c={to:a,data:rh([i.selector,Qv([o,i.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:c});try{const e=await this.#Je(c,t,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},c),result:e}),e}catch(e){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},c),error:e}),e}}throw e}}async#Ke(e){const{value:t}=await Gd({network:this.getNetwork(),value:e});return t}async call(e){const{tx:t,blockTag:n}=await Gd({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await this.#Ke(this.#Je(t,n,e.enableCcipRead?0:-1))}async#Ze(e,t,n){let r=this._getAddress(t),s=this._getBlockTag(n);return"string"==typeof r&&"string"==typeof s||([r,s]=await Promise.all([r,s])),await this.#Ke(this.#_e(Object.assign(e,{address:r,blockTag:s})))}async getBalance(e,t){return ph(await this.#Ze({method:"getBalance"},e,t),"%response")}async getTransactionCount(e,t){return gh(await this.#Ze({method:"getTransactionCount"},e,t),"%response")}async getCode(e,t){return nh(await this.#Ze({method:"getCode"},e,t))}async getStorage(e,t,n){const r=ph(t,"position");return nh(await this.#Ze({method:"getStorage",position:r},e,n))}async broadcastTransaction(e){const{blockNumber:t,hash:n,network:r}=await Gd({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),s=Yw.from(e);if(s.hash!==n)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(s,r).replaceableTransaction(t)}async#Qe(e,t){if(Xd(e,32))return await this.#_e({method:"getBlock",blockHash:e,includeTransactions:t});let n=this._getBlockTag(e);return"string"!=typeof n&&(n=await n),await this.#_e({method:"getBlock",blockTag:n,includeTransactions:t})}async getBlock(e,t){const{network:n,params:r}=await Gd({network:this.getNetwork(),params:this.#Qe(e,!!t)});return null==r?null:this._wrapBlock(r,n)}async getTransaction(e){const{network:t,params:n}=await Gd({network:this.getNetwork(),params:this.#_e({method:"getTransaction",hash:e})});return null==n?null:this._wrapTransactionResponse(n,t)}async getTransactionReceipt(e){const{network:t,params:n}=await Gd({network:this.getNetwork(),params:this.#_e({method:"getTransactionReceipt",hash:e})});if(null==n)return null;if(null==n.gasPrice&&null==n.effectiveGasPrice){const t=await this.#_e({method:"getTransaction",hash:e});if(null==t)throw new Error("report this; could not find tx or effectiveGasPrice");n.effectiveGasPrice=t.gasPrice}return this._wrapTransactionReceipt(n,t)}async getTransactionResult(e){const{result:t}=await Gd({network:this.getNetwork(),result:this.#_e({method:"getTransactionResult",hash:e})});return null==t?null:nh(t)}async getLogs(e){let t=this._getFilter(e);Fv(t)&&(t=await t);const{network:n,params:r}=await Gd({network:this.getNetwork(),params:this.#_e({method:"getLogs",filter:t})});return r.map((e=>this._wrapLog(e,n)))}_getProvider(e){Vd(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await av.fromName(this,e)}async getAvatar(e){const t=await this.getResolver(e);return t?await t.getAvatar():null}async resolveName(e){const t=await this.getResolver(e);return t?await t.getAddress():null}async lookupAddress(e){const t=$g((e=Bp(e)).substring(2).toLowerCase()+".addr.reverse");try{const n=await av.getEnsAddress(this),r=new Ty(n,["function resolver(bytes32) view returns (address)"],this),s=await r.resolver(t);if(null==s||s===Sm)return null;const a=new Ty(s,["function name(bytes32) view returns (string)"],this),i=await a.name(t);return await this.resolveName(i)!==e?null:i}catch(e){if(zd(e,"BAD_DATA")&&"0x"===e.value)return null;if(zd(e,"CALL_EXCEPTION"))return null;throw e}return null}async waitForTransaction(e,t,n){const r=null!=t?t:1;return 0===r?this.getTransactionReceipt(e):new Promise((async(t,s)=>{let a=null;const i=async n=>{try{const s=await this.getTransactionReceipt(e);if(null!=s&&n-s.blockNumber+1>=r)return t(s),void(a&&(clearTimeout(a),a=null))}catch(e){console.log("EEE",e)}this.once("block",i)};null!=n&&(a=setTimeout((()=>{null!=a&&(a=null,this.off("block",i),s($d("timeout","TIMEOUT",{reason:"timeout"})))}),n)),i(await this.getBlockNumber())}))}async waitForBlock(e){Vd(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const t=this.#$e.get(e);t&&(t.timer&&clearTimeout(t.timer),this.#$e.delete(e))}_setTimeout(e,t){null==t&&(t=0);const n=this.#qe++,r=()=>{this.#$e.delete(n),e()};if(this.paused)this.#$e.set(n,{timer:null,func:r,time:t});else{const e=setTimeout(r,t);this.#$e.set(n,{timer:e,func:r,time:Gv()})}return n}_forEachSubscriber(e){for(const t of this.#De.values())e(t.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new Dv(e.type);case"block":{const e=new Bv(this);return e.pollingInterval=this.pollingInterval,e}case"safe":case"finalized":return new Cv(this,e.type);case"event":return new Rv(this,e.filter);case"transaction":return new Ov(this,e.hash);case"orphan":return new Nv(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,t){for(const n of this.#De.values())if(n.subscriber===e){n.started&&n.subscriber.stop(),n.subscriber=t,n.started&&t.start(),null!=this.#Le&&t.pause(this.#Le);break}}async#We(e,t){let n=await Mv(e,this);return"event"===n.type&&t&&t.length>0&&!0===t[0].removed&&(n=await Mv({orphan:"drop-log",log:t[0]},this)),this.#De.get(n.tag)||null}async#Ye(e){const t=await Mv(e,this),n=t.tag;let r=this.#De.get(n);return r||(r={subscriber:this._getSubscriber(t),tag:n,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#De.set(n,r)),r}async on(e,t){const n=await this.#Ye(e);return n.listeners.push({listener:t,once:!1}),n.started||(n.subscriber.start(),n.started=!0,null!=this.#Le&&n.subscriber.pause(this.#Le)),this}async once(e,t){const n=await this.#Ye(e);return n.listeners.push({listener:t,once:!0}),n.started||(n.subscriber.start(),n.started=!0,null!=this.#Le&&n.subscriber.pause(this.#Le)),this}async emit(e,...t){const n=await this.#We(e,t);if(!n||0===n.listeners.length)return!1;const r=n.listeners.length;return n.listeners=n.listeners.filter((({listener:n,once:r})=>{const s=new Ym(this,r?null:n,e);try{n.call(this,...t,s)}catch(e){}return!r})),0===n.listeners.length&&(n.started&&n.subscriber.stop(),this.#De.delete(n.tag)),r>0}async listenerCount(e){if(e){const t=await this.#We(e);return t?t.listeners.length:0}let t=0;for(const{listeners:e}of this.#De.values())t+=e.length;return t}async listeners(e){if(e){const t=await this.#We(e);return t?t.listeners.map((({listener:e})=>e)):[]}let t=[];for(const{listeners:e}of this.#De.values())t=t.concat(e.map((({listener:e})=>e)));return t}async off(e,t){const n=await this.#We(e);if(!n)return this;if(t){const e=n.listeners.map((({listener:e})=>e)).indexOf(t);e>=0&&n.listeners.splice(e,1)}return t&&0!==n.listeners.length||(n.started&&n.subscriber.stop(),this.#De.delete(n.tag)),this}async removeAllListeners(e){if(e){const{tag:t,started:n,subscriber:r}=await this.#Ye(e);n&&r.stop(),this.#De.delete(t)}else for(const[e,{started:t,subscriber:n}]of this.#De)t&&n.stop(),this.#De.delete(e);return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return this.off(e,t)}get destroyed(){return this.#Me}destroy(){this.removeAllListeners();for(const e of this.#$e.keys())this._clearTimeout(e);this.#Me=!0}get paused(){return null!=this.#Le}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(this.#ze=-1,null!=this.#Le){if(this.#Le==!!e)return;Vd(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber((t=>t.pause(e))),this.#Le=!!e;for(const e of this.#$e.values())e.timer&&clearTimeout(e.timer),e.time=Gv()-e.time}resume(){if(null!=this.#Le){this._forEachSubscriber((e=>e.resume())),this.#Le=null;for(const e of this.#$e.values()){let t=e.time;t<0&&(t=0),e.time=Gv(),setTimeout(e.func,t)}}}}function zv(e,t){try{const n=qv(e,t);if(n)return Wp(n)}catch(e){}return null}function qv(e,t){if("0x"===e)return null;try{const n=gh(ah(e,t,t+32)),r=gh(ah(e,n,n+32));return ah(e,n+32,n+32+r)}catch(e){}return null}function $v(e){const t=wh(e);if(t.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(t,32-t.length),n}function Vv(e){if(e.length%32==0)return e;const t=new Uint8Array(32*Math.ceil(e.length/32));return t.set(e),t}const _v=new Uint8Array([]);function Qv(e){const t=[];let n=0;for(let r=0;r<e.length;r++)t.push(_v),n+=32;for(let r=0;r<e.length;r++){const s=Wd(e[r]);t[r]=$v(n),t.push($v(s.length)),t.push(Vv(s)),n+=32+32*Math.ceil(s.length/32)}return rh(t)}const Jv="0x0000000000000000000000000000000000000000000000000000000000000000";function Kv(e,t){if(e.provider)return e.provider;Vd(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:t})}async function Zv(e,t){let n=Vm(t);if(null!=n.to&&(n.to=tm(n.to,e)),null!=n.from){const t=n.from;n.from=Promise.all([e.getAddress(),tm(t,e)]).then((([e,t])=>(_d(e.toLowerCase()===t.toLowerCase(),"transaction from mismatch","tx.from",t),e)))}else n.from=e.getAddress();return await Gd(n)}class Wv{provider;constructor(e){jd(this,{provider:e||null})}async getNonce(e){return Kv(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await Zv(this,e)}async populateTransaction(e){const t=Kv(this,"populateTransaction"),n=await Zv(this,e);null==n.nonce&&(n.nonce=await this.getNonce("pending")),null==n.gasLimit&&(n.gasLimit=await this.estimateGas(n));const r=await this.provider.getNetwork();null!=n.chainId?_d(ph(n.chainId)===r.chainId,"transaction chainId mismatch","tx.chainId",e.chainId):n.chainId=r.chainId;const s=null!=n.maxFeePerGas||null!=n.maxPriorityFeePerGas;if(null==n.gasPrice||2!==n.type&&!s?0!==n.type&&1!==n.type||!s||_d(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e):_d(!1,"eip-1559 transaction do not support gasPrice","tx",e),2!==n.type&&null!=n.type||null==n.maxFeePerGas||null==n.maxPriorityFeePerGas)if(0===n.type||1===n.type){const e=await t.getFeeData();Vd(null!=e.gasPrice,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),null==n.gasPrice&&(n.gasPrice=e.gasPrice)}else{const e=await t.getFeeData();if(null==n.type)if(null!=e.maxFeePerGas&&null!=e.maxPriorityFeePerGas)if(n.type=2,null!=n.gasPrice){const e=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=e,n.maxPriorityFeePerGas=e}else null==n.maxFeePerGas&&(n.maxFeePerGas=e.maxFeePerGas),null==n.maxPriorityFeePerGas&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas);else null!=e.gasPrice?(Vd(!s,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),null==n.gasPrice&&(n.gasPrice=e.gasPrice),n.type=0):Vd(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else 2!==n.type&&3!==n.type||(null==n.maxFeePerGas&&(n.maxFeePerGas=e.maxFeePerGas),null==n.maxPriorityFeePerGas&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas))}else n.type=2;return await Gd(n)}async estimateGas(e){return Kv(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return Kv(this,"call").call(await this.populateCall(e))}async resolveName(e){const t=Kv(this,"resolveName");return await t.resolveName(e)}async sendTransaction(e){const t=Kv(this,"sendTransaction"),n=await this.populateTransaction(e);delete n.from;const r=Yw.from(n);return await t.broadcastTransaction(await this.signTransaction(r))}}class Yv{#Be;#Xe;#Ie;#Re;#et;#tt;constructor(e){this.#Be=e,this.#Xe=null,this.#Ie=this.#Oe.bind(this),this.#Re=!1,this.#et=null,this.#tt=!1}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,t){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}async#Oe(e){try{null==this.#Xe&&(this.#Xe=this._subscribe(this.#Be));let e=null;try{e=await this.#Xe}catch(e){if(!zd(e,"UNSUPPORTED_OPERATION")||"eth_newFilter"!==e.operation)throw e}if(null==e)return this.#Xe=null,void this.#Be._recoverSubscriber(this,this._recover(this.#Be));const t=await this.#Be.getNetwork();if(this.#et||(this.#et=t),this.#et.chainId!==t.chainId)throw new Error("chaid changed");if(this.#tt)return;const n=await this.#Be.send("eth_getFilterChanges",[e]);await this._emitResults(this.#Be,n)}catch(e){console.log("@TODO",e)}this.#Be.once("block",this.#Ie)}#nt(){const e=this.#Xe;e&&(this.#Xe=null,e.then((e=>{this.#Be.destroyed||this.#Be.send("eth_uninstallFilter",[e])})))}start(){this.#Re||(this.#Re=!0,this.#Oe(-2))}stop(){this.#Re&&(this.#Re=!1,this.#tt=!0,this.#nt(),this.#Be.off("block",this.#Ie))}pause(e){e&&this.#nt(),this.#Be.off("block",this.#Ie)}resume(){this.start()}}class Xv extends Yv{#rt;constructor(e,t){var n;super(e),this.#rt=(n=t,JSON.parse(JSON.stringify(n)))}_recover(e){return new Rv(e,this.#rt)}async _subscribe(e){return await e.send("eth_newFilter",[this.#rt])}async _emitResults(e,t){for(const n of t)e.emit(this.#rt,e._wrapLog(n,e._network))}}class eA extends Yv{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,t){for(const n of t)e.emit("pending",n)}}const tA="bigint,boolean,function,number,string,symbol".split(/,/g);function nA(e){if(null==e||tA.indexOf(typeof e)>=0)return e;if("function"==typeof e.getAddress)return e;if(Array.isArray(e))return e.map(nA);if("object"==typeof e)return Object.keys(e).reduce(((t,n)=>(t[n]=e[n],t)),{});throw new Error(`should not happen: ${e} (${typeof e})`)}function rA(e){return new Promise((t=>{setTimeout(t,e)}))}function sA(e){return e?e.toLowerCase():e}function aA(e){return e&&"number"==typeof e.pollingInterval}const iA={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class oA extends Wv{address;constructor(e,t){super(e),jd(this,{address:t=Bp(t)})}connect(e){Vd(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){const t=nA(e),n=[];if(t.from){const r=t.from;n.push((async()=>{const n=await tm(r,this.provider);_d(null!=n&&n.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=n})())}else t.from=this.address;if(null==t.gasLimit&&n.push((async()=>{t.gasLimit=await this.provider.estimateGas({...t,from:this.address})})()),null!=t.to){const e=t.to;n.push((async()=>{t.to=await tm(e,this.provider)})())}n.length&&await Promise.all(n);const r=this.provider.getRpcTransaction(t);return this.provider.send("eth_sendTransaction",[r])}async sendTransaction(e){const t=await this.provider.getBlockNumber(),n=await this.sendUncheckedTransaction(e);return await new Promise(((e,r)=>{const s=[1e3,100];let a=0;const i=async()=>{try{const r=await this.provider.getTransaction(n);if(null!=r)return void e(r.replaceableTransaction(t))}catch(e){if(zd(e,"CANCELLED")||zd(e,"BAD_DATA")||zd(e,"NETWORK_ERROR"))return null==e.info&&(e.info={}),e.info.sendTransactionHash=n,void r(e);if(zd(e,"INVALID_ARGUMENT")&&(a++,null==e.info&&(e.info={}),e.info.sendTransactionHash=n,a>10))return void r(e);this.provider.emit("error",$d("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:e}))}this.provider._setTimeout((()=>{i()}),s.pop()||4e3)};i()}))}async signTransaction(e){const t=nA(e);if(t.from){const n=await tm(t.from,this.provider);_d(null!=n&&n.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=n}else t.from=this.address;const n=this.provider.getRpcTransaction(t);return await this.provider.send("eth_signTransaction",[n])}async signMessage(e){const t="string"==typeof e?Zp(e):e;return await this.provider.send("personal_sign",[nh(t),this.address.toLowerCase()])}async signTypedData(e,t,n){const r=nA(n),s=await ym.resolveNames(e,t,r,(async e=>{const t=await tm(e);return _d(null!=t,"TypedData does not support null address","value",e),t}));return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(ym.getPayload(s.domain,t,s.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){const t="string"==typeof e?Zp(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),nh(t)])}}class cA extends Hv{#u;#st;#at;#it;#ot;#et;#ct;#lt(){if(this.#it)return;const e=1===this._getOption("batchMaxCount")?0:this._getOption("batchStallTime");this.#it=setTimeout((()=>{this.#it=null;const e=this.#at;for(this.#at=[];e.length;){const t=[e.shift()];for(;e.length&&t.length!==this.#u.batchMaxCount;)if(t.push(e.shift()),JSON.stringify(t.map((e=>e.payload))).length>this.#u.batchMaxSize){e.unshift(t.pop());break}(async()=>{const e=1===t.length?t[0].payload:t.map((e=>e.payload));this.emit("debug",{action:"sendRpcPayload",payload:e});try{const n=await this._send(e);this.emit("debug",{action:"receiveRpcResult",result:n});for(const{resolve:e,reject:r,payload:s}of t){if(this.destroyed){r($d("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:s.method}));continue}const t=n.filter((e=>e.id===s.id))[0];if(null!=t)"error"in t?r(this.getRpcError(s,t)):e(t.result);else{const e=$d("missing response for request","BAD_DATA",{value:n,info:{payload:s}});this.emit("error",e),r(e)}}}catch(e){this.emit("debug",{action:"receiveRpcError",error:e});for(const{reject:n}of t)n(e)}})()}}),e)}constructor(e,t){super(e,t),this.#st=1,this.#u=Object.assign({},iA,t||{}),this.#at=[],this.#it=null,this.#et=null,this.#ct=null;{let e=null;const t=new Promise((t=>{e=t}));this.#ot={promise:t,resolve:e}}const n=this._getOption("staticNetwork");"boolean"==typeof n?(_d(!n||"any"!==e,"staticNetwork cannot be used on special network 'any'","options",t),n&&null!=e&&(this.#et=Ev.from(e))):n&&(_d(null==e||n.matches(e),"staticNetwork MUST match network object","options",t),this.#et=n)}_getOption(e){return this.#u[e]}get _network(){return Vd(this.#et,"network is not available yet","NETWORK_ERROR"),this.#et}async _perform(e){if("call"===e.method||"estimateGas"===e.method){let t=e.transaction;if(t&&null!=t.type&&ph(t.type)&&null==t.maxFeePerGas&&null==t.maxPriorityFeePerGas){const n=await this.getFeeData();null==n.maxFeePerGas&&null==n.maxPriorityFeePerGas&&(e=Object.assign({},e,{transaction:Object.assign({},t,{type:void 0})}))}}const t=this.getRpcRequest(e);return null!=t?await this.send(t.method,t.args):super._perform(e)}async _detectNetwork(){const e=this._getOption("staticNetwork");if(e){if(!0!==e)return e;if(this.#et)return this.#et}return this.#ct?await this.#ct:this.ready?(this.#ct=(async()=>{try{const e=Ev.from(ph(await this.send("eth_chainId",[])));return this.#ct=null,e}catch(e){throw this.#ct=null,e}})(),await this.#ct):(this.#ct=(async()=>{const e={id:this.#st++,method:"eth_chainId",params:[],jsonrpc:"2.0"};let t;this.emit("debug",{action:"sendRpcPayload",payload:e});try{t=(await this._send(e))[0],this.#ct=null}catch(e){throw this.#ct=null,this.emit("debug",{action:"receiveRpcError",error:e}),e}if(this.emit("debug",{action:"receiveRpcResult",result:t}),"result"in t)return Ev.from(ph(t.result));throw this.getRpcError(e,t)})(),await this.#ct)}_start(){null!=this.#ot&&null!=this.#ot.resolve&&(this.#ot.resolve(),this.#ot=null,(async()=>{for(;null==this.#et&&!this.destroyed;)try{this.#et=await this._detectNetwork()}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",$d("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await rA(1e3)}this.#lt()})())}async _waitUntilReady(){if(null!=this.#ot)return await this.#ot.promise}_getSubscriber(e){return"pending"===e.type?new eA(this):"event"===e.type?this._getOption("polling")?new Rv(this,e.filter):new Xv(this,e.filter):"orphan"===e.type&&"drop-log"===e.filter.orphan?new Dv("orphan"):super._getSubscriber(e)}get ready(){return null==this.#ot}getRpcTransaction(e){const t={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach((n=>{if(null==e[n])return;let r=n;"gasLimit"===n&&(r="gas"),t[r]=vh(ph(e[n],`tx.${n}`))})),["from","to","data"].forEach((n=>{null!=e[n]&&(t[n]=nh(e[n]))})),e.accessList&&(t.accessList=bm(e.accessList)),e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes.map((e=>e.toLowerCase()))),t}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[sA(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[sA(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[sA(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[sA(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&null!=e.filter.address&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(sA):e.filter.address=sA(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,t){const{method:n}=e,{error:r}=t;if("eth_estimateGas"===n&&r.message){const t=r.message;if(!t.match(/revert/i)&&t.match(/insufficient funds/i))return $d("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:r}})}if("eth_call"===n||"eth_estimateGas"===n){const t=uA(r),s=Yf.getBuiltinCallException("eth_call"===n?"call":"estimateGas",e.params[0],t?t.data:null);return s.info={error:r,payload:e},s}const s=JSON.stringify(function(e){const t=[];return dA(e,t),t}(r));if("string"==typeof r.message&&r.message.match(/user denied|ethers-user-denied/i))return $d("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[n]||"unknown",reason:"rejected",info:{payload:e,error:r}});if("eth_sendRawTransaction"===n||"eth_sendTransaction"===n){const t=e.params[0];if(s.match(/insufficient funds|base fee exceeds gas limit/i))return $d("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:t,info:{error:r}});if(s.match(/nonce/i)&&s.match(/too low/i))return $d("nonce has already been used","NONCE_EXPIRED",{transaction:t,info:{error:r}});if(s.match(/replacement transaction/i)&&s.match(/underpriced/i))return $d("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:t,info:{error:r}});if(s.match(/only replay-protected/i))return $d("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:n,info:{transaction:t,info:{error:r}}})}let a=!!s.match(/the method .* does not exist/i);return a||r&&r.details&&r.details.startsWith("Unauthorized method:")&&(a=!0),a?$d("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:r,payload:e}}):$d("could not coalesce error","UNKNOWN_ERROR",{error:r,payload:e})}send(e,t){if(this.destroyed)return Promise.reject($d("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));const n=this.#st++,r=new Promise(((r,s)=>{this.#at.push({resolve:r,reject:s,payload:{method:e,params:t,id:n,jsonrpc:"2.0"}})}));return this.#lt(),r}async getSigner(e){null==e&&(e=0);const t=this.send("eth_accounts",[]);if("number"==typeof e){const n=await t;if(e>=n.length)throw new Error("no such account");return new oA(this,n[e])}const{accounts:n}=await Gd({network:this.getNetwork(),accounts:t});e=Bp(e);for(const t of n)if(Bp(t)===e)return new oA(this,e);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map((e=>new oA(this,e)))}destroy(){this.#it&&(clearTimeout(this.#it),this.#it=null);for(const{payload:e,reject:t}of this.#at)t($d("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));this.#at=[],super.destroy()}}class lA extends cA{#ut;constructor(e,t){super(e,t);let n=this._getOption("pollingInterval");null==n&&(n=iA.pollingInterval),this.#ut=n}_getSubscriber(e){const t=super._getSubscriber(e);return aA(t)&&(t.pollingInterval=this.#ut),t}get pollingInterval(){return this.#ut}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw new Error("invalid interval");this.#ut=e,this._forEachSubscriber((e=>{aA(e)&&(e.pollingInterval=this.#ut)}))}}function uA(e){if(null==e)return null;if("string"==typeof e.message&&e.message.match(/revert/i)&&Xd(e.data))return{message:e.message,data:e.data};if("object"==typeof e){for(const t in e){const n=uA(e[t]);if(n)return n}return null}if("string"==typeof e)try{return uA(JSON.parse(e))}catch(e){}return null}function dA(e,t){if(null!=e){if("string"==typeof e.message&&t.push(e.message),"object"==typeof e)for(const n in e)dA(e[n],t);if("string"==typeof e)try{return dA(JSON.parse(e),t)}catch(e){}}}class hA extends lA{#G;constructor(e,t,n){const r=Object.assign({},null!=n?n:{},{batchMaxCount:1});_d(e&&e.request,"invalid EIP-1193 provider","ethereum",e),super(t,r),this.#G=async(t,n)=>{const r={method:t,params:n};this.emit("debug",{action:"sendEip1193Request",payload:r});try{const t=await e.request(r);return this.emit("debug",{action:"receiveEip1193Result",result:t}),t}catch(e){const t=new Error(e.message);throw t.code=e.code,t.data=e.data,t.payload=r,this.emit("debug",{action:"receiveEip1193Error",error:t}),t}}}async send(e,t){return await this._start(),await super.send(e,t)}async _send(e){_d(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{const t=await this.#G(e.method,e.params||[]);return[{id:e.id,result:t}]}catch(t){return[{id:e.id,error:{code:t.code,data:t.data,message:t.message}}]}}getRpcError(e,t){switch((t=JSON.parse(JSON.stringify(t))).error.code||-1){case 4001:t.error.message=`ethers-user-denied: ${t.error.message}`;break;case 4200:t.error.message=`ethers-unsupported: ${t.error.message}`}return super.getRpcError(e,t)}async hasSigner(e){null==e&&(e=0);const t=await this.send("eth_accounts",[]);return"number"==typeof e?t.length>e:(e=e.toLowerCase(),0!==t.filter((t=>t.toLowerCase()===e)).length)}async getSigner(e){if(null==e&&(e=0),!await this.hasSigner(e))try{await this.#G("eth_requestAccounts",[])}catch(e){const t=e.payload;throw this.getRpcError(t,{id:t.id,error:e})}return await super.getSigner(e)}}function pA(e,t,n,r,s,a,i){try{var o=e[a](i),c=o.value}catch(e){return void n(e)}o.done?t(c):Promise.resolve(c).then(r,s)}function fA(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var a=e.apply(t,n);function i(e){pA(a,r,s,i,o,"next",e)}function o(e){pA(a,r,s,i,o,"throw",e)}i(void 0)}))}}var mA="seal-attestation-token";function yA(){return yA=fA((function*(){try{var e=JSON.parse(Dd.get(mA));return(yield yt.get("".concat(url,"/schemas/getSchemaIdByType/program"),{headers:{"Ngrok-Skip-Browser-Warning":"true",Accept:"application/json",Authorization:"Bearer ".concat(e.accessToken)}})).data}catch(e){throw console.error("Failed to fetch schema:",e.response?e.response.data:e.message),e}})),yA.apply(this,arguments)}function gA(){return gA=fA((function*(){try{var e=JSON.parse(Dd.get(mA));return(yield yt.get("".concat(url,"/profiles/getProfileAttestationIdByProfileId/").concat(profileId),{headers:{"Ngrok-Skip-Browser-Warning":"true",Accept:"application/json",Authorization:"Bearer ".concat(e.accessToken)}})).data}catch(e){throw console.error("Failed to fetch schema:",e.response?e.response.data:e.message),e}})),gA.apply(this,arguments)}function bA(){return bA=fA((function*(e,t){try{var n=window.ethereum,r=new hA(n),s=yield r.getSigner(),a=yield s.getAddress(),i={type:"program",schemaId:t,name:nameProgram,description:descProgram,revocable:!1,maxValidFor:0,indexingValue:"",recipients:[a],data:e},o=yield async function(e,t){const n=new Fd(Ru.OnChain,{chain:t?.chain,account:t?.delegationAccount,rpcUrl:t?.rpcUrl,walletClient:t?.walletClient}),{schemaId:r,linkedAttestationId:s,data:a,validUntil:i,revoked:o,recipients:c,attester:l,indexingValue:u}=e,d=n.getClient(),h=await d.getAccount();if(!e.schemaId)throw new Error("schemaId is required");const p=e.dataLocation||Bu.ONCHAIN,f=await n.getSchema(e.schemaId),m=f?.data;if(!f)throw new Error("schema not found");if(f.dataLocation===Bu.ONCHAIN&&p===Bu.ONCHAIN&&!Uu(a,m))throw new Error("data is not valid");const y={schemaId:r,linkedAttestationId:s||0,attester:l||h?.address,validUntil:i||0,revoked:o||!1,dataLocation:p,attestTimestamp:0,revokeTimestamp:0,recipients:c?.map((e=>is([{name:"data",type:Yr(e)&&t?.recipientEncodingType===Su.Address?Su.Address:Su.String}],[e])))||[],data:Du(a,p,m)},g=await d.invokeContractRead("getDelegatedAttestHash",[y]);return{delegationSignature:await d.signMessage(g),attestation:{...y,indexingValue:u}}}(i,{chain:evmchain});return o}catch(e){throw console.error("Error creating attestation:",e),e}})),bA.apply(this,arguments)}function wA(){return(wA=fA((function*(e){console.log("attestID",e);try{var t=yield fetch("".concat(dirurl,"/js/attestprogram.php"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({attestID:e})}),n=yield t.text();if(console.log("Raw response from attestprogram.php:",n),!t.ok)throw new Error("Network response was not ok");return JSON.parse(n)}catch(e){return console.error("Error sending data to server:",e),{success:!1,error:e.message}}}))).apply(this,arguments)}document.addEventListener("DOMContentLoaded",fA((function*(){console.log("Attestation JS loaded correctly."),console.log("name program.",nameProgram);try{var e=yield function(){return yA.apply(this,arguments)}();console.log("Schema:",e);var t=yield function(){return gA.apply(this,arguments)}();console.log("profileAttestation:",t);var n={name:nameProgram,description:descProgram,programRequirements:reqProgram,modality:programMod,linkedAttestationId:t},r=yield function(e,t){return bA.apply(this,arguments)}(n,e);console.log("info attestation:",r);var s="".concat(url,"/attestations/attestProgramInDelegationMode");if(console.log("url: ",s),!r||!r.attestation||!r.delegationSignature)throw new Error("Invalid attestation response structure");var a={attestationDto:r.attestation,signatureDto:r.delegationSignature,profileIdDto:profileId};console.log("Simplified DTO:",JSON.stringify(a,null,2));try{var i=(yield yt.post(s,a,{headers:{"ngrok-skip-browser-warning":"true",Accept:"application/json",Authorization:"Bearer ".concat("eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZWFsLWF0dGVzdGF0aW9uLXRlc3QiLCJpYXQiOjE3MjM3MjcyMjEsImV4cCI6MTc1NTI2MzIyMX0.ryv_FGvy711GcUpRk9CXJZMU5oI5v8v1KPcxMCjGRpo"),"Content-Type":"application/json"}})).data;console.log("Response: ",i),yield function(e){return wA.apply(this,arguments)}(i)}catch(e){console.error("Error sending attestation:",e.response?e.response.data:e.message)}console.log("Updating view"),setTimeout((()=>{location.reload()}),3e4)}catch(e){console.error("Error in attestation process:",e)}})))})();